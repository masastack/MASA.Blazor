@namespace Masa.Blazor.Docs.Components

@if (Data.Keys.Count > 1)
{
    <OutlineCard Title="Component APIs"
                Class="mb-4">
        <MChipGroup Value="@Value"
                    ValueChanged="@(v => ValueChanged.InvokeAsync(v?.ToString()))"
                    Column
                    Mandatory
                    ActiveClass="primary primary--text">
            @foreach (var key in Data.Keys)
            {
                <MChip Value="@key" Outlined Filter>@key</MChip>
            }
        </MChipGroup>
    </OutlineCard>
}

@if (Value is not null && Data.TryGetValue(Value, out var value))
{
    foreach (var (name, data) in value)
    {
        <ApiSection Name="@name" Data="@data" GithubUri="@GithubUri" />
    }
}

@code {

    [Parameter]
    [EditorRequired]
    public Dictionary<string, Dictionary<string, List<ParameterInfo>>> Data { get; set; } = null!;

    [Parameter]
    public string? Value { get; set; }

    [Parameter]
    public EventCallback<string?> ValueChanged { get; set; }

    [Parameter]
    public string? GithubUri { get; set; }

}
