<MSwitch Value="_isDark" TValue="bool" ValueChanged="IsDarkChanged" Label="@(_isDark?"Dark":"Light")"/>

@code {
    [Inject]
    public MasaBlazor MasaBlazor { get; set; }

    bool _isDark { get; set; }

    protected override Task OnInitializedAsync()
    {
        _isDark = MasaBlazor?.Theme?.Dark ?? false;
        return base.OnInitializedAsync();
    }

    public void IsDarkChanged(bool isDark)
    {
        _isDark = isDark;
        MasaBlazor.ToggleTheme();
    }
}
