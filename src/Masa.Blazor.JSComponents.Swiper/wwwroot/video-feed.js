class e{constructor(e,t){this.videoSelector=e,this.dotNetHelper=t,this.videoEl=document.querySelector(e)}init(){console.log("VideoFeed init",this.videoEl);let e,t=1;return this.videoEl.duration?(e=this.videoEl.duration,t=this.videoEl.videoWidth/this.videoEl.videoHeight):(console.log("VideoFeed not loaded yet",this.videoEl),this.videoEl.addEventListener("loadedmetadata",(()=>{e=this.videoEl.duration,t=this.videoEl.videoWidth/this.videoEl.videoHeight,console.log("VideoFeed loadedmetadata",e,t),this.dotNetHelper.invokeMethodAsync("OnLoadedMetadata",{duration:e,aspectRatio:t})}))),this.videoEl.addEventListener("timeupdate",(e=>{this.dotNetHelper.invokeMethodAsync("OnTimeUpdate",this.videoEl.currentTime)})),this.videoEl.play(),{duration:null!=e?e:0,aspectRatio:t}}update(e){this.videoEl.currentTime=e}requestFullscreen(){this.videoEl.requestFullscreen?this.videoEl.requestFullscreen():this.videoEl.webkitRequestFullscreen?this.videoEl.webkitRequestFullscreen():this.videoEl.mozRequestFullScreen?this.videoEl.mozRequestFullScreen():this.videoEl.msRequestFullscreen&&this.videoEl.msRequestFullscreen()}toggleMute(e){this.videoEl.muted=void 0!==e?e:!this.videoEl.muted}pause(){this.videoEl.pause()}play(){this.videoEl.play()}}function t(t,i){return new e("#"+t,i)}export{t as create};
//# sourceMappingURL=video-feed.js.map
