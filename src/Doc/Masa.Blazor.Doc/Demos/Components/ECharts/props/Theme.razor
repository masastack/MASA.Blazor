<div class="d-flex flex-column align-center justify-center">
    <MECharts Option="option" Theme="@theme" Width="@("100%")" @ref="echarts"></MECharts>

    <MRadioGroup TValue="string" Value="theme" ValueChanged="SetTheme" Row>
        <MRadio Label="default"
                Value="@("")">
        </MRadio>
        <MRadio Label="light"
                Value="@("light")">
        </MRadio>
        <MRadio Label="dark"
                Value="@("dark")">
        </MRadio>
        <MRadio Label="vintage"
                Value="@("vintage")">
        </MRadio>
    </MRadioGroup>
</div>

@code{
    private MECharts echarts;
    private string theme = string.Empty;

    private object option = new
    {
        Title = new
        {
            Left = "center",
            Text = "Getting started"
        },
        Tooltip = new { },
        Legend = new
        {
            Right = "20px",
            Data = new[] { "Sales" }
        },
        XAxis = new
        {
            Data = new[] { "Shirt", "Cardigan", "Chiffon shirt", "Pants", "High heel", "Sock" }
        },
        YAxis = new { },
        Series = new[]
        {
            new
            {
                Name = "sales",
                Type = "bar",
                Data = new[] { 5, 20, 36, 10, 10, 20 }
            }
        }
    };

    private async Task SetTheme(string val)
    {
        if (theme != null && echarts != null)
        {
            await echarts.DisposeECharts();
        }

        theme = val;
    }

}
