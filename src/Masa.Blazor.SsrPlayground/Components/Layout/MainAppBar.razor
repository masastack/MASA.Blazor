@using BlazorComponent.I18n
@using System.Globalization
@rendermode InteractiveServer
@inject MasaBlazorProvider MasaBlazorProvider
@inject I18n I18n

<MAppBar App ClippedLeft>
    @I18n.T("$masaBlazor.ok")
    
    <MSpacer />
    <MButton Icon OnClick="@ToggleTheme">
        <MIcon>@(MasaBlazorProvider.MasaBlazor.Theme.Dark ? "mdi-weather-sunny" : "mdi-weather-night")</MIcon>
    </MButton>
    <MButton Icon OnClick="@ToggleRtl">
        <MIcon>@(MasaBlazorProvider.MasaBlazor.RTL ? "mdi-format-pilcrow-arrow-left" : "mdi-format-pilcrow-arrow-right")</MIcon>
    </MButton>
    <MButton Icon OnClick="@ToggleCulture">
        <MIcon>@(I18n.Culture.Name == "en-US" ? "mdi-translate" : "mdi-translate-off")</MIcon>
    </MButton>
</MAppBar>

@code {

    private void ToggleTheme()
    {
        MasaBlazorProvider.ToggleTheme();
    }

    private void ToggleRtl()
    {
        MasaBlazorProvider.ToggleRtl();
    }

    private void ToggleCulture()
    {
        I18n.SetCulture(I18n.Culture.Name == "en-US" ? new CultureInfo("zh-CN") : new CultureInfo("en-US"));
    }

}
