@using BlazorComponent.I18n
@inject MasaBlazor MasaBlazor
@inject I18n I18n

<MNavigationDrawer App Clipped Class="app-nav-drawer">
    <MList Routable Nav>
        <MListItem Href="/">Home</MListItem>
        <MListItem Href="/counter">Counter</MListItem>
        <MListItem Href="/weather">Weather</MListItem>
    </MList>
</MNavigationDrawer>

<MAppBar App ClippedLeft >
    <MAppBarNavIcon Class="app-nav-toggle" />
    <MSpacer />
    @* <MButton Class="app-bar-toggle-theme" Icon> *@
    @*     <MIcon>@(MasaBlazor.Theme.Dark ? "mdi-weather-sunny" : "mdi-weather-night")</MIcon> *@
    @* </MButton> *@
    @* <MButton Icon OnClick="@ToggleRtl"> *@
    @*     <MIcon>@(MasaBlazor.RTL ? "mdi-format-pilcrow-arrow-left" : "mdi-format-pilcrow-arrow-right")</MIcon> *@
    @* </MButton> *@
    @* <MButton Icon OnClick="@ToggleCulture"> *@
    @*     <MIcon>@(I18n.Culture.Name == "en-US" ? "mdi-translate" : "mdi-translate-off")</MIcon> *@
    @* </MButton> *@
</MAppBar>

<BlazorPageScript.PageScript Src="./Components/Layout/MainNav.razor.js" />

@code {

    // [CascadingParameter] public TestModel TestModel { get; set; }

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);

        Console.Out.WriteLine("MainNav ~~ OnAfterRender");
    }
    
    private void ToggleTheme()
    {
        MasaBlazor.ToggleTheme();
    }

    private void ToggleRtl()
    {
        // MasaBlazor.ToggleRtl();
    }

    private void ToggleCulture()
    {
        // I18n.SetCulture(I18n.Culture.Name == "en-US" ? new CultureInfo("zh-CN") : new CultureInfo("en-US"));
    }

}