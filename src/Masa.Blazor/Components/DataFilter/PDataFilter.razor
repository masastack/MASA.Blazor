@namespace Masa.Blazor.Presets
@inherits BDomComponentBase

<div class="@CssProvider.GetClass()"
     style="@CssProvider.GetStyle()"
     id="@Id"
     @ref="Ref">
    <MInputsFilter Dense="@Dense"
                   HideDetails="@HideDetails"
                   OnFieldChanged="@OnFieldChanged"
                   @ref="_inputsFilter">
        <div class="@CssProvider.GetClass("high-frequency")">
            <div class="@CssProvider.GetClass("high-frequency-inputs")">
                @HighFrequencyContent
            </div>
            <MSpacer />
            <div class="@CssProvider.GetClass("high-frequency-actions")">
                @if (ActionsContent is not null)
                {
                    @ActionsContent

                    <MDivider Vertical Class="ml-4 mr-2" />
                }

                <MButton Loading="_reloading"
                         Icon
                         OnClick="@HandleOnClear">
                    <MIcon>mdi-reload</MIcon>
                </MButton>

                <MButton Loading="_searching"
                         Icon
                         OnClick="@HandleOnSearch">
                    <MIcon>mdi-magnify</MIcon>
                </MButton>

                @if (_expanded)
                {
                    <MButton Icon OnClick="@HideLowFrequency">
                        <MIcon>mdi-chevron-up</MIcon>
                    </MButton>
                }
                else
                {
                    <MButton Icon OnClick="@ShowLowFrequency">
                        <MIcon>mdi-chevron-down</MIcon>
                    </MButton>
                }
            </div>
        </div>

        @if (_isBooted)
        {
            <div class="@CssProvider.GetClass("low-frequency")"
                 style="@CssProvider.GetStyle("low-frequency")"
                 @ref="_lowFrequencyRef">
                @LowFrequencyContent
            </div>
        }
    </MInputsFilter>
</div>
