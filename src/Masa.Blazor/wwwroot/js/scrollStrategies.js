function e(e,t){const r=[];if(t&&e&&!t.contains(e))return r;for(;e&&(o(e)&&r.push(e),e!==t);)e=e.parentElement;return r}function o(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const o=window.getComputedStyle(e);return"scroll"===o.overflowY||"auto"===o.overflowY&&e.scrollHeight>e.clientHeight}const t="undefined"!=typeof window;let r=!1;try{if(t){const e=Object.defineProperty({},"passive",{get:()=>{r=!0}});window.addEventListener("testListener",e,e),window.removeEventListener("testListener",e,e)}}catch(e){console.warn(e)}function l(e,o="px"){return null==e||""===e?void 0:isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${o}`:void 0}function n(t,r,n,s,c){return"block"===t.strategy?function(t,r){const n=t.root.offsetParent,s=[...new Set([...e(t.contentEl,r.contained?n:void 0)])],c=(a=n||document.documentElement,o(a)&&a),i=()=>{c&&t.root.classList.add("m-overlay--scroll-blocked");const e=window.innerWidth-document.documentElement.offsetWidth;s.filter((e=>!e.classList.contains("m-overlay-scroll-blocked"))).forEach(((o,t)=>{o.style.setProperty("--m-body-scroll-x",l(-o.scrollLeft)),o.style.setProperty("--m-body-scroll-y",l(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--m-scrollbar-offset",l(e)),o.classList.add("m-overlay-scroll-blocked")}))};var a;return i(),{bind:i,unbind:()=>{s.filter((e=>e.classList.contains("m-overlay-scroll-blocked"))).forEach(((e,o)=>{const t=parseFloat(e.style.getPropertyValue("--m-body-scroll-x")),r=parseFloat(e.style.getPropertyValue("--m-body-scroll-y")),l=e.style.scrollBehavior;e.style.scrollBehavior="auto",e.style.removeProperty("--m-body-scroll-x"),e.style.removeProperty("--m-body-scroll-y"),e.style.removeProperty("--m-scrollbar-offset"),e.classList.remove("m-overlay-scroll-blocked"),e.scrollLeft=-t,e.scrollTop=-r,e.style.scrollBehavior=l})),c&&t.root.classList.remove("m-overlay--scroll-blocked")}}}({root:r,contentEl:n,targetEl:s},t):function(o,t){var r;const l=null!==(r=o.targetEl)&&void 0!==r?r:o.contentEl,n=()=>{var e;null===(e=o.invoker)||void 0===e||e.invokeMethodAsync("ScrollStrategy_OnScroll",t.strategy)},s=[document,...e(l)];return s.forEach((e=>e.addEventListener("scroll",n,{passive:!0}))),{unbind:()=>{var e;null===(e=o.invoker)||void 0===e||e.dispose(),s.forEach((e=>e.removeEventListener("scroll",n)))}}}({root:r,contentEl:n,targetEl:s,invoker:c},t)}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});export{n as useScrollStrategies};
//# sourceMappingURL=scrollStrategies.js.map
