function e(e,t,o,n){return new(o||(o=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}let t=!1;try{if("undefined"!=typeof window){const e=Object.defineProperty({},"passive",{get:()=>{t=!0}});window.addEventListener("testListener",e,e),window.removeEventListener("testListener",e,e)}}catch(e){console.warn(e)}function o(e){const t=e,o={},n=t.getAttributeNames().find((e=>e.startsWith("_bl_")));return n?(o.elementReferenceId=n,o.selector=`[${n}]`):o.selector=function(e){if(e instanceof Element){for(var t=[];e.nodeType===Node.ELEMENT_NODE;){var o=e.nodeName.toLowerCase();if(e.id){o="#"+e.id,t.unshift(o);break}for(var n=e,r=1;n=n.previousElementSibling;)n.nodeName.toLowerCase()==o&&r++;1!=r&&(o+=":nth-of-type("+r+")"),t.unshift(o),e=e.parentNode}return t.join(" > ")}}(t),o.class=t.getAttribute("class"),o}function n(t,n,i){var s;if(!n)throw new Error("the handle cannot be null");if(!t)return void n.dispose();if(t._observe)return;const c=null!==(s=null==i?void 0:i.once)&&void 0!==s&&s,u=a(i),f=new IntersectionObserver(((i=[],s)=>e(this,void 0,void 0,(function*(){const e=i.map((e=>({isIntersecting:e.isIntersecting,target:o(e.target)}))),s=e.some((e=>e.isIntersecting));c&&!s||(yield n.invokeMethodAsync("Invoke",{isIntersecting:s,entries:e})),s&&c&&r(t)}))),u);t._observe=Object(t._observe),t._observe={handle:n,observer:f},f.observe(t)}function r(e){if(!e)return;const t=e._observe;t&&(t.observer.unobserve(e),t.handle.dispose(),delete e._observe)}function i(e,t,o){if(e){const r=document.querySelector(e);r&&n(r,t,o)}}function s(e){if(e){const t=document.querySelector(e);t&&r(t)}}function a(e){if(!e)return null;const t=e.rootSelector?document.querySelector(e.rootSelector):null;return"None"!==e.autoRootMargin&&("Top"===e.autoRootMargin&&"0px"!==e.rootMarginBottom?e.rootMarginTop=c(t,e.rootMarginBottom,!1)+"px":"Right"===e.autoRootMargin&&"0px"!==e.rootMarginLeft?e.rootMarginRight=c(t,e.rootMarginLeft,!1)+"px":"Bottom"===e.autoRootMargin&&"0px"!==e.rootMarginTop?e.rootMarginBottom=c(t,e.rootMarginTop,!1)+"px":"Left"===e.autoRootMargin&&"0px"!==e.rootMarginRight&&(e.rootMarginLeft=c(t,e.rootMarginRight,!1)+"px")),{rootMargin:`${e.rootMarginTop} ${e.rootMarginRight} ${e.rootMarginBottom} ${e.rootMarginLeft}`,root:t,threshold:e.threshold}}function c(e,t,o){e=e||document.documentElement;const n=parseInt(t);if(isNaN(n))return 0;var r=o?e.clientWidth:e.clientHeight;return Math.abs(n)-r}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});export{a as formatToStandardOptions,n as observe,i as observeSelector,r as unobserve,s as unobserveSelector};
//# sourceMappingURL=intersect.js.map
