function e(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((o=o.apply(e,t||[])).next())}))}let t=!1;try{if("undefined"!=typeof window){const e=Object.defineProperty({},"passive",{get:()=>{t=!0}});window.addEventListener("testListener",e,e),window.removeEventListener("testListener",e,e)}}catch(e){console.warn(e)}function n(e){const t=e,n={},o=t.getAttributeNames().find((e=>e.startsWith("_bl_")));return o?(n.elementReferenceId=o,n.selector=`[${o}]`):n.selector=function(e){if(e instanceof Element){for(var t=[];e.nodeType===Node.ELEMENT_NODE;){var n=e.nodeName.toLowerCase();if(e.id){n="#"+e.id,t.unshift(n);break}for(var o=e,r=1;o=o.previousElementSibling;)o.nodeName.toLowerCase()==n&&r++;1!=r&&(n+=":nth-of-type("+r+")"),t.unshift(n),e=e.parentNode}return t.join(" > ")}}(t),n.class=t.getAttribute("class"),n}function o(t,o,i){var s;if(!o)throw new Error("the handle cannot be null");if(!t)return void o.dispose();const c=null!==(s=null==i?void 0:i.once)&&void 0!==s&&s,u=function(e){if(!e)return null;return{rootMargin:e.rootMargin,root:e.rootSelector?document.querySelector(e.rootSelector):null,threshold:e.threshold}}(i),a=new IntersectionObserver(((i=[],s)=>e(this,void 0,void 0,(function*(){const e=i.map((e=>({isIntersecting:e.isIntersecting,target:n(e.target)}))),s=e.some((e=>e.isIntersecting));c&&!s||(yield o.invokeMethodAsync("Invoke",{isIntersecting:s,entries:e})),s&&c&&r(t)}))),u);t._observe=Object(t._observe),t._observe={handle:o,observer:a},a.observe(t)}function r(e){if(!e)return;const t=e._observe;t&&(t.observer.unobserve(e),t.handle.dispose(),delete e._observe)}function i(e,t,n){if(e){const r=document.querySelector(e);r&&o(r,t,n)}}function s(e){if(e){const t=document.querySelector(e);t&&r(t)}}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});export{o as observe,i as observeSelector,r as unobserve,s as unobserveSelector};
//# sourceMappingURL=intersect.js.map
