function t(t,e,o,n){return new(o||(o=Promise))((function(r,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function a(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))}let e=!1;try{if("undefined"!=typeof window){const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});window.addEventListener("testListener",t,t),window.removeEventListener("testListener",t,t)}}catch(t){console.warn(t)}function o(t){const e=t,o={},n=e.getAttributeNames().find((t=>t.startsWith("_bl_")));return n?(o.elementReferenceId=n,o.selector=`[${n}]`):o.selector=function(t){if(t instanceof Element){for(var e=[];t.nodeType===Node.ELEMENT_NODE;){var o=t.nodeName.toLowerCase();if(t.id){o="#"+t.id,e.unshift(o);break}for(var n=t,r=1;n=n.previousElementSibling;)n.nodeName.toLowerCase()==o&&r++;1!=r&&(o+=":nth-of-type("+r+")"),e.unshift(o),t=t.parentNode}return e.join(" > ")}}(e),o.class=e.getAttribute("class"),o}function n(e,n,i){var s;if(!n)throw new Error("the handle cannot be null");if(!e)return void n.dispose();if(e._intersect)return;const c=null!==(s=null==i?void 0:i.once)&&void 0!==s&&s,u=a(i),f=new IntersectionObserver(((i=[],s)=>t(this,void 0,void 0,(function*(){const t=i.map((t=>({isIntersecting:t.isIntersecting,target:o(t.target)}))),s=t.some((t=>t.isIntersecting));c&&!s||(yield n.invokeMethodAsync("Invoke",{isIntersecting:s,entries:t})),s&&c&&r(e)}))),u);e._intersect=Object(e._intersect),e._intersect={handle:n,observer:f},f.observe(e)}function r(t){if(!t)return;const e=t._intersect;e&&(e.observer.unobserve(t),e.handle.dispose(),delete t._intersect)}function i(t,e,o){if(t){const r=document.querySelector(t);r&&n(r,e,o)}}function s(t){if(t){const e=document.querySelector(t);e&&r(e)}}function a(t){if(!t)return null;const e=t.rootSelector?document.querySelector(t.rootSelector):null;return"None"!==t.autoRootMargin&&("Top"===t.autoRootMargin&&"0px"!==t.rootMarginBottom?t.rootMarginTop=c(e,t.rootMarginBottom,!1)+"px":"Right"===t.autoRootMargin&&"0px"!==t.rootMarginLeft?t.rootMarginRight=c(e,t.rootMarginLeft,!1)+"px":"Bottom"===t.autoRootMargin&&"0px"!==t.rootMarginTop?t.rootMarginBottom=c(e,t.rootMarginTop,!1)+"px":"Left"===t.autoRootMargin&&"0px"!==t.rootMarginRight&&(t.rootMarginLeft=c(e,t.rootMarginRight,!1)+"px")),{rootMargin:`${t.rootMarginTop} ${t.rootMarginRight} ${t.rootMarginBottom} ${t.rootMarginLeft}`,root:e,threshold:t.threshold}}function c(t,e,o){t=t||document.documentElement;const n=parseInt(e);if(isNaN(n))return 0;var r=o?t.clientWidth:t.clientHeight;return Math.abs(n)-r}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});export{a as formatToStandardOptions,n as observe,i as observeSelector,r as unobserve,s as unobserveSelector};
//# sourceMappingURL=intersect.js.map
