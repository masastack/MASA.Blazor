{"version":3,"file":"index.js","sources":["../../../../../Masa.Blazor.JS/node_modules/.pnpm/just-throttle@4.2.0/node_modules/just-throttle/index.mjs","../../../../../Masa.Blazor.JS/src/mixins/resize.ts"],"sourcesContent":["var functionThrottle = throttle;\n\nfunction throttle(fn, interval, options) {\n  var timeoutId = null;\n  var throttledFn = null;\n  var leading = (options && options.leading);\n  var trailing = (options && options.trailing);\n\n  if (leading == null) {\n    leading = true; // default\n  }\n\n  if (trailing == null) {\n    trailing = !leading; //default\n  }\n\n  if (leading == true) {\n    trailing = false; // forced because there should be invocation per call\n  }\n\n  var cancel = function() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n  };\n\n  var flush = function() {\n    var call = throttledFn;\n    cancel();\n\n    if (call) {\n      call();\n    }\n  };\n\n  var throttleWrapper = function() {\n    var callNow = leading && !timeoutId;\n    var context = this;\n    var args = arguments;\n\n    throttledFn = function() {\n      return fn.apply(context, args);\n    };\n\n    if (!timeoutId) {\n      timeoutId = setTimeout(function() {\n        timeoutId = null;\n\n        if (trailing) {\n          return throttledFn();\n        }\n      }, interval);\n    }\n\n    if (callNow) {\n      callNow = false;\n      return throttledFn();\n    }\n  };\n\n  throttleWrapper.cancel = cancel;\n  throttleWrapper.flush = flush;\n\n  return throttleWrapper;\n}\n\nexport {functionThrottle as default};\n","import throttle from \"just-throttle\";\r\n\r\nfunction observe(el: HTMLElement, handle: DotNet.DotNetObject) {\r\n  if (!handle) {\r\n    throw new Error(\"the handle from .NET cannot be null\");\r\n  }\r\n\r\n  if (!el) {\r\n    handle.dispose();\r\n    return;\r\n  }\r\n\r\n  const throttled = throttle(\r\n    () => {\r\n      if (!handle) return;\r\n      handle.invokeMethodAsync(\"Invoke\");\r\n    },\r\n    300,\r\n    { trailing: true }\r\n  );\r\n\r\n  const observer = new ResizeObserver(\r\n    async (entries: ResizeObserverEntry[] = []) => {\r\n      if (!entries.length) return;\r\n      throttled();\r\n    }\r\n  );\r\n\r\n  el._resizeObserver = Object(el._resizeObserver);\r\n  el._resizeObserver = { handle, observer };\r\n\r\n    observer.observe(el);\r\n}\r\n\r\nfunction unobserve(el: HTMLElement) {\r\n  if (!el) return;\r\n\r\n  if (!el._resizeObserver) return;\r\n\r\n  el._resizeObserver.observer.unobserve(el);\r\n  el._resizeObserver.handle.dispose();\r\n  delete el._resizeObserver;\r\n}\r\n\r\nfunction observeSelector(\r\n  selector: string,\r\n  handle: DotNet.DotNetObject\r\n) {\r\n  if (selector) {\r\n    const el = document.querySelector(selector) as HTMLElement;\r\n    el && observe(el, handle);\r\n  }\r\n}\r\n\r\nfunction unobserveSelector(selector: string) {\r\n  if (selector) {\r\n    const el = document.querySelector(selector) as HTMLElement;\r\n    el && unobserve(el);\r\n  }\r\n}\r\n\r\nexport { observe, unobserve, observeSelector, unobserveSelector };\r\n"],"names":["throttle"],"mappings":"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"}