import{e}from"../../chunks/helper-f5ba51cf.js";class t{constructor(e,t){this.lastMousedownWasOutside=!0,this.lastMousedownTarget=null,this.dotNetHelper=e,this.excludedSelectors=t}genListeners(){this.listener=e=>{if(this.checkEvent(e))return;this.lastMousedownTarget===e.target&&this.lastMousedownWasOutside&&this.dotNetHelper.invokeMethodAsync("OnOutsideClick")},this.mousedownListener=e=>{this.lastMousedownWasOutside=!this.checkEvent(e),this.lastMousedownTarget=e.target}}addListeners(){this.genListeners(),document.addEventListener("click",this.listener,!0),document.addEventListener("mousedown",this.mousedownListener,!0)}removeListeners(){document.removeEventListener("click",this.listener,!0),document.removeEventListener("mousedown",this.mousedownListener,!0)}resetListener(){this.removeListeners(),this.addListeners()}updateExcludeSelectors(e){this.excludedSelectors=e}checkEvent(t){return this.excludedSelectors.some(s=>{const n=e(s);if(n)return n.contains(t.target);return Array.from(document.querySelectorAll(s)).some(e=>e.contains(t.target))})}unbind(){this.removeListeners()}}function s(e,s){var n=new t(e,s);return n.addListeners(),n}export{s as init};
//# sourceMappingURL=index-b6f528bb.js.map
