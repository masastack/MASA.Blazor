import{f as e}from"../../chunks/helper-f5ba51cf.js";const t=new Map;function n(n,s){const u=e(n);if(!u)return null;t.has(u)&&o(u);const i=e=>function(t){var n,o,u,i;"touch"===e&&t.preventDefault();const c=t.target;let v;let d=!0,r=t instanceof MouseEvent?t.clientX:(null===(o=null===(n=t.touches)||void 0===n?void 0:n[0])||void 0===o?void 0:o.clientX)||0,a=t instanceof MouseEvent?t.clientY:(null===(i=null===(u=t.touches)||void 0===u?void 0:u[0])||void 0===i?void 0:i.clientY)||0;v=setTimeout(()=>{d&&s.invokeMethodAsync("Invoke")},500);const l=function(e){var t,n,o,s;if(!d)return;const u=e instanceof MouseEvent?e.clientX:(null===(n=null===(t=e.touches)||void 0===t?void 0:t[0])||void 0===n?void 0:n.clientX)||0,i=e instanceof MouseEvent?e.clientY:(null===(s=null===(o=e.touches)||void 0===o?void 0:o[0])||void 0===s?void 0:s.clientY)||0;(Math.abs(u-r)>10||Math.abs(i-a)>10)&&m()},m=function(t){d=!1,clearTimeout(v),"mouse"===e?(document.removeEventListener("mouseup",m),document.removeEventListener("mousemove",l)):(document.removeEventListener("touchend",m),document.removeEventListener("touchcancel",m),document.removeEventListener("touchmove",l)),c.removeEventListener("mouseleave",m)};c.addEventListener("mouseleave",m,{once:!0}),"mouse"===e?(document.addEventListener("mouseup",m,{once:!0}),document.addEventListener("mousemove",l,{passive:!1})):(document.addEventListener("touchend",m,{once:!0,passive:!1}),document.addEventListener("touchcancel",m,{once:!0,passive:!1}),document.addEventListener("touchmove",l,{passive:!1}))},c=i("mouse"),v=i("touch");return u.addEventListener("mousedown",c,{passive:!1}),u.addEventListener("touchstart",v,{passive:!1}),t.set(u,{mousedownHandler:c,touchstartHandler:v}),{dispose:()=>{o(u),s.dispose()}}}function o(e){const n=t.get(e);n&&(e.removeEventListener("mousedown",n.mousedownHandler),e.removeEventListener("touchstart",n.touchstartHandler),t.delete(e))}export{n as register};
//# sourceMappingURL=index-07722781.js.map
