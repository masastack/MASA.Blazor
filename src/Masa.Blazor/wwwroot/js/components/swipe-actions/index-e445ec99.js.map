{"version":3,"file":"index-e445ec99.js","sources":["../../../../../Masa.Blazor.JS/src/components/swipe-actions/index.ts"],"sourcesContent":["import { useVelocity } from \"../../mixins/touch\";\r\n\r\nexport interface SwipeActionsOptions {\r\n  /** 滑动阈值，超过此值才会打开/关闭 */\r\n  threshold?: number;\r\n  /** 动画持续时间 */\r\n  duration?: number;\r\n  /** 是否禁用滑动 */\r\n  disabled?: boolean;\r\n  /** 最小滑动距离，低于此值视为点击 */\r\n  minSwipeDistance?: number;\r\n}\r\n\r\nexport interface SwipeActionsState {\r\n  /** 当前偏移量 */\r\n  offset: number;\r\n  /** 当前位置 */\r\n  position: 'left' | 'right' | 'center';\r\n  /** 是否正在拖拽 */\r\n  dragging: boolean;\r\n}\r\n\r\nexport function useTouch(wrapperElement: HTMLElement, options: SwipeActionsOptions = {}) {\r\n  const {\r\n    threshold = 0.5,\r\n    duration = 300,\r\n    disabled = false,\r\n    minSwipeDistance = 10\r\n  } = options;\r\n\r\n  const velocity = useVelocity();\r\n\r\n  let state: SwipeActionsState = {\r\n    offset: 0,\r\n    position: 'center',\r\n    dragging: false\r\n  };\r\n\r\n  let startX = 0;\r\n  let startOffset = 0;\r\n  let touchId: number | null = null;\r\n  let isMouseDown = false;\r\n  let hasStartedSwipe = false;\r\n\r\n  // 获取左右元素的宽度\r\n  function getElementWidths() {\r\n    const leftElement = wrapperElement.querySelector('.m-swipe-actions__left') as HTMLElement;\r\n    const rightElement = wrapperElement.querySelector('.m-swipe-actions__right') as HTMLElement;\r\n\r\n    const leftWidth = leftElement ? leftElement.offsetWidth : 0;\r\n    const rightWidth = rightElement ? rightElement.offsetWidth : 0;\r\n\r\n    return { leftWidth, rightWidth };\r\n  }\r\n\r\n  // 设置wrapper的transform和transition\r\n  function setTransform(offset: number, withTransition = false) {\r\n    const style = wrapperElement.style;\r\n    style.transform = `translate3d(${offset}px, 0, 0)`;\r\n    style.transitionDuration = withTransition ? `${duration}ms` : '0ms';\r\n\r\n    state.offset = offset;\r\n  }\r\n\r\n  // 获取目标偏移量\r\n  function getTargetOffset(currentOffset: number, velocityX: number): number {\r\n    const { leftWidth, rightWidth } = getElementWidths();\r\n    const absOffset = Math.abs(currentOffset);\r\n    const direction = currentOffset > 0 ? 1 : -1;\r\n\r\n    // 根据速度判断意图\r\n    if (Math.abs(velocityX) > 500) {\r\n      if (velocityX > 0 && leftWidth > 0) {\r\n        return leftWidth;\r\n      }\r\n      if (velocityX < 0 && rightWidth > 0) {\r\n        return -rightWidth;\r\n      }\r\n      return 0;\r\n    }\r\n\r\n    // 根据阈值判断\r\n    if (direction > 0 && leftWidth > 0) {\r\n      return absOffset > leftWidth * threshold ? leftWidth : 0;\r\n    }\r\n\r\n    if (direction < 0 && rightWidth > 0) {\r\n      return absOffset > rightWidth * threshold ? -rightWidth : 0;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  // 更新位置状态\r\n  function updatePosition(offset: number) {\r\n    let newPosition: 'left' | 'right' | 'center' = 'center';\r\n\r\n    if (offset > 0) {\r\n      newPosition = 'left';\r\n    } else if (offset < 0) {\r\n      newPosition = 'right';\r\n    }\r\n\r\n    if (state.position !== newPosition) {\r\n      state.position = newPosition;\r\n    }\r\n  }\r\n\r\n  // 触摸开始\r\n  function onTouchStart(event: TouchEvent) {\r\n    if (disabled || event.touches.length !== 1) return;\r\n\r\n    event.stopPropagation();\r\n\r\n    const touch = event.touches[0];\r\n    touchId = touch.identifier;\r\n    startX = touch.clientX;\r\n    startOffset = state.offset;\r\n    state.dragging = false;  // 初始不设为 true，等待移动确认\r\n    hasStartedSwipe = false;\r\n\r\n    velocity.addMovement(event);\r\n  }\r\n\r\n  // 触摸移动\r\n  function onTouchMove(event: TouchEvent) {\r\n    if (disabled || touchId === null) return;\r\n\r\n    velocity.addMovement(event);\r\n\r\n    const touch = Array.from(event.touches).find(t => t.identifier === touchId);\r\n    if (!touch) return;\r\n\r\n    const deltaX = touch.clientX - startX;\r\n\r\n    // 如果移动距离小于阈值，不开始滑动\r\n    if (Math.abs(deltaX) < minSwipeDistance) {\r\n      return;\r\n    }\r\n\r\n    // 开始滑动\r\n    if (!hasStartedSwipe) {\r\n      hasStartedSwipe = true;\r\n      state.dragging = true;\r\n      event.preventDefault();  // 现在阻止默认行为\r\n      event.stopPropagation();\r\n    }\r\n\r\n    let newOffset = startOffset + deltaX;\r\n    const { leftWidth, rightWidth } = getElementWidths();\r\n\r\n    // 限制滑动范围\r\n    if (newOffset > 0) {\r\n      // 向右滑动，显示左侧区域\r\n      if (leftWidth <= 0) {\r\n        newOffset = 0;\r\n      } else {\r\n        newOffset = Math.min(newOffset, leftWidth);\r\n      }\r\n    } else {\r\n      // 向左滑动，显示右侧区域\r\n      if (rightWidth <= 0) {\r\n        newOffset = 0;\r\n      } else {\r\n        newOffset = Math.max(newOffset, -rightWidth);\r\n      }\r\n    }\r\n\r\n    setTransform(newOffset, false);\r\n    event.preventDefault();\r\n  }\r\n\r\n  // 触摸结束\r\n  function onTouchEnd(event: TouchEvent) {\r\n    if (disabled || touchId === null) return;\r\n\r\n    event.stopPropagation();\r\n\r\n    state.dragging = false;\r\n    hasStartedSwipe = false;\r\n\r\n    try {\r\n      const velocityData = velocity.getVelocity(touchId);\r\n      const targetOffset = getTargetOffset(state.offset, velocityData.x);\r\n\r\n      setTransform(targetOffset, true);\r\n      updatePosition(targetOffset);\r\n    } catch (error) {\r\n      const targetOffset = getTargetOffset(state.offset, 0);\r\n      setTransform(targetOffset, true);\r\n      updatePosition(targetOffset);\r\n    }\r\n\r\n    velocity.endTouch(event);\r\n    touchId = null;\r\n  }\r\n\r\n  // 触摸取消\r\n  function onTouchCancel(event: TouchEvent) {\r\n    if (disabled) return;\r\n\r\n    event.stopPropagation();\r\n\r\n    state.dragging = false;\r\n    hasStartedSwipe = false;\r\n    velocity.endTouch(event);\r\n    touchId = null;\r\n\r\n    // 恢复到最近的稳定位置\r\n    const targetOffset = getTargetOffset(state.offset, 0);\r\n    setTransform(targetOffset, true);\r\n    updatePosition(targetOffset);\r\n  }\r\n\r\n  // 鼠标按下\r\n  function onMouseDown(event: MouseEvent) {\r\n    if (disabled || event.button !== 0 || isMouseDown) return; // 只处理左键\r\n\r\n    isMouseDown = true;\r\n    startX = event.clientX;\r\n    startOffset = state.offset;\r\n    state.dragging = true;\r\n\r\n    // 为鼠标事件创建一个模拟的touch事件用于速度计算\r\n    const mockTouch = {\r\n      identifier: 0,\r\n      clientX: event.clientX,\r\n      clientY: event.clientY,\r\n      pageX: event.pageX,\r\n      pageY: event.pageY,\r\n      target: event.target,\r\n      radiusX: 0,\r\n      radiusY: 0,\r\n      rotationAngle: 0,\r\n      force: 1\r\n    };\r\n\r\n    const mockTouchEvent = {\r\n      timeStamp: Date.now(),\r\n      touches: [mockTouch],\r\n      changedTouches: [mockTouch],\r\n      targetTouches: [mockTouch],\r\n      preventDefault: () => {},\r\n      stopPropagation: () => {}\r\n    } as any;\r\n\r\n    velocity.addMovement(mockTouchEvent);\r\n\r\n    // 阻止默认行为，防止选中文本\r\n    event.preventDefault();\r\n  }\r\n\r\n  // 鼠标移动\r\n  function onMouseMove(event: MouseEvent) {\r\n    if (disabled || !state.dragging || !isMouseDown) return;\r\n\r\n    // 为鼠标事件创建一个模拟的touch事件用于速度计算\r\n    const mockTouch = {\r\n      identifier: 0,\r\n      clientX: event.clientX,\r\n      clientY: event.clientY,\r\n      pageX: event.pageX,\r\n      pageY: event.pageY,\r\n      target: event.target,\r\n      radiusX: 0,\r\n      radiusY: 0,\r\n      rotationAngle: 0,\r\n      force: 1\r\n    };\r\n\r\n    const mockTouchEvent = {\r\n      timeStamp: Date.now(),\r\n      touches: [mockTouch],\r\n      changedTouches: [mockTouch],\r\n      targetTouches: [mockTouch],\r\n      preventDefault: () => {},\r\n      stopPropagation: () => {}\r\n    } as any;\r\n\r\n    velocity.addMovement(mockTouchEvent);\r\n\r\n    const deltaX = event.clientX - startX;\r\n    let newOffset = startOffset + deltaX;\r\n    const { leftWidth, rightWidth } = getElementWidths();\r\n\r\n    // 限制滑动范围\r\n    if (newOffset > 0) {\r\n      // 向右滑动，显示左侧区域\r\n      if (leftWidth <= 0) {\r\n        newOffset = 0;\r\n      } else {\r\n        newOffset = Math.min(newOffset, leftWidth);\r\n      }\r\n    } else {\r\n      // 向左滑动，显示右侧区域\r\n      if (rightWidth <= 0) {\r\n        newOffset = 0;\r\n      } else {\r\n        newOffset = Math.max(newOffset, -rightWidth);\r\n      }\r\n    }\r\n\r\n    setTransform(newOffset, false);\r\n    event.preventDefault();\r\n  }\r\n\r\n  // 鼠标释放\r\n  function onMouseUp(event: MouseEvent) {\r\n    if (disabled || !state.dragging || !isMouseDown) return;\r\n\r\n    state.dragging = false;\r\n    isMouseDown = false;\r\n\r\n    try {\r\n      const velocityData = velocity.getVelocity(0); // 使用identifier 0\r\n      const targetOffset = getTargetOffset(state.offset, velocityData.x);\r\n\r\n      setTransform(targetOffset, true);\r\n      updatePosition(targetOffset);\r\n    } catch (error) {\r\n      // 如果获取速度失败，使用当前偏移量判断\r\n      const targetOffset = getTargetOffset(state.offset, 0);\r\n      setTransform(targetOffset, true);\r\n      updatePosition(targetOffset);\r\n    }\r\n\r\n    // 为鼠标事件创建一个模拟的touch事件用于结束速度计算\r\n    const mockTouch = {\r\n      identifier: 0,\r\n      clientX: event.clientX,\r\n      clientY: event.clientY,\r\n      pageX: event.pageX,\r\n      pageY: event.pageY,\r\n      target: event.target,\r\n      radiusX: 0,\r\n      radiusY: 0,\r\n      rotationAngle: 0,\r\n      force: 1\r\n    };\r\n\r\n    const mockTouchEvent = {\r\n      timeStamp: Date.now(),\r\n      touches: [],\r\n      changedTouches: [mockTouch],\r\n      targetTouches: [],\r\n      preventDefault: () => {},\r\n      stopPropagation: () => {}\r\n    } as any;\r\n\r\n    velocity.endTouch(mockTouchEvent);\r\n  }\r\n\r\n  // 鼠标离开\r\n  function onMouseLeave(event: MouseEvent) {\r\n    if (disabled || !state.dragging || !isMouseDown) return;\r\n\r\n    state.dragging = false;\r\n    isMouseDown = false;\r\n\r\n    // 为鼠标事件创建一个模拟的touch事件用于结束速度计算\r\n    const mockTouch = {\r\n      identifier: 0,\r\n      clientX: event.clientX,\r\n      clientY: event.clientY,\r\n      pageX: event.pageX,\r\n      pageY: event.pageY,\r\n      target: event.target,\r\n      radiusX: 0,\r\n      radiusY: 0,\r\n      rotationAngle: 0,\r\n      force: 1\r\n    };\r\n\r\n    const mockTouchEvent = {\r\n      timeStamp: Date.now(),\r\n      touches: [],\r\n      changedTouches: [mockTouch],\r\n      targetTouches: [],\r\n      preventDefault: () => {},\r\n      stopPropagation: () => {}\r\n    } as any;\r\n\r\n    velocity.endTouch(mockTouchEvent);\r\n\r\n    // 恢复到最近的稳定位置\r\n    const targetOffset = getTargetOffset(state.offset, 0);\r\n    setTransform(targetOffset, true);\r\n    updatePosition(targetOffset);\r\n  }\r\n\r\n  // 绑定事件\r\n  function bindEvents() {\r\n    // 触摸事件\r\n    wrapperElement.addEventListener('touchstart', onTouchStart, { passive: false });\r\n    wrapperElement.addEventListener('touchmove', onTouchMove, { passive: false });\r\n    wrapperElement.addEventListener('touchend', onTouchEnd);\r\n    wrapperElement.addEventListener('touchcancel', onTouchCancel);\r\n\r\n    // 鼠标事件\r\n    wrapperElement.addEventListener('mousedown', onMouseDown);\r\n    // 鼠标移动和释放事件需要绑定到document，以便在鼠标移出元素时仍能捕获\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('mouseup', onMouseUp);\r\n    wrapperElement.addEventListener('mouseleave', onMouseLeave);\r\n  }\r\n\r\n  // 解绑事件\r\n  function unbindEvents() {\r\n    // 触摸事件\r\n    wrapperElement.removeEventListener('touchstart', onTouchStart);\r\n    wrapperElement.removeEventListener('touchmove', onTouchMove);\r\n    wrapperElement.removeEventListener('touchend', onTouchEnd);\r\n    wrapperElement.removeEventListener('touchcancel', onTouchCancel);\r\n\r\n    // 鼠标事件\r\n    wrapperElement.removeEventListener('mousedown', onMouseDown);\r\n    document.removeEventListener('mousemove', onMouseMove);\r\n    document.removeEventListener('mouseup', onMouseUp);\r\n    wrapperElement.removeEventListener('mouseleave', onMouseLeave);\r\n  }\r\n\r\n  // 程序化控制方法\r\n  function open(position: 'left' | 'right') {\r\n    if (disabled) return;\r\n\r\n    const { leftWidth, rightWidth } = getElementWidths();\r\n    let targetOffset = 0;\r\n    if (position === 'left' && leftWidth > 0) {\r\n      targetOffset = leftWidth;\r\n    } else if (position === 'right' && rightWidth > 0) {\r\n      targetOffset = -rightWidth;\r\n    }\r\n\r\n    setTransform(targetOffset, true);\r\n    updatePosition(targetOffset);\r\n  }\r\n\r\n  function close() {\r\n    if (disabled) return;\r\n\r\n    setTransform(0, true);\r\n    updatePosition(0);\r\n  }\r\n\r\n  // 获取当前状态\r\n  function getState(): SwipeActionsState {\r\n    return { ...state };\r\n  }\r\n\r\n  return {\r\n    bindEvents,\r\n    unbindEvents,\r\n    open,\r\n    close,\r\n    getState,\r\n    setTransform\r\n  };\r\n}\r\n"],"names":["useTouch","wrapperElement","options","threshold","duration","disabled","minSwipeDistance","velocity","useVelocity","state","offset","position","dragging","startX","startOffset","touchId","isMouseDown","hasStartedSwipe","getElementWidths","leftElement","querySelector","rightElement","leftWidth","offsetWidth","rightWidth","setTransform","withTransition","style","transform","transitionDuration","getTargetOffset","currentOffset","velocityX","absOffset","Math","abs","direction","updatePosition","newPosition","onTouchStart","event","touches","length","stopPropagation","touch","identifier","clientX","addMovement","onTouchMove","Array","from","find","t","deltaX","preventDefault","newOffset","min","max","onTouchEnd","velocityData","getVelocity","targetOffset","x","error","endTouch","onTouchCancel","onMouseDown","button","mockTouch","clientY","pageX","pageY","target","radiusX","radiusY","rotationAngle","force","mockTouchEvent","timeStamp","Date","now","changedTouches","targetTouches","onMouseMove","onMouseUp","onMouseLeave","bindEvents","addEventListener","passive","document","unbindEvents","removeEventListener","open","close","getState","Object","assign"],"mappings":"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"}