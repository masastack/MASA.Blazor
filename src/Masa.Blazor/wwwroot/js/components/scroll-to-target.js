function t(t,e,o,n){return new(o||(o=Promise))((function(r,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function c(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,c)}s((n=n.apply(t,e||[])).next())}))}let e=!1;try{if("undefined"!=typeof window){const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});window.addEventListener("testListener",t,t),window.removeEventListener("testListener",t,t)}}catch(t){console.warn(t)}function o(t,e,o){t=t||document.documentElement;const n=parseInt(e);if(isNaN(n))return 0;var r=o?t.clientWidth:t.clientHeight;return Math.abs(n)-r}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});class n{constructor(t,e){this.activeStack=[],this.handle=t,this.options=function(t){if(!t)return null;const e=t.rootSelector?document.querySelector(t.rootSelector):null;return"None"!==t.autoRootMargin&&("Top"===t.autoRootMargin&&"0px"!==t.rootMarginBottom?t.rootMarginTop=o(e,t.rootMarginBottom,!1)+"px":"Right"===t.autoRootMargin&&"0px"!==t.rootMarginLeft?t.rootMarginRight=o(e,t.rootMarginLeft,!1)+"px":"Bottom"===t.autoRootMargin&&"0px"!==t.rootMarginTop?t.rootMarginBottom=o(e,t.rootMarginTop,!1)+"px":"Left"===t.autoRootMargin&&"0px"!==t.rootMarginRight&&(t.rootMarginLeft=o(e,t.rootMarginRight,!1)+"px")),{rootMargin:`${t.rootMarginTop} ${t.rootMarginRight} ${t.rootMarginBottom} ${t.rootMarginLeft}`,root:e,threshold:t.threshold}}(e)}observe(e){const o=document.getElementById(e);if(!o)return void console.warn(`[ScrollToTarget] Element with id '${e}' not found`);if(o._intersectForScrollToTarget)return;const n=new IntersectionObserver(((o=[],n)=>t(this,void 0,void 0,(function*(){o.some((t=>t.isIntersecting))?this.activeStack.push(e):this.activeStack.includes(e)&&this.activeStack.splice(this.activeStack.indexOf(e),1),yield this.handle.invokeMethodAsync("UpdateActiveTarget",this.activeStack[this.activeStack.length-1])}))),this.options);o._intersectForScrollToTarget=Object(o._intersectForScrollToTarget),o._intersectForScrollToTarget={handle:this.handle,observer:n},n.observe(o)}unobserve(t){const e=document.getElementById(t);if(!e)return;const o=e._intersectForScrollToTarget;o&&(o.observer.unobserve(e),delete e._intersectForScrollToTarget)}dispose(){this.handle&&(this.handle.dispose(),this.handle=null)}}function r(t,e){return new n(t,e)}export{r as init};
//# sourceMappingURL=scroll-to-target.js.map
