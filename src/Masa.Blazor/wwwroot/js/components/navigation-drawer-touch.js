function t(t,e,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(t):o?o.value:e.get(t)}var e,n;"function"==typeof SuppressedError&&SuppressedError;class o{constructor(t){this.size=t,e.set(this,[]),n.set(this,0)}push(o){t(this,e,"f")[t(this,n,"f")]=o,function(t,e,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?i.call(t,n):i?i.value=n:e.set(t,n)}(this,n,(t(this,n,"f")+1)%this.size,"f")}values(){return t(this,e,"f").slice(t(this,n,"f")).concat(t(this,e,"f").slice(0,t(this,n,"f")))}}e=new WeakMap,n=new WeakMap;function i(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function r(t){if(t.length<2)return 0;if(2===t.length)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const o=i(e),r=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(r-o)*Math.abs(r),n===t.length-1&&(e*=.5)}return 1e3*i(e)}function s(){const t={};return{addMovement:function(e){Array.from(e.changedTouches).forEach((n=>{var i;(null!==(i=t[n.identifier])&&void 0!==i?i:t[n.identifier]=new o(20)).push([e.timeStamp,n])}))},endTouch:function(e){Array.from(e.changedTouches).forEach((e=>{delete t[e.identifier]}))},getVelocity:function(e){var n;const o=null===(n=t[e])||void 0===n?void 0:n.values().reverse();if(!o)throw new Error(`No samples for touch id ${e}`);const i=o[0],s=[],c=[];for(const t of o){if(i[0]-t[0]>100)break;s.push({t:t[0],d:t[1].clientX}),c.push({t:t[0],d:t[1].clientY})}return{x:r(s),y:r(c),get direction(){const{x:t,y:e}=this,[n,o]=[Math.abs(t),Math.abs(e)];return n>o&&t>=0?"right":n>o&&t<=0?"left":o>n&&e>=0?"down":o>n&&e<=0?"up":function(){throw new Error}()}}}}}function c(t,e,n){var o,i;window.addEventListener("touchstart",E,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",M,{passive:!0});const r=["left","right"].includes(n.position),{addMovement:c,endTouch:h,getVelocity:d}=s();let l,u=!1,f=!1,p=0,m=0,w=null!==(o=t.style.transform)&&void 0!==o?o:null,v=null!==(i=t.style.transition)&&void 0!==i?i:null;function y(t,e){return("left"===n.position?t:"right"===n.position?document.documentElement.clientWidth-t:"top"===n.position?t:"bottom"===n.position?document.documentElement.clientHeight-t:a())-(e?n.width:0)}function g(t,e=!0){const o="left"===n.position?(t-m)/n.width:"right"===n.position?(document.documentElement.clientWidth-t-m)/n.width:"top"===n.position?(t-m)/n.width:"bottom"===n.position?(document.documentElement.clientHeight-t-m)/n.width:a();return e?Math.max(0,Math.min(1,o)):o}function E(e){var o,i;if(n.touchless)return;w=null!==(o=t.style.transform)&&void 0!==o?o:null,v=null!==(i=t.style.transition)&&void 0!==i?i:null;const s=e.changedTouches[0].clientX,d=e.changedTouches[0].clientY,f="left"===n.position?s<25:"right"===n.position?s>document.documentElement.clientWidth-25:"top"===n.position?d<25:"bottom"===n.position?d>document.documentElement.clientHeight-25:a(),E=n.isActive&&("left"===n.position?s<n.width:"right"===n.position?s>document.documentElement.clientWidth-n.width:"top"===n.position?d<n.width:"bottom"===n.position?d>document.documentElement.clientHeight-n.width:a());(f||E||n.isActive&&n.isTemporary)&&(l=[s,d],m=y(r?s:d,n.isActive),p=g(r?s:d),u=m>-20&&m<80,h(e),c(e))}function b(t){const n=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY;if(u){if(!t.cancelable)return void(u=!1);const e=Math.abs(n-l[0]),i=Math.abs(o-l[1]);(r?e>i&&e>3:i>e&&i>3)?(f=!0,u=!1):(r?i:e)>3&&(u=!1)}if(T(),!f)return;t.preventDefault(),c(t);const i=g(r?n:o,!1);p=Math.max(0,Math.min(1,i)),i>1?m=y(r?n:o,!0):i<0&&(m=y(r?n:o,!1)),e.invokeMethodAsync("TouchMove",f,p)}function M(t){if(u=!1,!f)return;c(t),f=!1,T();const o=d(t.changedTouches[0].identifier),i=Math.abs(o.x),s=Math.abs(o.y),h=r?i>s&&i>400:s>i&&s>3;n.isActive=h?o.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.position]||a()):p>.5,e.invokeMethodAsync("TouchEnd",n.isActive)}const T=()=>{const e=f?{transform:"left"===n.position?`translateX(calc(-100% + ${p*n.width}px))`:"right"===n.position?`translateX(calc(100% - ${p*n.width}px))`:"top"===n.position?`translateY(calc(-100% + ${p*n.width}px))`:"bottom"===n.position?`translateY(calc(100% - ${p*n.width}px))`:a(),transition:"none"}:void 0;f?(t.style.setProperty("transform",(null==e?void 0:e.transform)||"none"),t.style.setProperty("transition",(null==e?void 0:e.transition)||null)):(t.style.setProperty("transform",w),t.style.setProperty("transition",v))};return{syncState:t=>{n=t},dispose:()=>{e.invokeMethodAsync("Dispose"),window.removeEventListener("touchstart",E),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",M)}}}function a(){throw new Error}export{c as useTouch};
//# sourceMappingURL=navigation-drawer-touch.js.map
