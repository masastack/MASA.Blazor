import{a as t}from"../../chunks/tslib.es6-68144fbe.js";import{formatToStandardOptions as e}from"../../mixins/intersect/index-f360c115.js";import"../../chunks/helper-6d386307.js";var n=function(t,e,n){var i=null,o=null,r=function(){i&&(clearTimeout(i),o=null,i=null)},s=function(){if(!e)return t.apply(this,arguments);var s=this,c=arguments,l=n&&!i;return r(),o=function(){t.apply(s,c)},i=setTimeout((function(){if(i=null,!l){var t=o;return o=null,t()}}),e),l?o():void 0};return s.cancel=r,s.flush=function(){var t=o;r(),t&&t()},s};class i{constructor(i,o){this.activeStack=[],this.handle=i,this.options=e(o),this.debouncedUpdate=n((()=>t(this,void 0,void 0,(function*(){yield this.handle.invokeMethodAsync("UpdateActiveTarget",this.activeStack[this.activeStack.length-1])}))),16)}observe(e){const n=document.getElementById(e);if(!n)return void console.warn(`[ScrollToTarget] Element with id '${e}' not found`);if(n._intersectForScrollToTarget)return;const i=new IntersectionObserver(((n=[],i)=>t(this,void 0,void 0,(function*(){n.some((t=>t.isIntersecting))?this.activeStack.push(e):this.activeStack.includes(e)&&this.activeStack.splice(this.activeStack.indexOf(e),1),this.debouncedUpdate()}))),this.options);n._intersectForScrollToTarget=Object(n._intersectForScrollToTarget),n._intersectForScrollToTarget={handle:this.handle,observer:i},i.observe(n)}unobserve(t){const e=document.getElementById(t);if(!e)return;const n=e._intersectForScrollToTarget;n&&(n.observer.unobserve(e),delete e._intersectForScrollToTarget)}dispose(){this.handle&&(this.handle.dispose(),this.handle=null)}}function o(t,e){return new i(t,e)}export{o as init};
//# sourceMappingURL=index-af099841.js.map
