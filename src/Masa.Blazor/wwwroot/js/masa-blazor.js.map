{"version":3,"file":"masa-blazor.js","sources":["../../../Masa.Blazor.JS/node_modules/.pnpm/@rollup+plugin-typescript@8.5.0_rollup@2.79.2_tslib@2.8.1_typescript@4.9.5/node_modules/tslib/tslib.es6.js","../../../Masa.Blazor.JS/src/utils/helper.ts","../../../Masa.Blazor.JS/src/components/infinite-scroll/index.ts","../../../Masa.Blazor.JS/src/events/EventType.ts","../../../Masa.Blazor.JS/src/events/extra.ts","../../../Masa.Blazor.JS/src/components/slider/index.ts","../../../Masa.Blazor.JS/src/components/textarea/index.ts","../../../Masa.Blazor.JS/node_modules/.pnpm/just-debounce-it@3.2.0/node_modules/just-debounce-it/index.mjs","../../../Masa.Blazor.JS/node_modules/.pnpm/just-throttle@4.2.0/node_modules/just-throttle/index.mjs","../../../Masa.Blazor.JS/src/events/index.ts","../../../Masa.Blazor.JS/src/ripple/ripple.ts","../../../Masa.Blazor.JS/src/interop.ts","../../../Masa.Blazor.JS/src/ripple/index.ts","../../../Masa.Blazor.JS/src/main.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","const activator_parent_prefix = \"$parent.\";\r\n\r\nexport const IN_BROWSER = typeof window !== 'undefined'\r\n\r\nexport function addOnceEventListener (\r\n  el: EventTarget,\r\n  eventName: string,\r\n  cb: (event: Event) => void,\r\n  options: boolean | AddEventListenerOptions = false\r\n): void {\r\n  const once = (event: Event) => {\r\n    cb(event)\r\n    el.removeEventListener(eventName, once, options)\r\n  }\r\n\r\n  el.addEventListener(eventName, once, options)\r\n}\r\n\r\nlet passiveSupported = false\r\ntry {\r\n  if (IN_BROWSER) {\r\n    const testListenerOpts = Object.defineProperty({}, 'passive', {\r\n      get: () => {\r\n        passiveSupported = true\r\n      },\r\n    })\r\n\r\n    window.addEventListener('testListener' as any, testListenerOpts as any, testListenerOpts)\r\n    window.removeEventListener('testListener' as any, testListenerOpts as any, testListenerOpts)\r\n  }\r\n} catch (e) { console.warn(e) } /* eslint-disable-line no-console */\r\nexport { passiveSupported }\r\n\r\nexport function addPassiveEventListener (\r\n  el: EventTarget,\r\n  event: string,\r\n  cb: ((e: any) => void),\r\n  options: {}\r\n): void {\r\n  el.addEventListener(event, cb, passiveSupported ? options : false)\r\n}\r\n\r\nexport function getZIndex (el?: Element | null): number {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0\r\n\r\n  const index = +window.getComputedStyle(el).getPropertyValue('z-index')\r\n\r\n  if (!index) return getZIndex(el.parentNode as Element)\r\n  return index\r\n}\r\n\r\n// KeyboardEvent.keyCode aliases\r\nexport const keyCodes = Object.freeze({\r\n  enter: 13,\r\n  tab: 9,\r\n  delete: 46,\r\n  esc: 27,\r\n  space: 32,\r\n  up: 38,\r\n  down: 40,\r\n  left: 37,\r\n  right: 39,\r\n  end: 35,\r\n  home: 36,\r\n  del: 46,\r\n  backspace: 8,\r\n  insert: 45,\r\n  pageup: 33,\r\n  pagedown: 34,\r\n  shift: 16,\r\n})\r\n\r\n/**  Polyfill for Event.prototype.composedPath */\r\nexport function composedPath (e: Event): EventTarget[] {\r\n  if (e.composedPath) return e.composedPath()\r\n\r\n  const path = []\r\n  let el = e.target as Element\r\n\r\n  while (el) {\r\n    path.push(el)\r\n\r\n    if (el.tagName === 'HTML') {\r\n      path.push(document)\r\n      path.push(window)\r\n\r\n      return path\r\n    }\r\n\r\n    el = el.parentElement!\r\n  }\r\n  return path\r\n}\r\n\r\nexport function getBlazorId(el) {\r\n  if (!el) {\r\n    return null;\r\n  }\r\n  let _bl_ = el.getAttributeNames().find(a => a.startsWith('_bl_'))\r\n  if (_bl_) {\r\n    _bl_ = _bl_.substring(4);\r\n  }\r\n\r\n  return _bl_;\r\n}\r\n\r\nexport function getElementSelector(el) {\r\n  if (!(el instanceof Element))\r\n    return;\r\n  var path = [];\r\n  while (el.nodeType === Node.ELEMENT_NODE) {\r\n    var selector = el.nodeName.toLowerCase();\r\n    if (el.id) {\r\n      selector = '#' + el.id;\r\n      path.unshift(selector);\r\n      break;\r\n    } else {\r\n      var sib = el, nth = 1;\r\n      while (sib = sib.previousElementSibling) {\r\n        if (sib.nodeName.toLowerCase() == selector)\r\n          nth++;\r\n      }\r\n      if (nth != 1)\r\n        selector += \":nth-of-type(\" + nth + \")\";\r\n    }\r\n    path.unshift(selector);\r\n    el = el.parentNode;\r\n  }\r\n  return path.join(\" > \");\r\n}\r\n\r\nexport function getEventTarget(target: HTMLElement | EventTarget) {\r\n  const el = target as HTMLElement;\r\n  const eventTarget: MbEventTarget = {};\r\n  const elementReferenceId = el\r\n    .getAttributeNames()\r\n    .find((a) => a.startsWith(\"_bl_\"));\r\n  if (elementReferenceId) {\r\n    eventTarget.elementReferenceId = elementReferenceId;\r\n    eventTarget.selector = `[${elementReferenceId}]`;\r\n  } else {\r\n    eventTarget.selector = getElementSelector(el);\r\n  }\r\n\r\n  eventTarget.class = el.getAttribute(\"class\");\r\n\r\n  return eventTarget;\r\n}\r\n\r\nexport function getElement(elOrString: HTMLElement | string): HTMLElement {\r\n  if (typeof elOrString === \"string\") {\r\n    return document.querySelector(elOrString);\r\n  } else {\r\n    return elOrString;\r\n  }\r\n}\r\n\r\nexport function getDom(elOrString: Element | string | undefined) {\r\n  let element: HTMLElement;\r\n\r\n  try {\r\n    if (!elOrString) {\r\n      element = document.body;\r\n    } else if (typeof elOrString === \"string\") {\r\n      if (elOrString === \"document\") {\r\n        element = document.documentElement;\r\n      } else if (elOrString.indexOf(\"__.__\") > 0) {\r\n        // for example: el__.__parentElement\r\n        let array = elOrString.split(\"__.__\");\r\n        let i = 0;\r\n        let el = document.querySelector(array[i++]);\r\n\r\n        if (el) {\r\n          while (array[i]) {\r\n            el = el[array[i]];\r\n            i++;\r\n          }\r\n        }\r\n\r\n        if (el instanceof HTMLElement) {\r\n          element = el;\r\n        }\r\n      } else {\r\n        element = document.querySelector(elOrString);\r\n      }\r\n    } else {\r\n      element = elOrString as HTMLElement;\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n\r\n  return element;\r\n}\r\n\r\nexport const canUseDom = !!(\r\n  IN_BROWSER &&\r\n  typeof document !== 'undefined' &&\r\n  window.document &&\r\n  window.document.createElement\r\n)\r\n\r\nexport function convertToUnit (str: number, unit?: string): string\r\nexport function convertToUnit (str: string | number | null | undefined, unit?: string): string | undefined\r\nexport function convertToUnit (str: string | number | null | undefined, unit = 'px'): string | undefined {\r\n  if (str == null || str === '') {\r\n    return undefined\r\n  } else if (isNaN(+str!)) {\r\n    return String(str)\r\n  } else if (!isFinite(+str!)) {\r\n    return undefined\r\n  } else {\r\n    return `${Number(str)}${unit}`\r\n  }\r\n}\r\n\r\nfunction is$ParentSelector(selector: string) {\r\n  return selector.startsWith(activator_parent_prefix);\r\n}\r\n\r\nexport function get$ParentElement(selector: string): HTMLElement | null {\r\n  if (is$ParentSelector(selector)) {\r\n    const parentSelector = selector.replace(activator_parent_prefix, \"\");\r\n    const parentElement = document.querySelector(parentSelector)?.parentElement;\r\n    if (!parentElement) {\r\n      return null;\r\n    }\r\n\r\n    // special case for MButton component\r\n    if (parentElement.classList.contains('m-btn__content')) {\r\n      return parentElement.parentElement as HTMLElement;\r\n    }\r\n\r\n    return parentElement;\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nexport function getActivator(selector: string): HTMLElement | null {\r\n  const parentElement = get$ParentElement(selector);\r\n  return parentElement || document.querySelector(selector);\r\n}\r\n\r\nexport function isWindow(element: any | Window): element is Window {\r\n  return element === window\r\n}","import { isWindow } from \"utils/helper\";\r\n\r\ninterface JsInteropObject {\r\n  dispose: () => void;\r\n  [key: string]: Function;\r\n}\r\n\r\nexport function registerInfiniteScrollJSInterop(\r\n  el: HTMLElement,\r\n  container: string,\r\n  threshold: number,\r\n  enable: boolean,\r\n  dotnetHelper: DotNet.DotNetObject\r\n): JsInteropObject {\r\n  if (!el || !container) {\r\n    console.warn(\r\n      \"[MInfiniteScroll] Element or container is not provided. Make sure to provide the correct element and container.\"\r\n    );\r\n    return;\r\n  }\r\n\r\n  let containerEl: Element | Window;\r\n  if (container === \"window\") {\r\n    containerEl = window;\r\n  } else if (container === \"document\") {\r\n    containerEl = document.documentElement;\r\n  } else {\r\n    containerEl = document.querySelector(container);\r\n  }\r\n\r\n  if (!containerEl) {\r\n    console.warn(\r\n      `[MInfiniteScroll] Element with selector '${container}' not found.`\r\n    );\r\n    return;\r\n  }\r\n\r\n  containerEl.addEventListener(\"scroll\", onScroll);\r\n  onScroll();\r\n\r\n  async function onScroll() {\r\n    if (enable === false) return;\r\n\r\n    const rect = el.getBoundingClientRect();\r\n    const elementTop = rect.top;\r\n    const current = isWindow(containerEl)\r\n      ? window.innerHeight\r\n      : containerEl.getBoundingClientRect().bottom;\r\n    if (current >= elementTop - threshold) {\r\n      await dotnetHelper.invokeMethodAsync(\"OnScrollInternal\", false);\r\n    }\r\n  }\r\n\r\n  return {\r\n    check: onScroll,\r\n    updateThreshold: (t: number) => (threshold = t),\r\n    updateEnable: (s: boolean) => (enable = s),\r\n    dispose: () => {\r\n      dotnetHelper.dispose();\r\n      containerEl.removeEventListener(\"scroll\", onScroll);\r\n    },\r\n  };\r\n}\r\n","// see https://github.com/dotnet/aspnetcore/blob/main/src/Components/Web.JS/src/Rendering/Events/EventTypes.ts\r\n// updated at 2022/08/31\r\n\r\nexport const touchEvents = [\r\n  \"touchcancel\",\r\n  \"touchend\",\r\n  \"touchmove\",\r\n  \"touchenter\",\r\n  \"touchleave\",\r\n  \"touchstart\",\r\n];\r\n\r\nexport function parseMouseEvent(event: MouseEvent): Blazor.MouseEventArgs {\r\n  return {\r\n    detail: event.detail,\r\n    screenX: event.screenX,\r\n    screenY: event.screenY,\r\n    clientX: event.clientX,\r\n    clientY: event.clientY,\r\n    offsetX: event.offsetX,\r\n    offsetY: event.offsetY,\r\n    pageX: event.pageX,\r\n    pageY: event.pageY,\r\n    button: event.button,\r\n    buttons: event.buttons,\r\n    ctrlKey: event.ctrlKey,\r\n    shiftKey: event.shiftKey,\r\n    altKey: event.altKey,\r\n    metaKey: event.metaKey,\r\n    type: event.type,\r\n  } as Blazor.MouseEventArgs;\r\n}\r\n\r\nexport function parseTouchEvent(event: TouchEvent): Blazor.TouchEventArgs {\r\n  return {\r\n    detail: event.detail,\r\n    touches: parseTouch(event.touches),\r\n    targetTouches: parseTouch(event.targetTouches),\r\n    changedTouches: parseTouch(event.changedTouches),\r\n    ctrlKey: event.ctrlKey,\r\n    shiftKey: event.shiftKey,\r\n    altKey: event.altKey,\r\n    metaKey: event.metaKey,\r\n    type: event.type,\r\n  };\r\n}\r\n\r\nfunction parseTouch(touchList: TouchList): Blazor.TouchPoint[] {\r\n  const touches: Blazor.TouchPoint[] = [];\r\n\r\n  for (let i = 0; i < touchList.length; i++) {\r\n    const touch = touchList[i];\r\n    touches.push({\r\n      identifier: touch.identifier,\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n      screenX: touch.screenX,\r\n      screenY: touch.screenY,\r\n      pageX: touch.pageX,\r\n      pageY: touch.pageY,\r\n    });\r\n  }\r\n  return touches;\r\n}\r\n\r\nexport function parseChangeEvent(event: Event): Blazor.ChangeEventArgs {\r\n  const element = event.target as Element;\r\n  if (isTimeBasedInput(element)) {\r\n    const normalizedValue = normalizeTimeBasedValue(element);\r\n    return { value: normalizedValue };\r\n  } else if (isMultipleSelectInput(element)) {\r\n    const selectElement = element as HTMLSelectElement;\r\n    const selectedValues = Array.from(selectElement.options)\r\n      .filter((option) => option.selected)\r\n      .map((option) => option.value);\r\n    return { value: selectedValues };\r\n  } else {\r\n    const targetIsCheckbox = isCheckbox(element);\r\n    const newValue = targetIsCheckbox ? !!element[\"checked\"] : element[\"value\"];\r\n    return { value: newValue };\r\n  }\r\n}\r\n\r\nexport function parseDragEvent(event: DragEvent): Blazor.DragEventArgs {\r\n  return {\r\n    ...parseMouseEvent(event),\r\n    dataTransfer: event.dataTransfer ? {\r\n      dropEffect: event.dataTransfer.dropEffect,\r\n      effectAllowed: event.dataTransfer.effectAllowed,\r\n      files: Array.from(event.dataTransfer.files).map(f => f.name),\r\n      items: Array.from(event.dataTransfer.items).map(i => ({ kind: i.kind, type: i.type })),\r\n      types: event.dataTransfer.types\r\n    } : null,\r\n  };\r\n}\r\n\r\nfunction isTimeBasedInput(element: Element): element is HTMLInputElement {\r\n  return timeBasedInputs.indexOf(element.getAttribute(\"type\")!) !== -1;\r\n}\r\n\r\nconst timeBasedInputs = [\"date\", \"datetime-local\", \"month\", \"time\", \"week\"];\r\n\r\nfunction normalizeTimeBasedValue(element: HTMLInputElement): string {\r\n  const value = element.value;\r\n  const type = element.type;\r\n  switch (type) {\r\n    case \"date\":\r\n    case \"month\":\r\n      return value;\r\n    case \"datetime-local\":\r\n      return value.length === 16 ? value + \":00\" : value; // Convert yyyy-MM-ddTHH:mm to yyyy-MM-ddTHH:mm:00\r\n    case \"time\":\r\n      return value.length === 5 ? value + \":00\" : value; // Convert hh:mm to hh:mm:00\r\n    case \"week\":\r\n      // For now we are not going to normalize input type week as it is not trivial\r\n      return value;\r\n  }\r\n\r\n  throw new Error(`Invalid element type '${type}'.`);\r\n}\r\n\r\nfunction isMultipleSelectInput(element: Element): element is HTMLSelectElement {\r\n  return (\r\n    element instanceof HTMLSelectElement && element.type === \"select-multiple\"\r\n  );\r\n}\r\n\r\nfunction isCheckbox(element: Element | null): boolean {\r\n  return (\r\n    !!element &&\r\n    element.tagName === \"INPUT\" &&\r\n    element.getAttribute(\"type\") === \"checkbox\"\r\n  );\r\n}\r\n","import { getEventTarget } from \"../utils/helper\";\r\nimport { parseDragEvent, parseMouseEvent, parseTouchEvent } from \"./EventType\";\r\n\r\nexport function registerExtraMouseEvent(eventType: string, eventName: string) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n      createEventArgs: e => createSharedEventArgs(\"mouse\", e)\r\n    })\r\n  }\r\n}\r\n\r\nexport function registerExtraTouchEvent(eventType: string, eventName: string) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n      createEventArgs: e => createSharedEventArgs(\"touch\", e)\r\n    })\r\n  }\r\n}\r\n\r\nexport function registerExtraDropEvent(eventType: string, eventName: string) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n      createEventArgs: (e: DragEvent) => {\r\n        const eventArgs = parseDragEvent(e);\r\n        const value = e.dataTransfer.getData('data-value');\r\n        const offsetX = e.dataTransfer.getData('offsetX');\r\n        const offsetY = e.dataTransfer.getData('offsetY');\r\n\r\n        eventArgs.dataTransfer['data'] = {\r\n          value,\r\n          offsetX: Number(offsetX),\r\n          offsetY: Number(offsetY)\r\n        }\r\n\r\n        return eventArgs;\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function createSharedEventArgs(type: \"mouse\" | \"touch\", e: Event,) {\r\n  let args = { target: {} }\r\n  if (type === 'mouse') {\r\n    args = {\r\n      ...args,\r\n      ...parseMouseEvent(e as MouseEvent)\r\n    }\r\n  } else if (type === 'touch') {\r\n    args = {\r\n      ...args,\r\n      ...parseTouchEvent(e as TouchEvent)\r\n    }\r\n  }\r\n\r\n  args.target = getEventTarget(e.target);\r\n\r\n  return args;\r\n}","import { createSharedEventArgs } from \"events/extra\";\r\nimport { addOnceEventListener, passiveSupported } from \"utils/helper\";\r\n\r\nlet sliderHandleId = 0;\r\nconst sliderHandlesById = {};\r\n\r\nexport function registerSliderEvents(\r\n  el: HTMLElement,\r\n  dotnetHelper: DotNet.DotNetObject\r\n) {\r\n  sliderHandlesById[sliderHandleId] = onSliderMouseDown;\r\n\r\n  const app = document.querySelector(\"[data-app]\");\r\n\r\n  const mouseUpOptions = passiveSupported\r\n    ? { passive: true, capture: true }\r\n    : true;\r\n\r\n  const mouseMoveOptions = passiveSupported ? { passive: true } : false;\r\n\r\n  el.addEventListener(\"mousedown\", onSliderMouseDown);\r\n  el.addEventListener(\"touchstart\", onSliderMouseDown);\r\n\r\n  const trackElement = el.querySelector(\".m-slider__track-container\");\r\n\r\n  return sliderHandleId++;\r\n\r\n  async function onSliderMouseDown(e: MouseEvent | TouchEvent) {\r\n    const isTouchEvent = \"touches\" in e;\r\n\r\n    onMouseMove(e);\r\n\r\n    app.addEventListener(\r\n      isTouchEvent ? \"touchmove\" : \"mousemove\",\r\n      onMouseMove,\r\n      mouseMoveOptions\r\n    );\r\n    addOnceEventListener(\r\n      app,\r\n      isTouchEvent ? \"touchend\" : \"mouseup\",\r\n      onSliderMouseUp,\r\n      mouseUpOptions\r\n    );\r\n\r\n    var trackRect = trackElement.getBoundingClientRect();\r\n\r\n    if (isTouchEvent) {\r\n      await dotnetHelper.invokeMethodAsync(\"OnTouchStartInternal\", {\r\n        touchEventArgs: createSharedEventArgs(\"touch\", e),\r\n        trackRect,\r\n      });\r\n    } else {\r\n      await dotnetHelper.invokeMethodAsync(\"OnMouseDownInternal\", {\r\n        mouseEventArgs: createSharedEventArgs(\"mouse\", e),\r\n        trackRect,\r\n      });\r\n    }\r\n  }\r\n\r\n  async function onSliderMouseUp(e: MouseEvent | TouchEvent) {\r\n    e.stopPropagation();\r\n\r\n    app.removeEventListener(\"touchmove\", onMouseMove, mouseMoveOptions as any);\r\n    app.removeEventListener(\"mousemove\", onMouseMove, mouseMoveOptions as any);\r\n\r\n    const isTouchEvent = \"touches\" in e;\r\n    const payload = {\r\n      type: e.type,\r\n      clientX: isTouchEvent ? e.changedTouches[0].clientX : e.clientX,\r\n      clientY: isTouchEvent ? e.changedTouches[0].clientY : e.clientY,\r\n    };\r\n\r\n    await dotnetHelper.invokeMethodAsync(\"OnMouseUpInternal\", payload);\r\n  }\r\n\r\n  async function onMouseMove(e: MouseEvent | TouchEvent) {\r\n    const isTouchEvent = \"touches\" in e;\r\n    const mouseEventArgs = {\r\n      type: e.type,\r\n      clientX: isTouchEvent ? e.touches[0].clientX : e.clientX,\r\n      clientY: isTouchEvent ? e.touches[0].clientY : e.clientY,\r\n    };\r\n\r\n    var trackRect = trackElement.getBoundingClientRect();\r\n\r\n    await dotnetHelper.invokeMethodAsync(\"OnMouseMoveInternal\", {\r\n      mouseEventArgs,\r\n      trackRect,\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregisterSliderEvents(el: HTMLElement, id: number) {\r\n  if (el) {\r\n    const onSliderMouseDown = sliderHandlesById[id];\r\n    el.removeEventListener(\"mousedown\", onSliderMouseDown);\r\n    el.removeEventListener(\"touchstart\", onSliderMouseDown);\r\n\r\n    delete sliderHandlesById[id];\r\n  }\r\n}\r\n","\r\nlet textareaAutoGrowNextId = 0;\r\nconst textareaAutoGrowMap: {\r\n    [prop: string]: (e: HTMLElementEventMap['input']) => void;\r\n} = {}\r\n\r\nexport function registerTextareaAutoGrowEvent(input: HTMLElement) {\r\n    const id = textareaAutoGrowNextId;\r\n    const inputCallback = (e: HTMLElementEventMap['input']) => {\r\n        const target = e.target as HTMLTextAreaElement;\r\n        const autoGrow = target.getAttribute('data-auto-grow');\r\n        if (autoGrow === undefined) {\r\n            return;\r\n        }\r\n        const rows = target.getAttribute('rows');\r\n        const rowHeight = target.getAttribute('data-row-height');\r\n        calculateTextareaHeight(target, rows, rowHeight)\r\n    };\r\n\r\n    textareaAutoGrowMap[id] = inputCallback;\r\n\r\n    input.addEventListener('input', inputCallback)\r\n\r\n    return textareaAutoGrowNextId++;\r\n}\r\n\r\nexport function unregisterTextareaAutoGrowEvent(input: HTMLElement, textareaAutoGrowNextId: number) {\r\n    if (!input) return;\r\n    const inputCallback = textareaAutoGrowMap[textareaAutoGrowNextId];\r\n    if (inputCallback) {\r\n        input.removeEventListener('input', inputCallback);\r\n    }\r\n}\r\n\r\nexport function calculateTextareaHeight(textarea: HTMLTextAreaElement, rows: string, rowHeight: string) {\r\n    textarea.style.height = '0'\r\n    const height = textarea.scrollHeight;\r\n    const minHeight = parseInt(rows, 10) * parseFloat(rowHeight);\r\n    textarea.style.height = Math.max(height, minHeight) + 'px';\r\n}","var functionDebounce = debounce;\n\nfunction debounce(fn, wait, callFirst) {\n  var timeout = null;\n  var debouncedFn = null;\n\n  var clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n\n      debouncedFn = null;\n      timeout = null;\n    }\n  };\n\n  var flush = function() {\n    var call = debouncedFn;\n    clear();\n\n    if (call) {\n      call();\n    }\n  };\n\n  var debounceWrapper = function() {\n    if (!wait) {\n      return fn.apply(this, arguments);\n    }\n\n    var context = this;\n    var args = arguments;\n    var callNow = callFirst && !timeout;\n    clear();\n\n    debouncedFn = function() {\n      fn.apply(context, args);\n    };\n\n    timeout = setTimeout(function() {\n      timeout = null;\n\n      if (!callNow) {\n        var call = debouncedFn;\n        debouncedFn = null;\n\n        return call();\n      }\n    }, wait);\n\n    if (callNow) {\n      return debouncedFn();\n    }\n  };\n\n  debounceWrapper.cancel = clear;\n  debounceWrapper.flush = flush;\n\n  return debounceWrapper;\n}\n\nexport {functionDebounce as default};\n","var functionThrottle = throttle;\n\nfunction throttle(fn, interval, options) {\n  var timeoutId = null;\n  var throttledFn = null;\n  var leading = (options && options.leading);\n  var trailing = (options && options.trailing);\n\n  if (leading == null) {\n    leading = true; // default\n  }\n\n  if (trailing == null) {\n    trailing = !leading; //default\n  }\n\n  if (leading == true) {\n    trailing = false; // forced because there should be invocation per call\n  }\n\n  var cancel = function() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n  };\n\n  var flush = function() {\n    var call = throttledFn;\n    cancel();\n\n    if (call) {\n      call();\n    }\n  };\n\n  var throttleWrapper = function() {\n    var callNow = leading && !timeoutId;\n    var context = this;\n    var args = arguments;\n\n    throttledFn = function() {\n      return fn.apply(context, args);\n    };\n\n    if (!timeoutId) {\n      timeoutId = setTimeout(function() {\n        timeoutId = null;\n\n        if (trailing) {\n          return throttledFn();\n        }\n      }, interval);\n    }\n\n    if (callNow) {\n      callNow = false;\n      return throttledFn();\n    }\n  };\n\n  throttleWrapper.cancel = cancel;\n  throttleWrapper.flush = flush;\n\n  return throttleWrapper;\n}\n\nexport {functionThrottle as default};\n","import { parseMouseEvent } from \"./EventType\";\r\nimport { registerExtraDropEvent, registerExtraMouseEvent, registerExtraTouchEvent } from \"./extra\";\r\n\r\nexport function registerExtraEvents() {\r\n  registerExtraMouseEvent(\"exmousedown\", \"mousedown\");\r\n  registerExtraMouseEvent(\"exmouseup\", \"mouseup\");\r\n  registerExtraMouseEvent(\"exclick\", \"click\");\r\n  registerExtraMouseEvent(\"exmouseleave\", \"mouseleave\");\r\n  registerExtraMouseEvent(\"exmouseenter\", \"mouseenter\");\r\n  registerExtraMouseEvent(\"exmousemove\", \"mousemove\");\r\n  registerExtraTouchEvent(\"extouchstart\", \"touchstart\");\r\n  registerEvent(\"transitionend\", \"transitionend\");\r\n  registerExtraDropEvent(\"exdrop\", \"drop\");\r\n  registerAuxclickEvent();\r\n}\r\n\r\nfunction registerEvent(eventType: string, eventName: string) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerAuxclickEvent() {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(\"auxclick\", {\r\n      browserEventName: \"auxclick\",\r\n      createEventArgs: parseMouseEvent\r\n    });\r\n  }\r\n}\r\n","import { keyCodes } from \"utils/helper\";\r\n\r\ntype RippleEvent = (MouseEvent | TouchEvent | KeyboardEvent) & {\r\n  rippleStop?: boolean;\r\n};\r\n\r\nconst DELAY_RIPPLE = 80;\r\n\r\nfunction transform(el: HTMLElement, value: string) {\r\n  el.style.transform = value;\r\n  el.style.webkitTransform = value;\r\n}\r\n\r\nexport interface RippleOptions {\r\n  class?: string;\r\n  center?: boolean;\r\n  circle?: boolean;\r\n}\r\n\r\nfunction isTouchEvent(e: RippleEvent): e is TouchEvent {\r\n  return e.constructor.name === \"TouchEvent\";\r\n}\r\n\r\nfunction isKeyboardEvent(e: RippleEvent): e is KeyboardEvent {\r\n  return e.constructor.name === \"KeyboardEvent\";\r\n}\r\n\r\nconst calculate = (\r\n  e: RippleEvent,\r\n  el: HTMLElement,\r\n  value: RippleOptions = {}\r\n) => {\r\n  let localX = 0;\r\n  let localY = 0;\r\n\r\n  if (!isKeyboardEvent(e)) {\r\n    const offset = el.getBoundingClientRect();\r\n    const target = isTouchEvent(e) ? e.touches[e.touches.length - 1] : e;\r\n\r\n    localX = target.clientX - offset.left;\r\n    localY = target.clientY - offset.top;\r\n  }\r\n\r\n  let radius = 0;\r\n  let scale = 0.3;\r\n  if (el._ripple && el._ripple.circle) {\r\n    scale = 0.15;\r\n    radius = el.clientWidth / 2;\r\n    radius = value.center\r\n      ? radius\r\n      : radius + Math.sqrt((localX - radius) ** 2 + (localY - radius) ** 2) / 4;\r\n  } else {\r\n    radius = Math.sqrt(el.clientWidth ** 2 + el.clientHeight ** 2) / 2;\r\n  }\r\n\r\n  const centerX = `${(el.clientWidth - radius * 2) / 2}px`;\r\n  const centerY = `${(el.clientHeight - radius * 2) / 2}px`;\r\n\r\n  const x = value.center ? centerX : `${localX - radius}px`;\r\n  const y = value.center ? centerY : `${localY - radius}px`;\r\n\r\n  return { radius, scale, x, y, centerX, centerY };\r\n};\r\n\r\nconst ripples = {\r\n  /* eslint-disable max-statements */\r\n  show(e: RippleEvent, el: HTMLElement, value: RippleOptions = {}) {\r\n    if (!el._ripple || !el._ripple.enabled) {\r\n      return;\r\n    }\r\n\r\n    const container = document.createElement(\"span\");\r\n    const animation = document.createElement(\"span\");\r\n\r\n    container.appendChild(animation);\r\n    container.className = \"m-ripple__container\";\r\n\r\n    if (value.class) {\r\n      container.className += ` ${value.class}`;\r\n    }\r\n\r\n    const { radius, scale, x, y, centerX, centerY } = calculate(e, el, value);\r\n\r\n    const size = `${radius * 2}px`;\r\n    animation.className = \"m-ripple__animation\";\r\n    animation.style.width = size;\r\n    animation.style.height = size;\r\n\r\n    el.appendChild(container);\r\n\r\n    const computed = window.getComputedStyle(el);\r\n    if (computed && computed.position === \"static\") {\r\n      el.style.position = \"relative\";\r\n      el.dataset.previousPosition = \"static\";\r\n    }\r\n\r\n    animation.classList.add(\"m-ripple__animation--enter\");\r\n    animation.classList.add(\"m-ripple__animation--visible\");\r\n    transform(\r\n      animation,\r\n      `translate(${x}, ${y}) scale3d(${scale},${scale},${scale})`\r\n    );\r\n    animation.dataset.activated = String(performance.now());\r\n\r\n    setTimeout(() => {\r\n      animation.classList.remove(\"m-ripple__animation--enter\");\r\n      animation.classList.add(\"m-ripple__animation--in\");\r\n      transform(animation, `translate(${centerX}, ${centerY}) scale3d(1,1,1)`);\r\n    }, 0);\r\n  },\r\n\r\n  hide(el: HTMLElement | null) {\r\n    if (!el || !el._ripple || !el._ripple.enabled) return;\r\n\r\n    const ripples = el.getElementsByClassName(\"m-ripple__animation\");\r\n\r\n    if (ripples.length === 0) return;\r\n    const animation = ripples[ripples.length - 1];\r\n\r\n    if (animation.dataset.isHiding) return;\r\n    else animation.dataset.isHiding = \"true\";\r\n\r\n    const diff = performance.now() - Number(animation.dataset.activated);\r\n    const delay = Math.max(250 - diff, 0);\r\n\r\n    setTimeout(() => {\r\n      animation.classList.remove(\"m-ripple__animation--in\");\r\n      animation.classList.add(\"m-ripple__animation--out\");\r\n\r\n      setTimeout(() => {\r\n        const ripples = el.getElementsByClassName(\"m-ripple__animation\");\r\n        if (ripples.length === 1 && el.dataset.previousPosition) {\r\n          el.style.position = el.dataset.previousPosition;\r\n          delete el.dataset.previousPosition;\r\n        }\r\n\r\n        if (animation.parentNode?.parentNode === el)\r\n          el.removeChild(animation.parentNode);\r\n      }, 300);\r\n    }, delay);\r\n  },\r\n};\r\n\r\nfunction rippleShow(e: RippleEvent) {\r\n  const value: RippleOptions = {};\r\n  const element = e.currentTarget as HTMLElement;\r\n\r\n  if (!element || !element._ripple || element._ripple.touched || e.rippleStop)\r\n    return;\r\n\r\n  // Don't allow the event to trigger ripples on any other elements\r\n  e.rippleStop = true;\r\n\r\n  if (isTouchEvent(e)) {\r\n    element._ripple.touched = true;\r\n    element._ripple.isTouch = true;\r\n  } else {\r\n    // It's possible for touch events to fire\r\n    // as mouse events on Android/iOS, this\r\n    // will skip the event call if it has\r\n    // already been registered as touch\r\n    if (element._ripple.isTouch) return;\r\n  }\r\n  value.center = element._ripple.centered || isKeyboardEvent(e);\r\n  if (element._ripple.class) {\r\n    value.class = element._ripple.class;\r\n  }\r\n\r\n  if (isTouchEvent(e)) {\r\n    // already queued that shows or hides the ripple\r\n    if (element._ripple.showTimerCommit) return;\r\n\r\n    element._ripple.showTimerCommit = () => {\r\n      ripples.show(e, element, value);\r\n    };\r\n    element._ripple.showTimer = window.setTimeout(() => {\r\n      if (element && element._ripple && element._ripple.showTimerCommit) {\r\n        element._ripple.showTimerCommit();\r\n        element._ripple.showTimerCommit = null;\r\n      }\r\n    }, DELAY_RIPPLE);\r\n  } else {\r\n    ripples.show(e, element, value);\r\n  }\r\n}\r\n\r\nfunction rippleHide(e: Event) {\r\n  const element = e.currentTarget as HTMLElement | null;\r\n  if (!element || !element._ripple) return;\r\n\r\n  window.clearTimeout(element._ripple.showTimer);\r\n\r\n  // The touch interaction occurs before the show timer is triggered.\r\n  // We still want to show ripple effect.\r\n  if (e.type === \"touchend\" && element._ripple.showTimerCommit) {\r\n    element._ripple.showTimerCommit();\r\n    element._ripple.showTimerCommit = null;\r\n\r\n    // re-queue ripple hiding\r\n    var timerHandler: TimerHandler = () => rippleHide(e);\r\n    element._ripple.showTimer = setTimeout(timerHandler);\r\n    return;\r\n  }\r\n\r\n  window.setTimeout(() => {\r\n    if (element._ripple) {\r\n      element._ripple.touched = false;\r\n    }\r\n  });\r\n  ripples.hide(element);\r\n}\r\n\r\nfunction rippleCancelShow(e: MouseEvent | TouchEvent) {\r\n  const element = e.currentTarget as HTMLElement | undefined;\r\n\r\n  if (!element || !element._ripple) return;\r\n\r\n  if (element._ripple.showTimerCommit) {\r\n    element._ripple.showTimerCommit = null;\r\n  }\r\n\r\n  window.clearTimeout(element._ripple.showTimer);\r\n}\r\n\r\nfunction keyboardRippleShow(e: KeyboardEvent) {\r\n  const target = e.currentTarget as HTMLElement;\r\n  if (\r\n    !target[\"keyboardRipple\"] &&\r\n    (e.keyCode === keyCodes.enter || e.keyCode === keyCodes.space)\r\n  ) {\r\n    target[\"keyboardRipple\"] = true;\r\n    rippleShow(e);\r\n  }\r\n}\r\n\r\nfunction keyboardRippleHide(e: KeyboardEvent) {\r\n  const target = e.currentTarget as HTMLElement;\r\n  target[\"keyboardRipple\"] = false;\r\n  rippleHide(e);\r\n}\r\n\r\nfunction focusRippleHide(e: FocusEvent) {\r\n  const target = e.currentTarget as HTMLElement;\r\n  if (target[\"keyboardRipple\"] === true) {\r\n    target[\"keyboardRipple\"] = false;\r\n    rippleHide(e);\r\n  }\r\n}\r\nexport function updateRipple(\r\n  el: HTMLElement,\r\n  options: RippleOptions | null,\r\n  wasEnabled: boolean\r\n) {\r\n  let enabled = false;\r\n  if (options) {\r\n    enabled = true;\r\n  } else {\r\n    ripples.hide(el);\r\n  }\r\n\r\n  const value = options || {};\r\n  el._ripple = el._ripple || {};\r\n  el._ripple.enabled = enabled;\r\n  el._ripple = {\r\n    ...el._ripple,\r\n    centered: value.center,\r\n    class: value.class,\r\n    circle: value.circle,\r\n  };\r\n\r\n  if (enabled && !wasEnabled) {\r\n    el.addEventListener(\"touchstart\", rippleShow, { passive: true });\r\n    el.addEventListener(\"touchend\", rippleHide, { passive: true });\r\n    el.addEventListener(\"touchmove\", rippleCancelShow, { passive: true });\r\n    el.addEventListener(\"touchcancel\", rippleHide);\r\n\r\n    el.addEventListener(\"mousedown\", rippleShow);\r\n    el.addEventListener(\"mouseup\", rippleHide);\r\n    el.addEventListener(\"mouseleave\", rippleHide);\r\n\r\n    el.addEventListener(\"keydown\", keyboardRippleShow);\r\n    el.addEventListener(\"keyup\", keyboardRippleHide);\r\n\r\n    el.addEventListener(\"blur\", focusRippleHide);\r\n\r\n    // Anchor tags can be dragged, causes other hides to fail - #1537\r\n    el.addEventListener(\"dragstart\", rippleHide, { passive: true });\r\n  } else if (!enabled && wasEnabled) {\r\n    removeListeners(el);\r\n  }\r\n}\r\n\r\nexport function removeListeners(el: HTMLElement) {\r\n  el.removeEventListener(\"mousedown\", rippleShow);\r\n  el.removeEventListener(\"touchstart\", rippleShow);\r\n  el.removeEventListener(\"touchend\", rippleHide);\r\n  el.removeEventListener(\"touchmove\", rippleCancelShow);\r\n  el.removeEventListener(\"touchcancel\", rippleHide);\r\n  el.removeEventListener(\"mouseup\", rippleHide);\r\n  el.removeEventListener(\"mouseleave\", rippleHide);\r\n  el.removeEventListener(\"keydown\", keyboardRippleShow);\r\n  el.removeEventListener(\"keyup\", keyboardRippleHide);\r\n  el.removeEventListener(\"dragstart\", rippleHide);\r\n  el.removeEventListener(\"blur\", focusRippleHide);\r\n  el._ripple.enabled = false;\r\n}\r\n","import debounceIt from \"just-debounce-it\";\r\nimport throttle from \"just-throttle\";\r\n\r\nimport { parseDragEvent, parseMouseEvent, parseTouchEvent, touchEvents } from \"./events/EventType\";\r\nimport { registerExtraEvents } from \"./events/index\";\r\nimport registerRippleObserver from \"./ripple\";\r\nimport {\r\n    canUseDom, getActivator, getBlazorId, getDom, getElementSelector, IN_BROWSER\r\n} from \"./utils/helper\";\r\n\r\nwindow.onload = function () {\r\n  registerExtraEvents();\r\n  registerPasteWithData(\"pastewithdata\")\r\n  registerRippleObserver();\r\n}\r\n\r\nexport function getZIndex(el?: Element | null): number {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0\r\n\r\n  const index = +window.getComputedStyle(el).getPropertyValue('z-index')\r\n\r\n  if (!index) return getZIndex(el.parentNode as Element)\r\n  return index\r\n}\r\n\r\nexport function getDomInfo(element, selector = \"body\") {\r\n  var result = {};\r\n\r\n  var dom = getDom(element);\r\n\r\n  if (dom) {\r\n    if (dom.style && dom.style[\"display\"] === \"none\") {\r\n      // clone and set display not none because\r\n      // element with display:none can not get the dom info\r\n      var cloned = dom.cloneNode(true) as HTMLElement;\r\n      cloned.style[\"display\"] = \"inline-block\";\r\n      cloned.style[\"z-index\"] = -1000;\r\n      dom.parentElement.appendChild(cloned);\r\n\r\n      result = getDomInfoObj(cloned);\r\n\r\n      dom.parentElement.removeChild(cloned);\r\n    } else {\r\n      result = getDomInfoObj(dom);\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction getDomInfoObj(dom: HTMLElement) {\r\n  var result = {};\r\n  result[\"offsetTop\"] = dom.offsetTop || 0;\r\n  result[\"offsetLeft\"] = dom.offsetLeft || 0;\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n  result[\"scrollWidth\"] = dom.scrollWidth || 0;\r\n  result[\"scrollLeft\"] = dom.scrollLeft || 0;\r\n  result[\"scrollTop\"] = dom.scrollTop || 0;\r\n  result[\"clientTop\"] = dom.clientTop || 0;\r\n  result[\"clientLeft\"] = dom.clientLeft || 0;\r\n  result[\"clientHeight\"] = dom.clientHeight || 0;\r\n  result[\"clientWidth\"] = dom.clientWidth || 0;\r\n  var position = getElementPos(dom);\r\n  result[\"offsetWidth\"] = Math.round(position.offsetWidth) || 0;\r\n  result[\"offsetHeight\"] = Math.round(position.offsetHeight) || 0;\r\n  result[\"relativeTop\"] = Math.round(position.relativeTop) || 0;\r\n  result[\"relativeBottom\"] = Math.round(position.relativeBottom) || 0;\r\n  result[\"relativeLeft\"] = Math.round(position.relativeLeft) || 0;\r\n  result[\"relativeRight\"] = Math.round(position.relativeRight) || 0;\r\n  result[\"absoluteLeft\"] = Math.round(position.absoluteLeft) || 0;\r\n  result[\"absoluteTop\"] = Math.round(position.absoluteTop) || 0;\r\n  return result;\r\n}\r\n\r\nfunction getElementPos(element) {\r\n  var res: any = new Object();\r\n  res.x = 0;\r\n  res.y = 0;\r\n  if (element !== null) {\r\n    if (element.getBoundingClientRect) {\r\n      var viewportElement = document.documentElement;\r\n      var box = element.getBoundingClientRect();\r\n      var scrollLeft = viewportElement.scrollLeft;\r\n      var scrollTop = viewportElement.scrollTop;\r\n\r\n      res.offsetWidth = box.width;\r\n      res.offsetHeight = box.height;\r\n      res.relativeTop = box.top;\r\n      res.relativeBottom = box.bottom;\r\n      res.relativeLeft = box.left;\r\n      res.relativeRight = box.right;\r\n      res.absoluteLeft = box.left + scrollLeft;\r\n      res.absoluteTop = box.top + scrollTop;\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function getParentClientWidthOrWindowInnerWidth(element: HTMLElement) {\r\n  return element.parentElement ? element.parentElement.clientWidth : window.innerWidth;\r\n}\r\n\r\nexport function triggerEvent(elOrString, eventName: string, eventType: string, stopPropagation: boolean) {\r\n  var dom = getDom(elOrString);\r\n  var evt = document.createEvent(eventName);\r\n  evt.initEvent(eventType);\r\n\r\n  if (stopPropagation) {\r\n    evt.stopPropagation();\r\n  }\r\n\r\n  return dom.dispatchEvent(evt);\r\n}\r\n\r\nexport function setProperty(elOrString, name, value) {\r\n  var dom = getDom(elOrString);\r\n  dom[name] = value;\r\n}\r\n\r\nexport function getBoundingClientRect(elOrString, attach = \"body\") {\r\n  let dom = getDom(elOrString);\r\n\r\n  var result = {};\r\n\r\n  if (dom && dom.getBoundingClientRect) {\r\n    if (dom.style && dom.style[\"display\"] === \"none\") {\r\n      var cloned = dom.cloneNode(true) as HTMLElement;\r\n      cloned.style[\"display\"] = \"inline-block\";\r\n      cloned.style[\"z-index\"] = -1000;\r\n      document.querySelector(attach)?.appendChild(cloned);\r\n\r\n      result = cloned.getBoundingClientRect();\r\n\r\n      document.querySelector(attach)?.removeChild(cloned);\r\n    } else {\r\n      result = dom.getBoundingClientRect();\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nvar htmlElementEventListenerId = 1;\r\nvar htmlElementEventListenerConfigs: { [id: number]: HtmlElementEventListenerConfig[] } = {}\r\n\r\ntype HtmlElementEventListenerConfig = {\r\n  el?: HTMLElement | Window;\r\n  type?: string;\r\n  listener?: (args: any) => void;\r\n  options?: any;\r\n  handle?: DotNet.DotNetObject;\r\n}\r\n\r\nexport function addHtmlElementEventListener<K extends keyof HTMLElementTagNameMap>(\r\n  selector: \"window\" | \"document\" | K,\r\n  type: string,\r\n  invoker: DotNet.DotNetObject,\r\n  options?: boolean | AddEventListenerOptions,\r\n  extras?: Partial<Pick<Event, \"stopPropagation\" | \"preventDefault\">> & { relatedTarget?: string, throttle?: number, debounce?: number }) {\r\n  let htmlElement: HTMLElement | Window\r\n\r\n  if (selector == \"window\") {\r\n    htmlElement = window;\r\n  } else if (selector == \"document\") {\r\n    htmlElement = document.documentElement;\r\n  } else {\r\n    htmlElement = document.querySelector(selector);\r\n  }\r\n\r\n  if (!htmlElement) {\r\n    // throw new Error(\"Unable to find the element.\");\r\n    return 0;\r\n  }\r\n\r\n  var key = htmlElementEventListenerId;\r\n\r\n  //save for remove\r\n  const config: HtmlElementEventListenerConfig = {};\r\n\r\n  var listener = (e: any): void => {\r\n    if (extras?.stopPropagation) {\r\n      e.stopPropagation();\r\n    }\r\n\r\n    if ((typeof e.cancelable !== \"boolean\" || e.cancelable) && extras?.preventDefault) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    // mouseleave relatedTarget\r\n    if (extras?.relatedTarget && document.querySelector(extras.relatedTarget)?.contains(e.relatedTarget)) {\r\n      return;\r\n    }\r\n\r\n    let obj: any = {}\r\n\r\n    if (touchEvents.includes(e.type)) {\r\n      obj = parseTouchEvent(e);\r\n    } else if (e instanceof MouseEvent) {\r\n      obj = parseMouseEvent(e);\r\n    } else {\r\n      for (var k in e) {\r\n        if (typeof e[k] == \"string\" || typeof e[k] == \"number\") {\r\n          obj[k] = e[k];\r\n        }\r\n      }\r\n    }\r\n\r\n    if (e.target && e.target !== window && e.target !== document) {\r\n      obj.target = {}\r\n      const target = e.target as HTMLElement;\r\n      const elementReferenceId = target.getAttributeNames().find(a => a.startsWith('_bl_'));\r\n      if (elementReferenceId) {\r\n        obj.target['elementReferenceId'] = elementReferenceId\r\n        obj.target['selector'] = `[${elementReferenceId}]`\r\n      } else {\r\n        obj.target['selector'] = getElementSelector(target)\r\n      }\r\n\r\n      obj.target['class'] = target.getAttribute('class')\r\n    }\r\n\r\n    invoker.invokeMethodAsync('Invoke', obj);\r\n  };\r\n\r\n  if (extras?.debounce && extras.debounce > 0) {\r\n    config.listener = debounceIt(listener, extras.debounce)\r\n  } else if (extras?.throttle && extras.throttle > 0) {\r\n    config.listener = throttle(listener, extras.throttle, { trailing: true })\r\n  } else {\r\n    config.listener = listener;\r\n  }\r\n\r\n  config.options = options;\r\n  config.handle = invoker\r\n  config.el = htmlElement;\r\n  config.type = type;\r\n\r\n  if (htmlElementEventListenerConfigs[key]) {\r\n    htmlElementEventListenerConfigs[key].push(config);\r\n  } else {\r\n    htmlElementEventListenerConfigs[key] = [config]\r\n  }\r\n\r\n  htmlElement.addEventListener(type, config.listener, config.options);\r\n\r\n  return htmlElementEventListenerId++;\r\n}\r\n\r\nexport function removeHtmlElementEventListener(eventId: number) {\r\n  var configs = htmlElementEventListenerConfigs[eventId];\r\n  if (configs) {\r\n    configs.forEach(item => {\r\n      item.handle.dispose();\r\n      item.el.removeEventListener(item.type, item.listener, item.options);\r\n    });\r\n\r\n    delete htmlElementEventListenerConfigs[eventId]\r\n  }\r\n}\r\n\r\nexport function addMouseleaveEventListener(selector) {\r\n  var htmlElement = document.querySelector(selector);\r\n  if (htmlElement) {\r\n    htmlElement.addEventListener()\r\n  }\r\n}\r\n\r\nexport function contains(e1, e2) {\r\n  const dom1 = getDom(e1);\r\n  if (dom1 && dom1.contains) {\r\n    return dom1.contains(getDom(e2));\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function equalsOrContains(e1: any, e2: any) {\r\n  const dom1 = getDom(e1);\r\n  const dom2 = getDom(e2);\r\n  return !!dom1 && dom1.contains && !!dom2 && (dom1 == dom2 || dom1.contains(dom2));\r\n}\r\n\r\nfunction fallbackCopyTextToClipboard(text) {\r\n  var textArea = document.createElement(\"textarea\");\r\n  textArea.value = text;\r\n\r\n  // Avoid scrolling to bottom\r\n  textArea.style.top = \"0\";\r\n  textArea.style.left = \"0\";\r\n  textArea.style.position = \"fixed\";\r\n\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n\r\n  try {\r\n    var successful = document.execCommand('copy');\r\n    var msg = successful ? 'successful' : 'unsuccessful';\r\n    console.log('Fallback: Copying text command was ' + msg);\r\n  } catch (err) {\r\n    console.error('Fallback: Oops, unable to copy', err);\r\n  }\r\n\r\n  document.body.removeChild(textArea);\r\n}\r\n\r\nexport function copy(text) {\r\n  if (!navigator.clipboard) {\r\n    fallbackCopyTextToClipboard(text);\r\n    return;\r\n  }\r\n  navigator.clipboard.writeText(text).then(function () {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function (err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\n\r\nexport function focus(elOrString, preventScroll: boolean = false) {\r\n  let dom = getDom(elOrString);\r\n  if (!(dom instanceof HTMLElement)) {\r\n    console.error(\"Unable to focus an invalid element\");\r\n  } else {\r\n    dom.focus({ preventScroll });\r\n  }\r\n}\r\n\r\nexport function select(elOrString) {\r\n  let dom = getDom(elOrString);\r\n  if (!(dom instanceof HTMLInputElement || dom instanceof HTMLTextAreaElement))\r\n    throw new Error(\"Unable to select an invalid element\")\r\n  dom.select()\r\n}\r\n\r\nexport function hasFocus(selector) {\r\n  let dom = getDom(selector);\r\n  return (document.activeElement === dom);\r\n}\r\n\r\nexport function blur(selector) {\r\n  let dom = getDom(selector);\r\n  dom.blur();\r\n}\r\n\r\nexport function log(text) {\r\n  console.log(text);\r\n}\r\n\r\nexport function scrollIntoView(target, arg?: boolean | ScrollIntoViewOptions) {\r\n  let dom = getDom(target);\r\n  if (dom instanceof HTMLElement) {\r\n    if (arg === null || arg == undefined) {\r\n      dom.scrollIntoView();\r\n    } else if (typeof arg === 'boolean') {\r\n      dom.scrollIntoView(arg);\r\n    } else {\r\n      dom.scrollIntoView({\r\n        block: arg.block == null ? undefined : arg.block,\r\n        inline: arg.inline == null ? undefined : arg.inline,\r\n        behavior: arg.behavior\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport function scrollIntoParentView(\r\n  target,\r\n  inline = false,\r\n  start = false,\r\n  level = 1,\r\n  behavior: ScrollBehavior = \"smooth\",\r\n) {\r\n  const dom = getDom(target);\r\n  if (dom instanceof HTMLElement) {\r\n    let parent: HTMLElement = dom;\r\n    while (level > 0) {\r\n      parent = parent.parentElement;\r\n      level--;\r\n      if (!parent) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    const options: ScrollToOptions = {\r\n      behavior,\r\n    };\r\n\r\n    if (inline) {\r\n      if (start) {\r\n        options.left = dom.offsetLeft\r\n      } else {\r\n        const to = dom.offsetLeft - parent.offsetLeft;\r\n        if (to - parent.scrollLeft < 0) {\r\n        options.left = to;\r\n      } else if (\r\n        to + dom.offsetWidth - parent.scrollLeft >\r\n        parent.offsetWidth\r\n        ) {\r\n          options.left = to + dom.offsetWidth - parent.offsetWidth;\r\n        }\r\n      }\r\n    } else {\r\n      if (start) {\r\n        options.top = dom.offsetTop;\r\n      } else {\r\n        const to = dom.offsetTop - parent.offsetTop;\r\n        if (to - parent.scrollTop < 0) {\r\n          options.top = to;\r\n        } else if (\r\n          to + dom.offsetHeight - parent.scrollTop >\r\n          parent.offsetHeight\r\n          ) {\r\n            options.top = to + dom.offsetHeight - parent.offsetHeight;\r\n          }\r\n      }\r\n    }\r\n\r\n    if (options.left || options.top) {\r\n      parent.scrollTo(options);\r\n    }\r\n  }\r\n}\r\n\r\nexport function scrollTo(target, options: ScrollToOptions) {\r\n  console.log('target', target, options);\r\n  let dom = getDom(target);\r\n  console.log('dom', dom)\r\n  if (dom instanceof HTMLElement) {\r\n    const o = {\r\n      left: options.left === null ? undefined : options.left,\r\n      top: options.top === null ? undefined : options.top,\r\n      behavior: options.behavior\r\n    }\r\n    dom.scrollTo(o)\r\n  } else if (dom === window) {\r\n    console.log('window', options);\r\n    window.scrollTo(options);\r\n  }\r\n}\r\n\r\nexport function scrollToTarget(\r\n  target: string,\r\n  container: string = null,\r\n  offset: number = 0,\r\n  behavior: ScrollBehavior = \"smooth\"\r\n) {\r\n  const targetEl: HTMLElement = document.querySelector(target);\r\n  if (targetEl) {\r\n    let top ;\r\n    if (container) {\r\n      top = targetEl.offsetTop;\r\n    } else {\r\n      top = targetEl.getBoundingClientRect().top + window.scrollY;\r\n    }\r\n    const containerEl = container\r\n      ? document.querySelector(container)\r\n      : document.documentElement\r\n    containerEl.scrollTo({\r\n      top: top - offset,\r\n      behavior: behavior\r\n    });\r\n  }\r\n}\r\n\r\nexport function scrollToElement(target, offset: number, behavior?: ScrollBehavior) {\r\n  const dom = getDom(target)\r\n  if (!dom) return;\r\n  const domPosition = dom.getBoundingClientRect().top;\r\n  const offsetPosition = domPosition + window.pageYOffset - offset;\r\n  window.scrollTo({\r\n    top: offsetPosition,\r\n    behavior: behavior\r\n  })\r\n}\r\n\r\nexport function scrollToActiveElement(\r\n  container,\r\n  element = \".active\",\r\n  position: \"center\" | number = \"center\",\r\n  smooth: boolean = false\r\n) {\r\n  let containerEl: HTMLElement = getDom(container);\r\n\r\n  let activeEl: HTMLElement\r\n  if (typeof element === 'string') {\r\n    activeEl =  container.querySelector(element)\r\n  }\r\n\r\n  if (!containerEl || !activeEl) {\r\n    return;\r\n  }\r\n\r\n  const top: number = position === 'center' ? activeEl.offsetTop - containerEl.offsetHeight / 2 + activeEl.offsetHeight / 2 : activeEl.offsetTop - position;\r\n\r\n  containerEl.scrollTo({ top, behavior: smooth ? 'smooth' : 'auto' });\r\n}\r\n\r\nexport function addClsToFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.add(className);\r\n  }\r\n}\r\n\r\nexport function removeClsFromFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.remove(className);\r\n  }\r\n}\r\n\r\nexport function getAbsoluteTop(e) {\r\n  var offset = e.offsetTop;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteTop(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function getAbsoluteLeft(e) {\r\n  var offset = e.offsetLeft;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteLeft(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function addElementToBody(element) {\r\n  document.body.appendChild(element);\r\n}\r\n\r\nexport function delElementFromBody(element) {\r\n  document.body.removeChild(element);\r\n}\r\n\r\nexport function addElementTo(addElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && addElement) {\r\n    parent.appendChild(addElement);\r\n  }\r\n}\r\n\r\nexport function delElementFrom(delElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && delElement) {\r\n    parent.removeChild(delElement);\r\n  }\r\n}\r\n\r\nexport function getActiveElement() {\r\n  let element = document.activeElement;\r\n  let id = element.getAttribute(\"id\") || \"\";\r\n  return id;\r\n}\r\n\r\nexport function focusDialog(selector: string, count: number = 0) {\r\n  let ele = <HTMLElement>document.querySelector(selector);\r\n  if (ele && !ele.hasAttribute(\"disabled\")) {\r\n    setTimeout(() => {\r\n      ele.focus();\r\n      let curId = \"#\" + getActiveElement();\r\n      if (curId !== selector) {\r\n        if (count < 10) {\r\n          focusDialog(selector, count + 1);\r\n        }\r\n      }\r\n    }, 10);\r\n  }\r\n}\r\n\r\nexport function getWindow() {\r\n  return {\r\n    innerWidth: window.innerWidth,\r\n    innerHeight: window.innerHeight,\r\n    pageXOffset: window.pageXOffset,\r\n    pageYOffset: window.pageYOffset,\r\n    isTop: window.scrollY == 0,\r\n    isBottom: (window.scrollY + window.innerHeight) == document.body.clientHeight\r\n  };\r\n}\r\n\r\nexport function getWindowAndDocumentProps(windowProps: string[] = [], documentProps: string[] = []) {\r\n  const obj = {}\r\n\r\n  if (windowProps) {\r\n    windowProps.forEach(prop => obj[prop] = window[prop]);\r\n    obj['pageYOffset'] = getPageYOffset();\r\n  }\r\n\r\n  if (documentProps) {\r\n    documentProps.forEach(prop => obj[prop] = document.documentElement[prop]);\r\n  }\r\n\r\n  return obj\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return () => {\r\n    const context = this, args = arguments;\r\n    const later = () => {\r\n      timeout = null;\r\n      if (!immediate) func.apply(this, args);\r\n    };\r\n    const callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nexport function css(element: any, name: string | object, value: string | null = null) {\r\n  var dom = getDom(element);\r\n  if (typeof name === 'string') {\r\n    dom.style[name] = value;\r\n  } else {\r\n    for (let key in name) {\r\n      if (name.hasOwnProperty(key)) {\r\n        dom.style[key] = name[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function addCls(selector: Element | string, clsName: string | Array<string>) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.add(clsName);\r\n  } else {\r\n    element.classList.add(...clsName);\r\n  }\r\n}\r\n\r\nexport function removeCls(selector: Element | string, clsName: string | Array<string>) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.remove(clsName);\r\n  } else {\r\n    element.classList.remove(...clsName);\r\n  }\r\n}\r\n\r\nexport function elementScrollIntoView(selector: Element | string) {\r\n  let element = getDom(selector);\r\n\r\n  if (!element)\r\n    return;\r\n\r\n  element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\r\n}\r\n\r\nconst hasScrollbar = () => {\r\n  let overflow = document.body.style.overflow;\r\n  if (overflow && overflow === \"hidden\") return false;\r\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\r\n}\r\n\r\nexport function getScroll() {\r\n  return { x: window.pageXOffset, y: window.pageYOffset };\r\n}\r\n\r\nfunction isElement(node: Element) {\r\n  const ELEMENT_NODE_TYPE = 1;\r\n  return (\r\n    node.tagName !== \"HTML\" &&\r\n    node.tagName !== \"BODY\" &&\r\n    node.nodeType == ELEMENT_NODE_TYPE\r\n  )\r\n}\r\n\r\nexport function getScrollParent(el: Element | undefined, root: HTMLElement | Window | undefined = undefined) {\r\n  root ??= canUseDom ? window : undefined;\r\n\r\n  let node = el;\r\n  while (node && node !== root && isElement(node)) {\r\n    const { overflowY } = window.getComputedStyle(node);\r\n    if (/scroll|auto|overlay/i.test(overflowY)) {\r\n      return node;\r\n    }\r\n\r\n    node = node.parentNode as Element;\r\n  }\r\n\r\n  return root;\r\n}\r\n\r\nexport function getScrollTop(el: HTMLElement | Window): number {\r\n  const top = 'scrollTop' in el ? el.scrollTop : el.pageYOffset;\r\n\r\n  // iOS scroll bounce cause minus scrollTop\r\n  return Math.max(top, 0);\r\n}\r\n\r\nexport function getInnerText(element) {\r\n  let dom = getDom(element);\r\n  return dom.innerText;\r\n}\r\n\r\nexport function getMenuOrDialogMaxZIndex(exclude: Element[] = [], element: Element) {\r\n  const base = getDom(element);\r\n  // Start with lowest allowed z-index or z-index of\r\n  // base component's element, whichever is greater\r\n  const zis = [getZIndex(base)]\r\n\r\n  const activeElements = [\r\n    ...Array.from(document.getElementsByClassName('m-menu__content--active')),\r\n    ...Array.from(document.getElementsByClassName('m-dialog__content--active')),\r\n  ]\r\n\r\n  // Get z-index for all active dialogs\r\n  for (let index = 0; index < activeElements.length; index++) {\r\n    if (!exclude.includes(activeElements[index])) {\r\n      zis.push(getZIndex(activeElements[index]))\r\n    }\r\n  }\r\n\r\n  return Math.max(...zis)\r\n}\r\n\r\nexport function getMaxZIndex() {\r\n  return Array.from(document.all).reduce((r, e) => Math.max(r, +window.getComputedStyle(e).zIndex || 0), 0)\r\n}\r\n\r\nexport function getStyle(element, styleProp) {\r\n  element = getDom(element);\r\n\r\n  if (element.currentStyle) {\r\n    return element.currentStyle[styleProp];\r\n  } else if (window.getComputedStyle) {\r\n    return document.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\r\n  }\r\n}\r\n\r\nexport function getTextAreaInfo(element) {\r\n  var result = {};\r\n  var dom = getDom(element);\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n\r\n  if (element.currentStyle) {\r\n    result[\"lineHeight\"] = parseFloat(element.currentStyle[\"line-height\"]);\r\n    result[\"paddingTop\"] = parseFloat(element.currentStyle[\"padding-top\"]);\r\n    result[\"paddingBottom\"] = parseFloat(element.currentStyle[\"padding-bottom\"]);\r\n    result[\"borderBottom\"] = parseFloat(element.currentStyle[\"border-bottom\"]);\r\n    result[\"borderTop\"] = parseFloat(element.currentStyle[\"border-top\"]);\r\n  } else if (window.getComputedStyle) {\r\n    result[\"lineHeight\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"line-height\"));\r\n    result[\"paddingTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-top\"));\r\n    result[\"paddingBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-bottom\"));\r\n    result[\"borderBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-bottom\"));\r\n    result[\"borderTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-top\"));\r\n  }\r\n  //Firefox can return this as NaN, so it has to be handled here like that.\r\n  if (Object.is(NaN, result[\"borderTop\"]))\r\n    result[\"borderTop\"] = 1;\r\n  if (Object.is(NaN, result[\"borderBottom\"]))\r\n    result[\"borderBottom\"] = 1;\r\n  return result;\r\n}\r\n\r\nconst objReferenceDict = {};\r\n\r\nexport function disposeObj(objReferenceName) {\r\n  delete objReferenceDict[objReferenceName];\r\n}\r\n\r\nexport function upsertThemeStyle(id: string, style: string) {\r\n  const d = document.getElementById(id);\r\n  if (d) {\r\n    document.head.removeChild(d);\r\n  }\r\n\r\n  const d_style = document.createElement('style')\r\n  d_style.id = id;\r\n  d_style.type = \"text/css\";\r\n  d_style.innerHTML = style;\r\n\r\n  document.head.insertAdjacentElement('beforeend', d_style)\r\n}\r\n\r\nexport function getImageDimensions(src: string) {\r\n  return new Promise(function (resolve, reject) {\r\n    var img = new Image()\r\n    img.src = src\r\n    img.onload = function () {\r\n      resolve({\r\n        width: img.width,\r\n        height: img.height,\r\n        hasError: false\r\n      })\r\n    }\r\n    img.onerror = function () {\r\n      resolve({\r\n        width: 0,\r\n        height: 0,\r\n        hasError: true\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nexport function enablePreventDefaultForEvent(element: any, event: string, condition?: any) {\r\n  const dom = getDom(element);\r\n  if (!dom) return;\r\n  if (event === 'keydown') {\r\n    dom.addEventListener(event, (e: KeyboardEvent) => {\r\n      if (Array.isArray(condition)) {\r\n        var codes = condition as string[];\r\n        if (codes.includes(e.code)) {\r\n          e.preventDefault();\r\n        }\r\n      } else {\r\n        e.preventDefault();\r\n      }\r\n    })\r\n  } else {\r\n    dom.addEventListener(event, e => {\r\n      if (e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function getBoundingClientRects(selector) {\r\n  var elements = document.querySelectorAll(selector);\r\n\r\n  var result = [];\r\n\r\n  for (var i = 0; i < elements.length; i++) {\r\n    var e: Element = elements[i];\r\n    var dom = {\r\n      id: e.id,\r\n      rect: e.getBoundingClientRect()\r\n    };\r\n    result.push(dom);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function getSize(selectors, sizeProp) {\r\n  var el = getDom(selectors);\r\n\r\n  var display = el.style.display;\r\n  var overflow = el.style.overflow;\r\n\r\n  el.style.display = \"\";\r\n  el.style.overflow = \"hidden\";\r\n\r\n  var size = el[\"offset\" + sizeProp.charAt(0).toUpperCase() + sizeProp.slice(1)] || 0;\r\n\r\n  el.style.display = display;\r\n  el.style.overflow = overflow;\r\n\r\n  return size;\r\n}\r\n\r\nexport function getProp(elOrString, name) {\r\n  if (elOrString === 'window') {\r\n    return window[name];\r\n  }\r\n\r\n  var el = getDom(elOrString);\r\n  if (!el) {\r\n    return null;\r\n  }\r\n\r\n  return el[name];\r\n}\r\n\r\nexport function updateWindowTransition(selectors, isActive, item) {\r\n  var el: HTMLElement = getDom(selectors);\r\n  var container: HTMLElement = el.querySelector('.m-window__container');\r\n\r\n  if (item) {\r\n    var itemEl: HTMLElement = getDom(item);\r\n    container.style.height = itemEl.clientHeight + 'px';\r\n    return;\r\n  }\r\n\r\n  if (isActive) {\r\n    container.classList.add('m-window__container--is-active');\r\n    container.style.height = el.clientHeight + 'px';\r\n  } else {\r\n    container.style.height = '';\r\n    container.classList.remove('m-window__container--is-active');\r\n  }\r\n}\r\n\r\nexport function getScrollHeightWithoutHeight(elOrString) {\r\n  var el: HTMLElement = getDom(elOrString);\r\n  if (!el) {\r\n    return 0;\r\n  }\r\n\r\n  var height = el.style.height;\r\n  el.style.height = '0'\r\n  var scrollHeight = el.scrollHeight;\r\n  el.style.height = height;\r\n\r\n  return scrollHeight;\r\n}\r\n\r\nfunction registerPasteWithData(customEventName) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(customEventName, {\r\n      browserEventName: 'paste',\r\n      createEventArgs: (event: ClipboardEvent) => {\r\n        return {\r\n          type: event.type,\r\n          pastedData: event.clipboardData.getData('text')\r\n        };\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function registerTextFieldOnMouseDown(element, inputElement, callback) {\r\n  if (!element || !inputElement) return\r\n\r\n  const listener = (e: MouseEvent) => {\r\n    const target = e.target;\r\n    const inputDom = getDom(inputElement);\r\n    if (target !== inputDom) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n\r\n    if (callback) {\r\n      const mouseEventArgs = {\r\n        Detail: e.detail,\r\n        ScreenX: e.screenX,\r\n        ScreenY: e.screenY,\r\n        ClientX: e.clientX,\r\n        ClientY: e.clientY,\r\n        OffsetX: e.offsetX,\r\n        OffsetY: e.offsetY,\r\n        PageX: e.pageX,\r\n        PageY: e.pageY,\r\n        Button: e.button,\r\n        Buttons: e.buttons,\r\n        CtrlKey: e.ctrlKey,\r\n        ShiftKey: e.shiftKey,\r\n        AltKey: e.altKey,\r\n        MetaKey: e.metaKey,\r\n        Type: e.type\r\n      }\r\n\r\n      callback.invokeMethodAsync('Invoke', mouseEventArgs);\r\n    }\r\n  };\r\n\r\n  element.addEventListener('mousedown', listener)\r\n\r\n  const config: HtmlElementEventListenerConfig = {\r\n    listener,\r\n    handle: callback\r\n  };\r\n\r\n  const key =`registerTextFieldOnMouseDown_${getBlazorId(element)}`;\r\n  htmlElementEventListenerConfigs[key] = [config]\r\n}\r\n\r\nexport function unregisterTextFieldOnMouseDown(element: HTMLElement) {\r\n  const key =`registerTextFieldOnMouseDown_${getBlazorId(element)}`;\r\n  const configs = htmlElementEventListenerConfigs[key]\r\n  if (configs && configs.length) {\r\n    configs.forEach(item => {\r\n      item.handle.dispose();\r\n      if (element) {\r\n        element.removeEventListener(\"mousedown\", item.listener);\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function containsActiveElement(selector) {\r\n  var el = getDom(selector);\r\n  if (el && el.contains) {\r\n    return el.contains(document.activeElement);\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport function copyChild(el) {\r\n  if (typeof el === 'string') {\r\n    el = document.querySelector(el);\r\n  }\r\n\r\n  if (!el) return;\r\n\r\n  el.setAttribute('contenteditable', 'true');\r\n  el.focus();\r\n  document.execCommand('selectAll', false, null);\r\n  document.execCommand('copy');\r\n  document.execCommand('unselect');\r\n  el.blur();\r\n  el.removeAttribute('contenteditable');\r\n}\r\n\r\nexport function copyText(text) {\r\n  if (!navigator.clipboard) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n    textArea.readOnly = true;\r\n\r\n    // Avoid scrolling to bottom\r\n    textArea.style.top = \"0\";\r\n    textArea.style.left = \"0\";\r\n    textArea.style.position = \"fixed\";\r\n\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n\r\n    try {\r\n      var successful = document.execCommand('copy');\r\n      var msg = successful ? 'successful' : 'unsuccessful';\r\n      console.log('Fallback: Copying text command was ' + msg);\r\n    } catch (err) {\r\n      console.error('Fallback: Oops, unable to copy', err);\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n    return;\r\n  }\r\n\r\n  navigator.clipboard.writeText(text).then(function () {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function (err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\n\r\nexport function getMenuableDimensions(hasActivator, activatorSelector, isDefaultAttach, contentElement, attached, attachSelector) {\r\n  if (!attached) {\r\n    var container = document.querySelector(attachSelector);\r\n    if (contentElement.nodeType) {\r\n      container.appendChild(contentElement);\r\n    }\r\n  }\r\n\r\n  var dimensions = {\r\n    activator: {} as any,\r\n    content: {} as any,\r\n    relativeYOffset: 0,\r\n    offsetParentLeft: 0\r\n  };\r\n\r\n  if (hasActivator) {\r\n    var activator = getActivator(activatorSelector)\r\n    dimensions.activator = measure(activator, isDefaultAttach)\r\n    dimensions.activator.offsetLeft = activator.offsetLeft\r\n    if (!isDefaultAttach) {\r\n      // account for css padding causing things to not line up\r\n      // this is mostly for v-autocomplete, hopefully it won't break anything\r\n      dimensions.activator.offsetTop = activator.offsetTop\r\n    } else {\r\n      dimensions.activator.offsetTop = 0\r\n    }\r\n  }\r\n\r\n  sneakPeek(() => {\r\n    if (contentElement) {\r\n      if (contentElement.offsetParent) {\r\n        const offsetRect = getRoundedBoundedClientRect(contentElement.offsetParent)\r\n        dimensions.relativeYOffset = getPageYOffset() + offsetRect.top\r\n\r\n        if (hasActivator) {\r\n          dimensions.activator.top -= dimensions.relativeYOffset\r\n          dimensions.activator.left -= window.pageXOffset + offsetRect.left\r\n        } else {\r\n          dimensions.offsetParentLeft = offsetRect.left\r\n        }\r\n      }\r\n\r\n      dimensions.content = measure(contentElement, isDefaultAttach)\r\n      dimensions.content.offsetLeft = contentElement.offsetLeft\r\n      dimensions.content.offsetTop = contentElement.offsetTop\r\n    }\r\n  }, contentElement);\r\n\r\n  return dimensions;\r\n}\r\n\r\nfunction getPageYOffset() {\r\n  let pageYOffset = window.pageYOffset\r\n  const blockedScrollY = parseInt(document.documentElement.style.getPropertyValue('--m-body-scroll-y'))\r\n  if (blockedScrollY) {\r\n    pageYOffset += Math.abs(blockedScrollY);\r\n  }\r\n  return pageYOffset\r\n}\r\n\r\nfunction measure(el: HTMLElement, isDefaultAttach) {\r\n  if (!el) return {}\r\n\r\n  const rect = getRoundedBoundedClientRect(el)\r\n\r\n  // Account for activator margin\r\n  if (!isDefaultAttach) {\r\n    const style = window.getComputedStyle(el)\r\n\r\n    rect.left = parseInt(style.marginLeft!)\r\n    rect.top = parseInt(style.marginTop!)\r\n  }\r\n\r\n  return rect\r\n}\r\n\r\nfunction getRoundedBoundedClientRect(el: Element) {\r\n  if (!el || !el.nodeType) {\r\n    return null\r\n  }\r\n\r\n  const rect = el.getBoundingClientRect()\r\n  return {\r\n    top: Math.round(rect.top),\r\n    left: Math.round(rect.left),\r\n    bottom: Math.round(rect.bottom),\r\n    right: Math.round(rect.right),\r\n    width: Math.round(rect.width),\r\n    height: Math.round(rect.height),\r\n  }\r\n}\r\n\r\nfunction sneakPeek(cb: () => void, el) {\r\n  if (!el || !el.style || el.style.display !== 'none') {\r\n    cb()\r\n    return\r\n  }\r\n\r\n  el.style.display = 'inline-block'\r\n  cb()\r\n  el.style.display = 'none'\r\n}\r\n\r\nexport function invokeMultipleMethod(windowProps, documentProps, hasActivator, activatorSelector, attach, contentElement, attached, attachSelector, element) {\r\n  var multipleResult = {\r\n    windowAndDocument: null,\r\n    dimensions: null,\r\n    zIndex: 0\r\n  };\r\n\r\n  multipleResult.windowAndDocument = getWindowAndDocumentProps(windowProps, documentProps);\r\n  multipleResult.dimensions = getMenuableDimensions(hasActivator, activatorSelector, attach, contentElement, attached, attachSelector);\r\n  multipleResult.zIndex = getMenuOrDialogMaxZIndex([contentElement], element);\r\n\r\n  return multipleResult;\r\n}\r\n\r\nexport function registerOTPInputOnInputEvent(elementList, callback) {\r\n  for (let i = 0; i < elementList.length; i++) {\r\n    const inputListener = (e: Event) => otpInputOnInputEvent(e, i, elementList, callback);\r\n    const focusListener = (e: Event) => otpInputFocusEvent(e, i, elementList);\r\n    const keyupListener =(e: KeyboardEvent) => otpInputKeyupEvent(e, i, elementList, callback);\r\n\r\n    elementList[i].addEventListener('input', inputListener);\r\n    elementList[i].addEventListener('focus', focusListener);\r\n    elementList[i].addEventListener('keyup', keyupListener);\r\n\r\n    elementList[i]._optInput = {\r\n      inputListener,\r\n      focusListener,\r\n      keyupListener\r\n    }\r\n  }\r\n}\r\n\r\nfunction otpInputKeyupEvent(e: KeyboardEvent, otpIdx: number, elementList, callback) {\r\n  e.preventDefault();\r\n  const eventKey = e.key;\r\n  if (eventKey === 'ArrowLeft' || eventKey === 'Backspace') {\r\n    if (eventKey === 'Backspace') {\r\n      const obj = {\r\n        type: eventKey,\r\n        index: otpIdx,\r\n        value: ''\r\n      }\r\n      if (callback) {\r\n        callback.invokeMethodAsync('Invoke', obj);\r\n      }\r\n    }\r\n    otpInputFocus(otpIdx - 1, elementList);\r\n  }\r\n  else if (eventKey === 'ArrowRight') {\r\n    otpInputFocus(otpIdx + 1, elementList);\r\n  }\r\n}\r\n\r\nfunction otpInputFocus(focusIndex: number, elementList) {\r\n  if (focusIndex < 0) {\r\n    otpInputFocus(0, elementList);\r\n  }\r\n  else if (focusIndex >= elementList.length) {\r\n    otpInputFocus(elementList.length - 1, elementList);\r\n  }\r\n  else {\r\n    if (document.activeElement !== elementList[focusIndex]) {\r\n      const element = getDom(elementList[focusIndex])\r\n      element.focus();\r\n    }\r\n  }\r\n}\r\n\r\nfunction otpInputFocusEvent(e: Event, otpIdx: number, elementList) {\r\n  const element = getDom(elementList[otpIdx]) as HTMLInputElement;\r\n  if (element && document.activeElement === element) {\r\n    element.select();\r\n  }\r\n}\r\n\r\nfunction otpInputOnInputEvent(e: Event, otpIdx: number, elementList, callback) {\r\n  const target = e.target as HTMLInputElement;\r\n  const value = target.value;\r\n\r\n  if (value && value !== '') {\r\n    otpInputFocus(otpIdx + 1, elementList);\r\n\r\n    if (callback) {\r\n      const obj = {\r\n        type: 'Input',\r\n        index: otpIdx,\r\n        value: value\r\n      }\r\n      callback.invokeMethodAsync('Invoke', obj);\r\n    }\r\n  }\r\n}\r\n\r\nexport function unregisterOTPInputOnInputEvent(elementList) {\r\n  for (let i = 0; i < elementList.length; i++) {\r\n    const el = elementList[i]\r\n    if(el && el._optInput) {\r\n      el.removeEventListener('input', el._optInput.inputListener)\r\n      el.removeEventListener('focus', el._optInput.focusListener)\r\n      el.removeEventListener('keyup', el._optInput.keyupListener)\r\n    }\r\n  }\r\n}\r\n\r\nexport function getListIndexWhereAttributeExists(selector: string, attribute:string, value: string) {\r\n  const tiles = document.querySelectorAll(selector);\r\n  if (!tiles) {\r\n    return -1;\r\n  }\r\n\r\n  let index = -1;\r\n  for (let i = 0; i < tiles.length; i++) {\r\n    if (tiles[i].getAttribute(attribute) === value) {\r\n      index = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  return index;\r\n}\r\n\r\nexport function scrollToTile(contentSelector: string, tilesSelector: string, index: number, keyCode: string) {\r\n  var tiles = document.querySelectorAll(tilesSelector)\r\n  if (!tiles) return;\r\n\r\n  let tile = tiles[index] as HTMLElement;\r\n\r\n  if (!tile) return;\r\n\r\n  const content = document.querySelector(contentSelector);\r\n  if (!content) return;\r\n\r\n  const scrollTop = content.scrollTop;\r\n  const contentHeight = content.clientHeight;\r\n\r\n  if (scrollTop > tile.offsetTop - 8) {\r\n    content.scrollTo({ top: tile.offsetTop - tile.clientHeight, behavior: \"smooth\" })\r\n  } else if (scrollTop + contentHeight < tile.offsetTop + tile.clientHeight + 8) {\r\n    content.scrollTo({ top: tile.offsetTop - contentHeight + tile.clientHeight * 2, behavior: \"smooth\" })\r\n  }\r\n}\r\n\r\nexport function getElementTranslateY(element) {\r\n  const style = window.getComputedStyle(element);\r\n  const transform = style.transform || style.webkitTransform;\r\n  const translateY = transform.slice(7, transform.length - 1).split(', ')[5];\r\n\r\n  return Number(translateY);\r\n}\r\n\r\nexport function get_top_domain() {\r\n  var i, h,\r\n    weird_cookie = 'weird_get_top_level_domain=cookie',\r\n    hostname = document.location.hostname.split('.');\r\n  for (i = hostname.length - 1; i >= 0; i--) {\r\n    h = hostname.slice(i).join('.');\r\n    document.cookie = weird_cookie + ';domain=.' + h + ';';\r\n    if (document.cookie.indexOf(weird_cookie) > -1) {\r\n        // We were able to store a cookie! This must be it\r\n        document.cookie = weird_cookie.split('=')[0] + '=;domain=.' + h + ';expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n        return h;\r\n    }\r\n  }\r\n}\r\n\r\nexport function setCookie(name, value) {\r\n  if (value === null || value === undefined) {\r\n    return;\r\n  }\r\n\r\n  var domain = get_top_domain();\r\n  if (!domain) {\r\n    domain = '';\r\n  }else if (isNaN(domain[0])) {\r\n    domain = `.${domain}`;\r\n  }\r\n  var Days = 30;\r\n  var exp = new Date();\r\n  exp.setTime(exp.getTime() + Days * 24 * 60 * 60 * 1000);\r\n  document.cookie = `${name}=${escape(value?.toString())};path=/;expires=${exp.toUTCString()};domain=${domain}`;\r\n}\r\n\r\nexport function getCookie(name) {\r\n  const reg = new RegExp(`(^| )${name}=([^;]*)(;|$)`);\r\n  const arr = document.cookie.match(reg);\r\n  if (arr) {\r\n    return unescape(arr[2]);\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function registerDragEvent(el: HTMLElement, dataKey?: string) {\r\n  if (el) {\r\n    const blazorId = getBlazorId(el);\r\n    const listener = (e: DragEvent) => {\r\n      if (dataKey) {\r\n        const dataValue = (e.target as HTMLElement).getAttribute(dataKey);\r\n        e.dataTransfer.setData(dataKey, dataValue);\r\n        e.dataTransfer.setData('offsetX', e.offsetX.toString())\r\n        e.dataTransfer.setData('offsetY', e.offsetY.toString())\r\n      }\r\n    };\r\n    const key = `${blazorId}:dragstart`;\r\n    htmlElementEventListenerConfigs[key] = [{\r\n      listener\r\n    }];\r\n    el.addEventListener(\"dragstart\", listener);\r\n  }\r\n}\r\n\r\nexport function unregisterDragEvent(el: HTMLElement) {\r\n  const blazorId = getBlazorId(el);\r\n  if (blazorId) {\r\n    const key = `${blazorId}:dragstart`;\r\n    if (htmlElementEventListenerConfigs[key]) {\r\n      htmlElementEventListenerConfigs[key].forEach((config) => {\r\n        el.removeEventListener(\"dragstart\", config.listener);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport function resizableDataTable(dataTable: HTMLElement) {\r\n  const table = dataTable.querySelector('table')\r\n  const row = table.querySelector('.m-data-table-header').getElementsByTagName('tr')[0];\r\n  const cols = row ? Array.from(row.children) : [];\r\n  if (!cols) return;\r\n\r\n  const tableHeight = table.offsetHeight;\r\n  const registrations = [];\r\n\r\n  for (var i = 0; i < [...cols].length; i++) {\r\n    const col: any = cols[i];\r\n    const colResizeDiv: HTMLDivElement = col.querySelector(\r\n      \".m-data-table-header__col-resize\"\r\n    );\r\n    if (!colResizeDiv) {\r\n      cols.splice(i, 1);\r\n      continue;\r\n    }\r\n    colResizeDiv.style.height = tableHeight + \"px\";\r\n\r\n    let minWidth = (col.firstElementChild as HTMLElement).offsetWidth; // width of span\r\n    minWidth = minWidth + 32 + 18 + 1 + 1; // 32:padding 18:sort\r\n    if (!col.style.minWidth) {\r\n      col.minWidth = minWidth;\r\n      col.style.minWidth = minWidth + \"px\";\r\n    }\r\n\r\n    registrations.push(setListeners(colResizeDiv));\r\n  }\r\n\r\n  return {\r\n    un: () => {\r\n      registrations.forEach(un => un());\r\n    }\r\n  }\r\n\r\n  function setListeners(div: HTMLDivElement) {\r\n    let pageX:number\r\n    let curCol: HTMLElement;\r\n    let nxtCol: HTMLElement;\r\n    let curColWidth: number;\r\n    let nxtColWidth: number;\r\n    let tableWidth: number;\r\n\r\n    const click = (e: MouseEvent) => e.stopPropagation();\r\n\r\n    const mousedown = (e: MouseEvent) => {\r\n      curCol = (e.target as HTMLElement).parentElement;\r\n      nxtCol = curCol.nextElementSibling as HTMLElement;\r\n      pageX = e.pageX;\r\n\r\n      tableWidth = table.offsetWidth;\r\n\r\n      var padding = paddingDiff(curCol);\r\n\r\n      curColWidth = curCol.offsetWidth - padding;\r\n      if (nxtCol)\r\n        nxtColWidth = nxtCol.offsetWidth - padding;\r\n    };\r\n\r\n    const mousemove = (e: MouseEvent) => {\r\n      if (curCol) {\r\n        let diffX = e.pageX - pageX;\r\n\r\n        const isRtl = dataTable.classList.contains(\"m-data-table--rtl\")\r\n        if (isRtl) {\r\n          diffX = 0 - diffX;\r\n        }\r\n\r\n        let newCurColWidth = curColWidth + diffX;\r\n\r\n        curCol.style.width = newCurColWidth + \"px\";\r\n\r\n        const isOverflow = dataTable.classList.contains(\r\n          \"m-data-table--resizable-overflow\"\r\n        );\r\n        if (isOverflow) {\r\n          table.style.width = tableWidth + diffX + \"px\";\r\n          return;\r\n        }\r\n\r\n        const isIndependent = dataTable.classList.contains(\r\n          \"m-data-table--resizable-independent\"\r\n        );\r\n        if (isIndependent) {\r\n          let newNextColWidth = nxtColWidth - diffX;\r\n          const twoColWidth = curColWidth + nxtColWidth;\r\n\r\n          if (diffX > 0) {\r\n            if (nxtCol) {\r\n              if (newNextColWidth < nxtCol[\"minWidth\"]) {\r\n                newNextColWidth = nxtCol[\"minWidth\"];\r\n                newCurColWidth = twoColWidth - newNextColWidth;\r\n              }\r\n            }\r\n          } else {\r\n            if (newCurColWidth < curCol[\"minWidth\"]) {\r\n              newCurColWidth = curCol[\"minWidth\"];\r\n              newNextColWidth = twoColWidth - newCurColWidth;\r\n            }\r\n          }\r\n\r\n          curCol.style.width = newCurColWidth + \"px\";\r\n\r\n          if (nxtCol) {\r\n            nxtCol.style.width = newNextColWidth + \"px\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const mouseup = (e: MouseEvent) => {\r\n      if (curCol) {\r\n        for (let i = 0; i < cols.length; i++) {\r\n          const col:any = cols[i];\r\n          col.style.width = col['offsetWidth'] + \"px\"\r\n        }\r\n      }\r\n      curCol = undefined;\r\n      nxtCol = undefined;\r\n      pageX = undefined;\r\n      nxtColWidth = undefined;\r\n      curColWidth = undefined;\r\n      tableWidth = undefined;\r\n    }\r\n\r\n    div.addEventListener('click', click);\r\n    div.addEventListener('mousedown', mousedown);\r\n    document.addEventListener(\"mousemove\", mousemove);\r\n    document.addEventListener('mouseup', mouseup);\r\n\r\n    return () => {\r\n      div.removeEventListener('click', click);\r\n      div.removeEventListener('mousedown', mousedown);\r\n      document.removeEventListener(\"mousemove\", mousemove);\r\n      document.removeEventListener('mouseup', mouseup);\r\n    }\r\n  }\r\n\r\n  function paddingDiff(col) {\r\n    if (getStyleVal(col, 'box-sizing') == 'border-box') {\r\n      return 0;\r\n    }\r\n\r\n    var padLeft = getStyleVal(col, 'padding-left');\r\n    var padRight = getStyleVal(col, 'padding-right');\r\n    return (parseInt(padLeft) + parseInt(padRight));\r\n  }\r\n\r\n  function getStyleVal(elm, css) {\r\n    return (window.getComputedStyle(elm, null).getPropertyValue(css))\r\n  }\r\n}\r\n\r\nexport function updateDataTableResizeHeight(dataTable: HTMLElement) {\r\n  const table = dataTable.querySelector('table')\r\n  const row = table.querySelector('.m-data-table-header').getElementsByTagName('tr')[0];\r\n  const cols = row ? row.children : [];\r\n  if (!cols) return;\r\n\r\n  const tableHeight = table.offsetHeight;\r\n\r\n  for (var i = 0; i < cols.length; i++) {\r\n    const col: any = cols[i];\r\n    const colResizeDiv: HTMLDivElement = col.querySelector(\".m-data-table-header__col-resize\");\r\n    colResizeDiv.style.height = tableHeight + \"px\"\r\n  }\r\n}\r\n\r\nfunction stopPropagation(e) {\r\n  e.stopPropagation();\r\n}\r\n\r\nexport function addStopPropagationEvent(el: any, type: keyof HTMLElementEventMap) {\r\n  const dom = getDom(el);\r\n  dom.addEventListener(type, stopPropagation);\r\n}\r\n\r\nexport function removeStopPropagationEvent(el: any, type: keyof HTMLElementEventMap) {\r\n  const dom = getDom(el);\r\n  dom.removeEventListener(type, stopPropagation);\r\n}\r\n\r\nexport function historyBack() {\r\n  history.back();\r\n}\r\n\r\nexport function historyGo(delta: number) {\r\n  history.go(delta);\r\n}\r\n\r\nexport function historyReplace(href) {\r\n  history.replaceState(null, /*ignore title*/ '', href);\r\n}\r\n\r\nexport function registerTableScrollEvent(wrapper: HTMLElement) {\r\n  const listener = () => {\r\n    const scrollWidth = wrapper.scrollWidth;\r\n    const clientWidth = wrapper.clientWidth;\r\n    const scrollLeft =  wrapper.scrollLeft;\r\n\r\n    if (scrollWidth == clientWidth) {\r\n      wrapper.classList.remove('scrolling');\r\n      wrapper.classList.remove('scrolled-to-right');\r\n      wrapper.classList.remove('scrolled-to-left');\r\n      return;\r\n    }\r\n\r\n    const rtl = wrapper.parentElement.classList.contains('m-data-table--rtl');\r\n\r\n    if (Math.abs(scrollWidth -((rtl ? -scrollLeft : scrollLeft) + clientWidth)) < 1) {\r\n      wrapper.classList.remove('scrolling')\r\n      wrapper.classList.remove('scrolled-to-left')\r\n      wrapper.classList.add('scrolled-to-right');\r\n    } else if (scrollLeft == 0) {\r\n      wrapper.classList.remove('scrolling')\r\n      wrapper.classList.remove('scrolled-to-right')\r\n      wrapper.classList.add('scrolled-to-left');\r\n    } else {\r\n      wrapper.classList.remove('scrolled-to-right');\r\n      wrapper.classList.remove('scrolled-to-left');\r\n      wrapper.classList.add('scrolling');\r\n    }\r\n  }\r\n\r\n  listener();\r\n\r\n  wrapper.addEventListener('scroll', listener)\r\n  wrapper[\"_m_table_scroll_event\"] = listener\r\n}\r\n\r\nexport function unregisterTableScrollEvent(wrapper: HTMLElement) {\r\n  const listener = wrapper[\"_m_table_scroll_event\"]\r\n  if (listener) {\r\n    wrapper.removeEventListener('scroll', listener)\r\n    delete wrapper[\"_m_table_scroll_event\"]\r\n  }\r\n}\r\n\r\nexport function updateTabSlider(\r\n  sliderWrapper: HTMLElement,\r\n  tab: HTMLElement,\r\n  sliderSize: number,\r\n  vertical: boolean,\r\n  isReversed: boolean\r\n) {\r\n  if (!sliderWrapper) {\r\n    console.warn('[MTab] the element of slider wrapper is not found')\r\n    return;\r\n  }\r\n\r\n  if (!tab) {\r\n    sliderWrapper.style.cssText = \"\";\r\n    return;\r\n  }\r\n\r\n  const height = !vertical ? sliderSize : tab.scrollHeight;\r\n  const left = vertical ? 0 : tab.offsetLeft;\r\n  const right = vertical ? 0 : tab.offsetLeft + tab.offsetWidth;\r\n  const top = tab.offsetTop;\r\n  const width = vertical ? sliderSize : tab.clientWidth;\r\n  sliderWrapper.style.width = `${width}px`;\r\n  sliderWrapper.style.height = `${height}px`;\r\n  if (!isReversed) {\r\n    sliderWrapper.style.left = `${left}px`;\r\n  }\r\n  if (isReversed) {\r\n    sliderWrapper.style.right = `${right}px`;\r\n  }\r\n  if (vertical) {\r\n    sliderWrapper.style.top = `${top}px`;\r\n  }\r\n}\r\n\r\nexport function isScrollNearBottom(element: HTMLElement, threshold: number = 200) {\r\n  if (!element) {\r\n    return false;\r\n  }\r\n  return element.scrollHeight - (element.scrollTop + element.clientHeight) < threshold;\r\n}\r\n\r\nexport function matchesSelector (el: Element | undefined, selector: string): boolean | null {\r\n  const supportsSelector = IN_BROWSER &&\r\n    typeof CSS !== 'undefined' &&\r\n    typeof CSS.supports !== 'undefined' &&\r\n    CSS.supports(`selector(${selector})`)\r\n\r\n  if (!supportsSelector) return false;\r\n\r\n  try {\r\n    return !!el && el.matches(selector)\r\n  } catch (err) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function prepareSticky(containerElOrString: string, root: HTMLElement, offsetTop: number, offsetBottom: number) {\r\n  let containerRect;\r\n  if (containerElOrString === \"window\") {\r\n    containerRect = { top: 0, bottom: window.innerHeight };\r\n  } else {\r\n    containerRect = getDom(containerElOrString).getBoundingClientRect();\r\n  }\r\n\r\n  const rootRect = root.getBoundingClientRect();\r\n\r\n  const fixedTop = getFixedTop(rootRect, containerRect, offsetTop);\r\n  const fixedBottom = getFixedBottom(rootRect, containerRect, offsetBottom);\r\n\r\n  return { fixedTop, fixedBottom, width: rootRect.width, height: rootRect.height };\r\n\r\n  function getFixedTop(placeholderReact, targetRect, offsetTop) {\r\n    if (\r\n      isNumberValid(offsetTop) &&\r\n      targetRect.top > placeholderReact.top - offsetTop\r\n    ) {\r\n      return offsetTop + targetRect.top + \"px\";\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  function getFixedBottom(placeholderReact, targetRect, offsetBottom) {\r\n    if (isNumberValid(offsetBottom) && targetRect.bottom < placeholderReact.bottom + offsetBottom) {\r\n      const targetBottomOffset = window.innerHeight - targetRect.bottom;\r\n      return offsetBottom + targetBottomOffset + 'px';\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  function isNumberValid(n: number) {\r\n    return n !== undefined && n !== null;\r\n  }\r\n}\r\n\r\nexport function toggleMourningMode(mourning: boolean) {\r\n  document.documentElement.classList.toggle('m-mourning-mode', mourning);\r\n}","import { removeListeners, RippleOptions, updateRipple } from \"./ripple\";\r\n\r\nexport default function registerRippleObserver() {\r\n  const observer = new MutationObserver((mutationsList, observer) => {\r\n    for (const mutation of mutationsList) {\r\n      if (mutation.type === \"childList\" && mutation.addedNodes.length > 0) {\r\n        for (const node of Array.from(mutation.addedNodes)) {\r\n          if (node instanceof HTMLElement) {\r\n            if (\r\n              node.nodeType === Node.ELEMENT_NODE &&\r\n              node.hasAttribute(\"ripple\") &&\r\n              !node._ripple\r\n            ) {\r\n              updateRipple(node, convertRippleAttributeToOptions(node), false);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // 处理属性变动\r\n      if (mutation.type === \"attributes\") {\r\n        const target = mutation.target as HTMLElement;\r\n        if (target.hasAttribute(\"ripple\") && !target._ripple) {\r\n          if (mutation.attributeName === \"ripple\") {\r\n            updateRipple(\r\n              target,\r\n              convertRippleAttributeToOptions(target),\r\n              false\r\n            );\r\n          } else if (!target.hasAttribute(\"ripple\") && target._ripple) {\r\n            removeListeners(target);\r\n            delete target._ripple;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (\r\n        mutation.type === \"attributes\" &&\r\n        mutation.attributeName === \"ripple\"\r\n      ) {\r\n        const target = mutation.target as HTMLElement;\r\n        if (target._ripple) {\r\n          updateRipple(\r\n            target,\r\n            convertRippleAttributeToOptions(target),\r\n            target._ripple.enabled\r\n          );\r\n        }\r\n      }\r\n\r\n      if (mutation.type === \"childList\" && mutation.removedNodes.length > 0) {\r\n        for (const node of Array.from(mutation.removedNodes)) {\r\n          if (node instanceof HTMLElement) {\r\n            if (node.nodeType === Node.ELEMENT_NODE && node._ripple) {\r\n              removeListeners(node);\r\n              delete node._ripple;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // ripple=\"false\",\r\n  // ripple=\"\",\r\n  // ripple=\"true\",\r\n  // ripple=\"center\",\r\n  // ripple=\"circle\",\r\n  // ripple=\"circle&center\"\r\n  // ripple=\"center&custom-css\",\r\n  // ripple=\"circle&custom-css\",\r\n  // ripple=\"custom-css\"\r\n  function convertRippleAttributeToOptions(\r\n    target: HTMLElement\r\n  ): RippleOptions | null {\r\n    const value = target.getAttribute(\"ripple\");\r\n    if ((typeof value !== \"string\" && !value) || value === \"false\") {\r\n      return null;\r\n    }\r\n\r\n    const options: RippleOptions = {};\r\n\r\n    const props = value.split(\"&\");\r\n    props.forEach((prop) => {\r\n      if (prop === \"center\") {\r\n        options.center = true;\r\n      } else if (prop === \"circle\") {\r\n        options.circle = true;\r\n      } else {\r\n        options.class = prop.trim();\r\n      }\r\n    });\r\n\r\n    return options;\r\n  }\r\n\r\n  const initialElements = Array.from(document.querySelectorAll(\"[ripple]\"));\r\n\r\n  for (const element of initialElements) {\r\n    updateRipple(element, convertRippleAttributeToOptions(element), false);\r\n  }\r\n\r\n  observer.observe(document, {\r\n    childList: true,\r\n    subtree: true,\r\n    attributes: true,\r\n    attributeFilter: [\"ripple\"],\r\n    attributeOldValue: false,\r\n  });\r\n}\r\n","import * as infiniteScroll from \"./components/infinite-scroll\";\r\nimport * as slider from \"./components/slider\";\r\nimport * as textarea from \"./components/textarea\";\r\nimport * as interop from \"./interop\";\r\nimport { MarkdownParser } from \"./proxies/markdown-it\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    MasaBlazor: {\r\n      interop: {};\r\n      extendMarkdownIt?: (parser: MarkdownParser) => void;\r\n      xgplayerPlugins: any[];\r\n      xgplayerPluginOptions?: { [prop: string]: any };\r\n    };\r\n  }\r\n}\r\n\r\nwindow.MasaBlazor = {\r\n  interop: {\r\n    ...interop,\r\n    ...slider,\r\n    ...textarea,\r\n    ...infiniteScroll,\r\n  },\r\n  xgplayerPlugins: [],\r\n};\r\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","SuppressedError","activator_parent_prefix","IN_BROWSER","window","passiveSupported","testListenerOpts","Object","defineProperty","get","addEventListener","removeEventListener","console","warn","keyCodes","freeze","enter","tab","delete","esc","space","up","down","left","right","end","home","del","backspace","insert","pageup","pagedown","shift","getBlazorId","el","_bl_","getAttributeNames","find","a","startsWith","substring","getElementSelector","Element","path","nodeType","Node","ELEMENT_NODE","selector","nodeName","toLowerCase","id","unshift","sib","nth","previousElementSibling","parentNode","join","getDom","elOrString","element","document","documentElement","indexOf","array","split","i","querySelector","HTMLElement","body","error","canUseDom","createElement","get$ParentElement","is$ParentSelector","parentSelector","replace","parentElement","_a","classList","contains","container","threshold","enable","dotnetHelper","containerEl","onScroll","check","updateThreshold","t","updateEnable","s","dispose","elementTop","getBoundingClientRect","top","innerHeight","bottom","invokeMethodAsync","touchEvents","parseMouseEvent","event","detail","screenX","screenY","clientX","clientY","offsetX","offsetY","pageX","pageY","button","buttons","ctrlKey","shiftKey","altKey","metaKey","type","parseTouchEvent","touches","parseTouch","targetTouches","changedTouches","touchList","length","touch","push","identifier","registerExtraMouseEvent","eventType","eventName","Blazor","registerCustomEventType","browserEventName","createEventArgs","createSharedEventArgs","registerExtraDropEvent","eventArgs","assign","dataTransfer","dropEffect","effectAllowed","files","Array","from","map","f","name","items","kind","types","getData","Number","args","target","eventTarget","elementReferenceId","class","getAttribute","getEventTarget","sliderHandleId","sliderHandlesById","onSliderMouseDown","app","mouseUpOptions","passive","capture","mouseMoveOptions","trackElement","isTouchEvent","onMouseMove","cb","options","once","addOnceEventListener","onSliderMouseUp","trackRect","touchEventArgs","mouseEventArgs","stopPropagation","payload","textareaAutoGrowNextId","textareaAutoGrowMap","calculateTextareaHeight","textarea","rows","rowHeight","style","height","scrollHeight","minHeight","parseInt","parseFloat","Math","max","input","inputCallback","undefined","functionDebounce","fn","wait","callFirst","timeout","debouncedFn","clear","clearTimeout","debounceWrapper","this","arguments","context","callNow","setTimeout","call","cancel","flush","functionThrottle","interval","timeoutId","throttledFn","leading","trailing","throttleWrapper","registerExtraEvents","registerEvent","transform","webkitTransform","constructor","isKeyboardEvent","ripples","show","_ripple","enabled","animation","appendChild","className","radius","scale","x","y","centerX","centerY","localX","localY","offset","circle","clientWidth","center","sqrt","clientHeight","calculate","size","width","computed","getComputedStyle","position","dataset","previousPosition","add","activated","String","performance","now","remove","hide","getElementsByClassName","isHiding","diff","delay","removeChild","rippleShow","currentTarget","touched","rippleStop","isTouch","centered","showTimerCommit","showTimer","rippleHide","rippleCancelShow","keyboardRippleShow","keyCode","keyboardRippleHide","focusRippleHide","updateRipple","wasEnabled","removeListeners","getZIndex","index","getPropertyValue","getDomInfoObj","dom","offsetTop","offsetLeft","scrollWidth","scrollLeft","scrollTop","clientTop","clientLeft","res","viewportElement","box","offsetWidth","offsetHeight","relativeTop","relativeBottom","relativeLeft","relativeRight","absoluteLeft","absoluteTop","getElementPos","round","onload","customEventName","pastedData","clipboardData","observer","MutationObserver","mutationsList","mutation","addedNodes","node","hasAttribute","convertRippleAttributeToOptions","attributeName","removedNodes","forEach","prop","trim","initialElements","querySelectorAll","observe","childList","subtree","attributes","attributeFilter","attributeOldValue","registerRippleObserver","htmlElementEventListenerId","htmlElementEventListenerConfigs","getActiveElement","activeElement","getWindowAndDocumentProps","windowProps","documentProps","obj","getPageYOffset","isElement","tagName","getMenuOrDialogMaxZIndex","exclude","zis","activeElements","includes","getMenuableDimensions","hasActivator","activatorSelector","isDefaultAttach","contentElement","attached","attachSelector","dimensions","activator","content","relativeYOffset","offsetParentLeft","measure","display","sneakPeek","offsetParent","offsetRect","getRoundedBoundedClientRect","pageXOffset","pageYOffset","blockedScrollY","abs","rect","marginLeft","marginTop","otpInputKeyupEvent","otpIdx","elementList","callback","preventDefault","eventKey","key","otpInputFocus","focusIndex","focus","otpInputFocusEvent","select","otpInputOnInputEvent","get_top_domain","h","weird_cookie","hostname","location","slice","cookie","cloned","cloneNode","innerWidth","evt","createEvent","initEvent","dispatchEvent","attach","_b","invoker","extras","htmlElement","config","listener","cancelable","relatedTarget","MouseEvent","k","debounce","debounceIt","throttle","handle","eventId","configs","item","e1","e2","dom1","dom2","text","navigator","clipboard","writeText","log","err","textArea","msg","execCommand","fallbackCopyTextToClipboard","preventScroll","HTMLInputElement","HTMLTextAreaElement","Error","blur","arg","scrollIntoView","block","inline","behavior","start","level","parent","to","scrollTo","o","targetEl","scrollY","offsetPosition","smooth","activeEl","firstElementChild","getAbsoluteTop","getAbsoluteLeft","addElement","elementSelector","delElement","focusDialog","count","ele","isTop","isBottom","hasOwnProperty","clsName","root","overflowY","test","innerText","all","reduce","r","zIndex","styleProp","currentStyle","defaultView","is","NaN","objReferenceName","d","getElementById","head","d_style","innerHTML","insertAdjacentElement","src","img","Image","hasError","onerror","condition","isArray","code","elements","selectors","sizeProp","overflow","charAt","toUpperCase","isActive","itemEl","inputElement","Detail","ScreenX","ScreenY","ClientX","ClientY","OffsetX","OffsetY","PageX","PageY","Button","Buttons","CtrlKey","ShiftKey","AltKey","MetaKey","Type","setAttribute","removeAttribute","readOnly","multipleResult","windowAndDocument","inputListener","focusListener","keyupListener","_optInput","attribute","tiles","contentSelector","tilesSelector","tile","contentHeight","translateY","domain","isNaN","exp","Date","setTime","getTime","Days","escape","toString","toUTCString","reg","RegExp","arr","match","unescape","dataKey","blazorId","dataValue","setData","dataTable","table","row","getElementsByTagName","cols","children","tableHeight","registrations","col","colResizeDiv","splice","minWidth","setListeners","un","div","curCol","nxtCol","curColWidth","nxtColWidth","tableWidth","click","mousedown","nextElementSibling","padding","getStyleVal","padLeft","padRight","paddingDiff","mousemove","diffX","newCurColWidth","newNextColWidth","twoColWidth","mouseup","elm","css","history","back","delta","go","href","replaceState","wrapper","rtl","sliderWrapper","sliderSize","vertical","isReversed","cssText","CSS","supports","matches","containerElOrString","offsetBottom","containerRect","rootRect","fixedTop","placeholderReact","targetRect","isNumberValid","getFixedTop","fixedBottom","getFixedBottom","n","mourning","toggle","MasaBlazor","interop","slider","infiniteScroll","xgplayerPlugins"],"mappings":"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"}