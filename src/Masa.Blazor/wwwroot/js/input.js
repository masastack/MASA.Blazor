function e(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function t(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push({identifier:i.identifier,clientX:i.clientX,clientY:i.clientY,screenX:i.screenX,screenY:i.screenY,pageX:i.pageX,pageY:i.pageY})}return t}function n(e){const t=e.target;if(function(e){return-1!==i.indexOf(e.getAttribute("type"))}(t)){const e=function(e){const t=e.value,n=e.type;switch(n){case"date":case"month":case"week":return t;case"datetime-local":return 16===t.length?t+":00":t;case"time":return 5===t.length?t+":00":t}throw new Error(`Invalid element type '${n}'.`)}(t);return{value:e}}if(function(e){return e instanceof HTMLSelectElement&&"select-multiple"===e.type}(t)){const e=t;return{value:Array.from(e.options).filter((e=>e.selected)).map((e=>e.value))}}{const e=function(e){return!!e&&"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}(t);return{value:e?!!t.checked:t.value}}}const i=["date","datetime-local","month","time","week"];let s=!1;try{if("undefined"!=typeof window){const e=Object.defineProperty({},"passive",{get:()=>{s=!0}});window.addEventListener("testListener",e,e),window.removeEventListener("testListener",e,e)}}catch(e){console.warn(e)}function o(e){const t=e,n={},i=t.getAttributeNames().find((e=>e.startsWith("_bl_")));return i?(n.elementReferenceId=i,n.selector=`[${i}]`):n.selector=function(e){if(e instanceof Element){for(var t=[];e.nodeType===Node.ELEMENT_NODE;){var n=e.nodeName.toLowerCase();if(e.id){n="#"+e.id,t.unshift(n);break}for(var i=e,s=1;i=i.previousElementSibling;)i.nodeName.toLowerCase()==n&&s++;1!=s&&(n+=":nth-of-type("+s+")"),t.unshift(n),e=e.parentNode}return t.join(" > ")}}(t),n.class=t.getAttribute("class"),n}function r(e,n){let i={target:{}};var s;return"mouse"===e?i=Object.assign(Object.assign({},i),{detail:(s=n).detail,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY,offsetX:s.offsetX,offsetY:s.offsetY,pageX:s.pageX,pageY:s.pageY,button:s.button,buttons:s.buttons,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,altKey:s.altKey,metaKey:s.metaKey,type:s.type}):"touch"===e&&(i=Object.assign(Object.assign({},i),function(e){return{detail:e.detail,touches:t(e.touches),targetTouches:t(e.targetTouches),changedTouches:t(e.changedTouches),ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,type:e.type}}(n))),i.target=o(n.target),i}function a(e,t,n){let i=!1;for(const s of e.composedPath()){if(s===n)break;if(c(s,t)){i=!0;break}}return i}function c(e,t){const n=["_blazorEvents_1","stopPropagationFlags",t];let i=e,s=0;for(;i[n[s]];)i=i[n[s]],s++;return s==n.length&&"boolean"==typeof i&&i}var u,l,h,p,f,d;Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});class g{constructor(t,n,i,s){u.add(this),this.input=n,this.inputSlot=i,this.dotnetHelper=t,this.debounce=s,e(this,u,"m",l).call(this)}setValue(e){this.input.value=e}}function m(e,t,n,i){return new g(e,t,n,i)}u=new WeakSet,l=function(){this.input&&this.inputSlot&&(e(this,u,"m",f).call(this),e(this,u,"m",d).call(this),this.input&&(this.input instanceof HTMLInputElement||this.input instanceof HTMLTextAreaElement)&&e(this,u,"m",h).call(this))},h=function(){let t,i=!1;this.input.addEventListener("compositionstart",(e=>{i=!0})),this.input.addEventListener("compositionend",(e=>{i=!1;const t=n(e);t.value=this.input.value,-1!==this.input.maxLength&&t.value.length>this.input.maxLength&&(t.value=t.value.substring(0,this.input.maxLength)),this.dotnetHelper.invokeMethodAsync("OnInput",t)})),this.input.addEventListener("input",(e=>{if(!i){var s=n(e);clearTimeout(t),t=setTimeout((()=>{this.dotnetHelper.invokeMethodAsync("OnInput",s)}),this.debounce)}})),this.input.addEventListener("change",(t=>{var i=n(t);e(this,u,"m",p).call(this,t),this.dotnetHelper.invokeMethodAsync("OnChange",i)}))},p=function(e){if("number"===e.target.type){const t=e.target.value,n=e.target.valueAsNumber;t&&t!==n.toString()&&(this.input.value=isNaN(n)?"":n.toString())}},f=function(){this.inputSlot.addEventListener("click",(e=>{if(!a(e,"click",this.inputSlot)){var t=r("mouse",e);this.dotnetHelper.invokeMethodAsync("OnClick",t)}}))},d=function(){this.inputSlot.addEventListener("mouseup",(e=>{if(!a(e,"mouseup",this.inputSlot)){var t=r("mouse",e);this.dotnetHelper.invokeMethodAsync("OnMouseUp",t)}}))};export{m as init};
//# sourceMappingURL=input.js.map
