{"version":3,"file":"echarts-proxy.js","sources":["../../../../BlazorComponent/src/Component/BlazorComponent.Web/src/proxies/echarts/index.ts"],"sourcesContent":["import { ECharts, EChartsResizeOption } from \"echarts\";\r\n\r\nclass EChartsProxy {\r\n  instance: ECharts;\r\n  observer: IntersectionObserver;\r\n\r\n  constructor(\r\n    elOrString: HTMLDivElement | HTMLCanvasElement,\r\n    theme?: string,\r\n    initOptions?: any\r\n  ) {\r\n    this.instance = echarts.init(elOrString, theme, initOptions);\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      this.instance.resize();\r\n    });\r\n\r\n    this.observer = new IntersectionObserver((entries) => {\r\n      if (entries.some((e) => e.isIntersecting)) {\r\n        this.instance.resize();\r\n      }\r\n    });\r\n\r\n    this.observer.observe(this.instance.getDom());\r\n  }\r\n\r\n  setOption(\r\n    option: any,\r\n    notMerge: boolean = false,\r\n    lazyUpdate: boolean = false\r\n  ) {\r\n    this.instance.setOption(option, notMerge, lazyUpdate);\r\n  }\r\n\r\n  resize(opts?: EChartsResizeOption) {\r\n    this.instance.resize(opts);\r\n  }\r\n\r\n  dispose() {\r\n    if (this.instance.isDisposed()) return;\r\n\r\n    this.observer.disconnect();\r\n\r\n    this.instance.dispose();\r\n  }\r\n}\r\n\r\nfunction init(elOrString, theme, initOptions) {\r\n  return new EChartsProxy(elOrString, theme, initOptions);\r\n}\r\n\r\nexport { init };\r\n"],"names":["EChartsProxy","constructor","elOrString","theme","initOptions","this","instance","echarts","init","window","addEventListener","resize","observer","IntersectionObserver","entries","some","e","isIntersecting","observe","getDom","setOption","option","notMerge","lazyUpdate","opts","dispose","isDisposed","disconnect"],"mappings":"AAEA,MAAMA,EAIJC,YACEC,EACAC,EACAC,GAEAC,KAAKC,SAAWC,QAAQC,KAAKN,EAAYC,EAAOC,GAEhDK,OAAOC,iBAAiB,UAAU,KAChCL,KAAKC,SAASK,QAAQ,IAGxBN,KAAKO,SAAW,IAAIC,sBAAsBC,IACpCA,EAAQC,MAAMC,GAAMA,EAAEC,kBACxBZ,KAAKC,SAASK,QACf,IAGHN,KAAKO,SAASM,QAAQb,KAAKC,SAASa,SACrC,CAEDC,UACEC,EACAC,GAAoB,EACpBC,GAAsB,GAEtBlB,KAAKC,SAASc,UAAUC,EAAQC,EAAUC,EAC3C,CAEDZ,OAAOa,GACLnB,KAAKC,SAASK,OAAOa,EACtB,CAEDC,UACMpB,KAAKC,SAASoB,eAElBrB,KAAKO,SAASe,aAEdtB,KAAKC,SAASmB,UACf,EAGH,SAASjB,EAAKN,EAAYC,EAAOC,GAC/B,OAAO,IAAIJ,EAAaE,EAAYC,EAAOC,EAC7C"}