{"version":3,"file":"mobile-viewer.js","sources":["../../../../../Masa.Blazor.JS/node_modules/tslib/tslib.es6.js","../../../../../Masa.Blazor.JS/node_modules/pdfjs-dist/build/pdf.mjs","../../../../../Masa.Blazor.JS/node_modules/pdfjs-dist/legacy/web/pdf_viewer.mjs","../../../../../Masa.Blazor.JS/src/proxies/pdf.js/mobile-viewer.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.push(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.push(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ // The require scope\n/******/ var __webpack_require__ = {};\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = globalThis.pdfjsLib = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AbortException: () => (/* reexport */ AbortException),\n  AnnotationEditorLayer: () => (/* reexport */ AnnotationEditorLayer),\n  AnnotationEditorParamsType: () => (/* reexport */ AnnotationEditorParamsType),\n  AnnotationEditorType: () => (/* reexport */ AnnotationEditorType),\n  AnnotationEditorUIManager: () => (/* reexport */ AnnotationEditorUIManager),\n  AnnotationLayer: () => (/* reexport */ AnnotationLayer),\n  AnnotationMode: () => (/* reexport */ AnnotationMode),\n  CMapCompressionType: () => (/* reexport */ CMapCompressionType),\n  ColorPicker: () => (/* reexport */ ColorPicker),\n  DOMSVGFactory: () => (/* reexport */ DOMSVGFactory),\n  DrawLayer: () => (/* reexport */ DrawLayer),\n  FeatureTest: () => (/* reexport */ util_FeatureTest),\n  GlobalWorkerOptions: () => (/* reexport */ GlobalWorkerOptions),\n  ImageKind: () => (/* reexport */ util_ImageKind),\n  InvalidPDFException: () => (/* reexport */ InvalidPDFException),\n  MissingPDFException: () => (/* reexport */ MissingPDFException),\n  OPS: () => (/* reexport */ OPS),\n  PDFDataRangeTransport: () => (/* reexport */ PDFDataRangeTransport),\n  PDFDateString: () => (/* reexport */ PDFDateString),\n  PDFWorker: () => (/* reexport */ PDFWorker),\n  PasswordResponses: () => (/* reexport */ PasswordResponses),\n  PermissionFlag: () => (/* reexport */ PermissionFlag),\n  PixelsPerInch: () => (/* reexport */ PixelsPerInch),\n  RenderingCancelledException: () => (/* reexport */ RenderingCancelledException),\n  TextLayer: () => (/* reexport */ TextLayer),\n  UnexpectedResponseException: () => (/* reexport */ UnexpectedResponseException),\n  Util: () => (/* reexport */ Util),\n  VerbosityLevel: () => (/* reexport */ VerbosityLevel),\n  XfaLayer: () => (/* reexport */ XfaLayer),\n  build: () => (/* reexport */ build),\n  createValidAbsoluteUrl: () => (/* reexport */ createValidAbsoluteUrl),\n  fetchData: () => (/* reexport */ fetchData),\n  getDocument: () => (/* reexport */ getDocument),\n  getFilenameFromUrl: () => (/* reexport */ getFilenameFromUrl),\n  getPdfFilenameFromUrl: () => (/* reexport */ getPdfFilenameFromUrl),\n  getXfaPageViewport: () => (/* reexport */ getXfaPageViewport),\n  isDataScheme: () => (/* reexport */ isDataScheme),\n  isPdfFile: () => (/* reexport */ isPdfFile),\n  noContextMenu: () => (/* reexport */ noContextMenu),\n  normalizeUnicode: () => (/* reexport */ normalizeUnicode),\n  setLayerDimensions: () => (/* reexport */ setLayerDimensions),\n  shadow: () => (/* reexport */ shadow),\n  version: () => (/* reexport */ version)\n});\n\n;// CONCATENATED MODULE: ./src/shared/util.js\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst MAX_IMAGE_SIZE_TO_CACHE = 10e6;\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  IS_EDITING: 0x80,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_DEFAULT_COLOR: 32,\n  HIGHLIGHT_THICKNESS: 33,\n  HIGHLIGHT_FREE: 34,\n  HIGHLIGHT_SHOW_ALL: 35\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst util_ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  setStrokeTransparent: 92,\n  setFillTransparent: 93\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        if (dots?.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch {}\n      }\n    }\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch {}\n  return null;\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass util_FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get platform() {\n    if (typeof navigator !== \"undefined\" && typeof navigator?.platform === \"string\") {\n      return shadow(this, \"platform\", {\n        isMac: navigator.platform.includes(\"Mac\")\n      });\n    }\n    return shadow(this, \"platform\", {\n      isMac: false\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = Array.from(Array(256).keys(), n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = this.applyTransform(r, m);\n    const p2 = this.applyTransform(r.slice(2, 4), m);\n    const p3 = this.applyTransform([r[0], r[3]], m);\n    const p4 = this.applyTransform([r[2], r[1]], m);\n    return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, -c / b, minMax);\n      }\n      return;\n    }\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b + sqrtDelta) / a2, minMax);\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b - sqrtDelta) / a2, minMax);\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], x0, x3);\n      minMax[1] = Math.min(minMax[1], y0, y3);\n      minMax[2] = Math.max(minMax[2], x0, x3);\n      minMax[3] = Math.max(minMax[3], y0, y3);\n    } else {\n      minMax = [Math.min(x0, x3), Math.min(y0, y3), Math.max(x0, x3), Math.max(y0, y3)];\n    }\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-x0 + 3 * (x1 - x2) + x3), 6 * (x0 - 2 * x1 + x2), 3 * (x1 - x0), minMax);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-y0 + 3 * (y1 - y2) + y3), 6 * (y0 - 2 * y1 + y2), 3 * (y1 - y0), minMax);\n    return minMax;\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (!decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (charCode === 0x1b) {\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"ﬅ\", \"ſt\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2));\n}\nfunction getUuid() {\n  if (typeof crypto !== \"undefined\" && typeof crypto?.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues === \"function\") {\n    crypto.getRandomValues(buf);\n  } else {\n    for (let i = 0; i < 32; i++) {\n      buf[i] = Math.floor(Math.random() * 255);\n    }\n  }\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\nconst FontRenderOps = {\n  BEZIER_CURVE_TO: 0,\n  MOVE_TO: 1,\n  LINE_TO: 2,\n  QUADRATIC_CURVE_TO: 3,\n  RESTORE: 4,\n  SAVE: 5,\n  SCALE: 6,\n  TRANSFORM: 7,\n  TRANSLATE: 8\n};\n\n;// CONCATENATED MODULE: ./src/display/base_factory.js\n\nclass BaseFilterFactory {\n  constructor() {\n    if (this.constructor === BaseFilterFactory) {\n      unreachable(\"Cannot initialize BaseFilterFactory.\");\n    }\n  }\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addAlphaFilter(map) {\n    return \"none\";\n  }\n  addLuminosityFilter(map) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass BaseCanvasFactory {\n  #enableHWA = false;\n  constructor({\n    enableHWA = false\n  } = {}) {\n    if (this.constructor === BaseCanvasFactory) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n    this.#enableHWA = enableHWA;\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\", {\n        willReadFrequently: !this.#enableHWA\n      })\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that ' + 'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed ? CMapCompressionType.BINARY : CMapCompressionType.NONE;\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  _fetchData(url, compressionType) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      unreachable(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The standard font \"baseUrl\" parameter must be specified, ensure that ' + 'the \"standardFontDataUrl\" API parameter is provided.');\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  _fetchData(url) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      unreachable(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/display_utils.js\n\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nclass DOMFilterFactory extends BaseFilterFactory {\n  #baseUrl;\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #_hcmCache;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #hcmCache() {\n    return this.#_hcmCache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  #createTables(maps) {\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      const table = buffer.join(\",\");\n      return [table, table, table];\n    }\n    const [mapR, mapG, mapB] = maps;\n    const bufferR = new Array(256);\n    const bufferG = new Array(256);\n    const bufferB = new Array(256);\n    for (let i = 0; i < 256; i++) {\n      bufferR[i] = mapR[i] / 255;\n      bufferG[i] = mapG[i] / 255;\n      bufferB[i] = mapB[i] / 255;\n    }\n    return [bufferR.join(\",\"), bufferG.join(\",\"), bufferB.join(\",\")];\n  }\n  #createUrl(id) {\n    if (this.#baseUrl === undefined) {\n      this.#baseUrl = \"\";\n      const url = this.#document.URL;\n      if (url !== this.#document.baseURI) {\n        if (isDataScheme(url)) {\n          warn('#createUrl: ignore \"data:\"-URL for performance reasons.');\n        } else {\n          this.#baseUrl = url.split(\"#\", 1)[0];\n        }\n      }\n    }\n    return `url(${this.#baseUrl}#${id})`;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    const [tableR, tableG, tableB] = this.#createTables(maps);\n    const key = maps.length === 1 ? tableR : `${tableR}${tableG}${tableB}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return info.url;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  addAlphaFilter(map) {\n    let value = this.#cache.get(map);\n    if (value) {\n      return value;\n    }\n    const [tableA] = this.#createTables([map]);\n    const key = `alpha_${tableA}`;\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_alpha_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapAlphaConversion(tableA, filter);\n    return url;\n  }\n  addLuminosityFilter(map) {\n    let value = this.#cache.get(map || \"luminosity\");\n    if (value) {\n      return value;\n    }\n    let tableA, key;\n    if (map) {\n      [tableA] = this.#createTables([map]);\n      key = `luminosity_${tableA}`;\n    } else {\n      key = \"luminosity\";\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_luminosity_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addLuminosityConversion(filter);\n    if (map) {\n      this.#addTransferMapAlphaConversion(tableA, filter);\n    }\n    return url;\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#hcmCache.size !== 0) {\n      return;\n    }\n    if (this.#_defs) {\n      this.#_defs.parentNode.parentNode.remove();\n      this.#_defs = null;\n    }\n    if (this.#_cache) {\n      this.#_cache.clear();\n      this.#_cache = null;\n    }\n    this.#id = 0;\n  }\n  #addLuminosityConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0\");\n    filter.append(feColorMatrix);\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #addTransferMapAlphaConversion(aTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncA\", aTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document,\n    enableHWA = false\n  } = {}) {\n    super({\n      enableHWA\n    });\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\nasync function fetchData(url, type = \"text\") {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = type;\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url, this.isCompressed ? \"arraybuffer\" : \"text\").then(data => ({\n      cMapData: data instanceof ArrayBuffer ? new Uint8Array(data) : stringToBytes(data),\n      compressionType\n    }));\n  }\n}\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url, \"arraybuffer\").then(data => new Uint8Array(data));\n  }\n}\nclass DOMSVGFactory extends BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const {\n      viewBox\n    } = this;\n    return shadow(this, \"rawDims\", {\n      pageWidth: viewBox[2] - viewBox[0],\n      pageHeight: viewBox[3] - viewBox[1],\n      pageX: viewBox[0],\n      pageY: viewBox[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url) {\n  [url] = url.split(/[#?]/, 1);\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch {}\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const {\n      protocol\n    } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch {\n    return false;\n  }\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nlet pdfDateStringRegex;\nclass PDFDateString {\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    pdfDateStringRegex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  warn(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = util_FeatureTest.isCSSRoundSupported;\n    const w = `var(--scale-factor) * ${pageWidth}px`,\n      h = `var(--scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(${w}, 1px)` : `calc(${w})`,\n      heightStr = useRound ? `round(${h}, 1px)` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/toolbar.js\n\nclass EditorToolbar {\n  #toolbar = null;\n  #colorPicker = null;\n  #editor;\n  #buttons = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    const signal = this.#editor._uiManager._signal;\n    editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown, {\n      signal\n    });\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const {\n        style\n      } = editToolbar;\n      const x = this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${100 * position[1]}% + var(--editor-toolbar-vert-offset))`;\n    }\n    this.#addDeleteButton();\n    return editToolbar;\n  }\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #addListenersToElement(element) {\n    const signal = this.#editor._uiManager._signal;\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true,\n      signal\n    });\n    element.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n  }\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n  }\n  #addDeleteButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"delete\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-editor-remove-${this.#editor.editorType}-button`);\n    this.#addListenersToElement(button);\n    button.addEventListener(\"click\", e => {\n      this.#editor._uiManager.delete();\n    }, {\n      signal: this.#editor._uiManager._signal\n    });\n    this.#buttons.append(button);\n  }\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n  addAltTextButton(button) {\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  addColorPicker(colorPicker) {\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\nclass HighlightToolbar {\n  #buttons = null;\n  #toolbar = null;\n  #uiManager;\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n  #render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n      signal: this.#uiManager._signal\n    });\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    this.#addHighlightButton();\n    return editToolbar;\n  }\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const {\n      style\n    } = this.#toolbar ||= this.#render();\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n  hide() {\n    this.#toolbar.remove();\n  }\n  #addHighlightButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"highlightButton\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-highlight-floating-button1`);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", \"pdfjs-highlight-floating-button-label\");\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    button.addEventListener(\"click\", () => {\n      this.#uiManager.highlightSelection(\"floating_button\");\n    }, {\n      signal\n    });\n    this.#buttons.append(button);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/tools.js\n\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nfunction opacityToHex(opacity) {\n  return Math.round(Math.min(255, Math.max(1, 255 * opacity))).toString(16).padStart(2, \"0\");\n}\nclass IdManager {\n  #id = 0;\n  get id() {\n    return `${AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = getUuid();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return shadow(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await fetchData(rawData, \"blob\");\n      } else {\n        image = data.file = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      console.error(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      post,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    const {\n      undo,\n      post\n    } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      const {\n        cmd,\n        post\n      } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n    if (!bubbles) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    getColorValues(colors);\n    return shadow(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = getRGB(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #abortController = new AbortController();\n  #activeEditor = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #changedExistingAnnotations = null;\n  #commandManager = new CommandManager();\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  #enableHighlightFloatingButton = false;\n  #enableUpdatedAddImage = false;\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #highlightColors = null;\n  #highlightWhenShiftUp = false;\n  #highlightToolbar = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isWaiting = false;\n  #lastActiveElement = null;\n  #mainHighlightColorPicker = null;\n  #mlManager = null;\n  #mode = AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #selectedTextNode = null;\n  #pageColors = null;\n  #showAllStates = null;\n  #boundBlur = this.blur.bind(this);\n  #boundFocus = this.focus.bind(this);\n  #boundCopy = this.copy.bind(this);\n  #boundCut = this.cut.bind(this);\n  #boundPaste = this.paste.bind(this);\n  #boundKeydown = this.keydown.bind(this);\n  #boundKeyup = this.keyup.bind(this);\n  #boundOnEditingAction = this.onEditingAction.bind(this);\n  #boundOnPageChanging = this.onPageChanging.bind(this);\n  #boundOnScaleChanging = this.onScaleChanging.bind(this);\n  #boundOnRotationChanging = this.onRotationChanging.bind(this);\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => self.#container.contains(document.activeElement) && document.activeElement.tagName !== \"BUTTON\" && self.hasSomethingToControl();\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(el) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, altTextManager, eventBus, pdfDocument, pageColors, highlightColors, enableHighlightFloatingButton, enableUpdatedAddImage, mlManager) {\n    this._signal = this.#abortController.signal;\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#altTextManager = altTextManager;\n    this._eventBus = eventBus;\n    this._eventBus._on(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._on(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._on(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._on(\"rotationchanging\", this.#boundOnRotationChanging);\n    this.#addSelectionListener();\n    this.#addDragAndDropListeners();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#enableUpdatedAddImage = enableUpdatedAddImage;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n    this.isShiftKeyDown = false;\n  }\n  destroy() {\n    this.#abortController?.abort();\n    this.#abortController = null;\n    this._signal = null;\n    this._eventBus._off(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._off(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._off(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._off(\"rotationchanging\", this.#boundOnRotationChanging);\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#highlightToolbar?.hide();\n    this.#highlightToolbar = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n  }\n  async mlGuess(data) {\n    return this.#mlManager?.guess(data) || null;\n  }\n  async isMLEnabledFor(name) {\n    return !!(await this.#mlManager?.isEnabledFor(name));\n  }\n  get useNewAltTextFlow() {\n    return this.#enableUpdatedAddImage;\n  }\n  get hcmFilter() {\n    return shadow(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return shadow(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  get highlightColors() {\n    return shadow(this, \"highlightColors\", this.#highlightColors ? new Map(this.#highlightColors.split(\",\").map(pair => pair.split(\"=\").map(x => x.trim()))) : null);\n  }\n  get highlightColorNames() {\n    return shadow(this, \"highlightColorNames\", this.highlightColors ? new Map(Array.from(this.highlightColors, e => e.reverse())) : null);\n  }\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n  editAltText(editor) {\n    this.#altTextManager?.editAltText(this, editor);\n  }\n  switchToMode(mode, callback) {\n    this._eventBus.on(\"annotationeditormodechanged\", callback, {\n      once: true,\n      signal: this._signal\n    });\n    this._eventBus.dispatch(\"showannotationeditorui\", {\n      source: this,\n      mode\n    });\n  }\n  setPreference(name, value) {\n    this._eventBus.dispatch(\"setpreference\", {\n      source: this,\n      name,\n      value\n    });\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  #getAnchorElementForSelection({\n    anchorNode\n  }) {\n    return anchorNode.nodeType === Node.TEXT_NODE ? anchorNode.parentElement : anchorNode;\n  }\n  #getLayerForTextLayer(textLayer) {\n    const {\n      currentLayer\n    } = this;\n    if (currentLayer.hasTextLayer(textLayer)) {\n      return currentLayer;\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  highlightSelection(methodOfCreation = \"\") {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const {\n      anchorNode,\n      anchorOffset,\n      focusNode,\n      focusOffset\n    } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n    const layer = this.#getLayerForTextLayer(textLayer);\n    const isNoneMode = this.#mode === AnnotationEditorType.NONE;\n    const callback = () => {\n      layer?.createAndAddNewEditor({\n        x: 0,\n        y: 0\n      }, false, {\n        methodOfCreation,\n        boxes,\n        anchorNode,\n        anchorOffset,\n        focusNode,\n        focusOffset,\n        text\n      });\n      if (isNoneMode) {\n        this.showAllEditors(\"highlight\", true, true);\n      }\n    };\n    if (isNoneMode) {\n      this.switchToMode(AnnotationEditorType.HIGHLIGHT, callback);\n      return;\n    }\n    callback();\n  }\n  #displayHighlightToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#highlightToolbar ||= new HighlightToolbar(this);\n    this.#highlightToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    const {\n      anchorNode\n    } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    this.#highlightToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true\n    });\n    if (this.#mode !== AnnotationEditorType.HIGHLIGHT && this.#mode !== AnnotationEditorType.NONE) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const activeLayer = this.#mode === AnnotationEditorType.HIGHLIGHT ? this.#getLayerForTextLayer(textLayer) : null;\n      activeLayer?.toggleDrawing();\n      const signal = this._signal;\n      const pointerup = e => {\n        if (e.type === \"pointerup\" && e.button !== 0) {\n          return;\n        }\n        activeLayer?.toggleDrawing(true);\n        window.removeEventListener(\"pointerup\", pointerup);\n        window.removeEventListener(\"blur\", pointerup);\n        if (e.type === \"pointerup\") {\n          this.#onSelectEnd(\"main_toolbar\");\n        }\n      };\n      window.addEventListener(\"pointerup\", pointerup, {\n        signal\n      });\n      window.addEventListener(\"blur\", pointerup, {\n        signal\n      });\n    }\n  }\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayHighlightToolbar();\n    }\n  }\n  #addSelectionListener() {\n    document.addEventListener(\"selectionchange\", this.#selectionChange.bind(this), {\n      signal: this._signal\n    });\n  }\n  #addFocusManager() {\n    const signal = this._signal;\n    window.addEventListener(\"focus\", this.#boundFocus, {\n      signal\n    });\n    window.addEventListener(\"blur\", this.#boundBlur, {\n      signal\n    });\n  }\n  #removeFocusManager() {\n    window.removeEventListener(\"focus\", this.#boundFocus);\n    window.removeEventListener(\"blur\", this.#boundBlur);\n  }\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true,\n      signal: this._signal\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    const signal = this._signal;\n    window.addEventListener(\"keydown\", this.#boundKeydown, {\n      signal\n    });\n    window.addEventListener(\"keyup\", this.#boundKeyup, {\n      signal\n    });\n  }\n  #removeKeyboardManager() {\n    window.removeEventListener(\"keydown\", this.#boundKeydown);\n    window.removeEventListener(\"keyup\", this.#boundKeyup);\n  }\n  #addCopyPasteListeners() {\n    const signal = this._signal;\n    document.addEventListener(\"copy\", this.#boundCopy, {\n      signal\n    });\n    document.addEventListener(\"cut\", this.#boundCut, {\n      signal\n    });\n    document.addEventListener(\"paste\", this.#boundPaste, {\n      signal\n    });\n  }\n  #removeCopyPasteListeners() {\n    document.removeEventListener(\"copy\", this.#boundCopy);\n    document.removeEventListener(\"cut\", this.#boundCut);\n    document.removeEventListener(\"paste\", this.#boundPaste);\n  }\n  #addDragAndDropListeners() {\n    const signal = this._signal;\n    document.addEventListener(\"dragover\", this.dragOver.bind(this), {\n      signal\n    });\n    document.addEventListener(\"drop\", this.drop.bind(this), {\n      signal\n    });\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n  dragOver(event) {\n    for (const {\n      type\n    } of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(type)) {\n          event.dataTransfer.dropEffect = \"copy\";\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  drop(event) {\n    for (const item of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (this.#mode !== AnnotationEditorType.NONE && !this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  onEditingAction({\n    name\n  }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n      if (this.#mode === AnnotationEditorType.HIGHLIGHT && details.hasSelectedEditor === false) {\n        this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_FREE, true]]);\n      }\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.id;\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  updateMode(mode, editId = null, isFromKeyboard = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    this.#mode = mode;\n    if (mode === AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      return;\n    }\n    this.setEditingState(true);\n    this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId && isFromKeyboard) {\n      this.addNewEditorFromKeyboard();\n      return;\n    }\n    if (!editId) {\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId) {\n        this.setSelected(editor);\n        editor.enterInEditMode();\n        break;\n      }\n    }\n  }\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n  updateToolbar(mode) {\n    if (mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      mode\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    switch (type) {\n      case AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor();\n        return;\n      case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        this.#mainHighlightColorPicker?.updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\"\n            }\n          }\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.updateParams(type, value);\n    }\n    for (const editorType of this.#editorTypes) {\n      editorType.updateDefaultParams(type, value);\n    }\n  }\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state = this.#showAllStates?.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ?? true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible]]);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      for (const layer of this.#allLayers.values()) {\n        layer.enable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {}\n    return ed;\n  }\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [...this.#selectedEditors];\n    const cmd = () => {\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== AnnotationEditorType.NONE) {\n        return;\n      }\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  get imageManager() {\n    return shadow(this, \"imageManager\", new ImageManager());\n  }\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (!textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)) {\n        return null;\n      }\n    }\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n    }\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const {\n        x,\n        y,\n        width,\n        height\n      } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n  addChangedExistingAnnotation({\n    annotationElementId,\n    id\n  }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(annotationElementId, id);\n  }\n  removeChangedExistingAnnotation({\n    annotationElementId\n  }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/alt_text.js\n\nclass AltText {\n  #altText = \"\";\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #editor = null;\n  static _l10nPromise = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  static initialize(l10nPromise) {\n    AltText._l10nPromise ||= l10nPromise;\n  }\n  async render() {\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    const msg = await AltText._l10nPromise.get(\"pdfjs-editor-alt-text-button-label\");\n    altText.textContent = msg;\n    altText.setAttribute(\"aria-label\", msg);\n    altText.tabIndex = \"0\";\n    const signal = this.#editor._uiManager._signal;\n    altText.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal\n    });\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true,\n      signal\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    }, {\n      signal\n    });\n    await this.#setState();\n    return altText;\n  }\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  isEmpty() {\n    return !this.#altText && !this.#altTextDecorative;\n  }\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set data({\n    altText,\n    decorative\n  }) {\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    this.#altText = altText;\n    this.#altTextDecorative = decorative;\n    this.#setState();\n  }\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextTooltip = null;\n  }\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (!this.#altText && !this.#altTextDecorative) {\n      button.classList.remove(\"done\");\n      this.#altTextTooltip?.remove();\n      return;\n    }\n    button.classList.add(\"done\");\n    AltText._l10nPromise.get(\"pdfjs-editor-alt-text-edit-button-label\").then(msg => {\n      button.setAttribute(\"aria-label\", msg);\n    });\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      const id = tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n      button.setAttribute(\"aria-describedby\", id);\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      const signal = this.#editor._uiManager._signal;\n      signal.addEventListener(\"abort\", () => {\n        clearTimeout(this.#altTextTooltipTimeout);\n        this.#altTextTooltipTimeout = null;\n      }, {\n        once: true\n      });\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this.#editor._reportTelemetry({\n            action: \"alt_text_tooltip\"\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      }, {\n        signal\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      }, {\n        signal\n      });\n    }\n    tooltip.innerText = this.#altTextDecorative ? await AltText._l10nPromise.get(\"pdfjs-editor-alt-text-decorative-tooltip\") : this.#altText;\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.#editor.getImageForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/editor.js\n\n\n\n\n\nclass AnnotationEditor {\n  #accessibilityData = null;\n  #allResizerDivs = null;\n  #altText = null;\n  #disabled = false;\n  #keepAspectRatio = false;\n  #resizersDiv = null;\n  #savedDimensions = null;\n  #boundFocusin = this.focusin.bind(this);\n  #boundFocusout = this.focusout.bind(this);\n  #editToolbar = null;\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #initialPosition = null;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  #prevDragX = 0;\n  #prevDragY = 0;\n  #telemetryTimeouts = null;\n  _initialOptions = Object.create(null);\n  _isVisible = true;\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  _l10nPromise = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new ColorManager();\n  static _zIndex = 1;\n  static _telemetryTimeout = 1000;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_resizerKeyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    if (this.constructor === AnnotationEditor) {\n      unreachable(\"Cannot initialize AnnotationEditor.\");\n    }\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  static get _defaultLineColor() {\n    return shadow(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, _uiManager, options) {\n    AnnotationEditor._l10nPromise ||= new Map([\"pdfjs-editor-alt-text-button-label\", \"pdfjs-editor-alt-text-edit-button-label\", \"pdfjs-editor-alt-text-decorative-tooltip\", \"pdfjs-editor-resizer-label-topLeft\", \"pdfjs-editor-resizer-label-topMiddle\", \"pdfjs-editor-resizer-label-topRight\", \"pdfjs-editor-resizer-label-middleRight\", \"pdfjs-editor-resizer-label-bottomRight\", \"pdfjs-editor-resizer-label-bottomMiddle\", \"pdfjs-editor-resizer-label-bottomLeft\", \"pdfjs-editor-resizer-label-middleLeft\"].map(str => [str, l10n.get(str.replaceAll(/([A-Z])/g, c => `-${c.toLowerCase()}`))]));\n    if (options?.strings) {\n      for (const str of options.strings) {\n        AnnotationEditor._l10nPromise.set(str, l10n.get(str));\n      }\n    }\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    unreachable(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#initialPosition ||= [this.x, this.y];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  drag(tx, ty) {\n    this.#initialPosition ||= [this.x, this.y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    this.div.style.left = `${(100 * x).toFixed(2)}%`;\n    this.div.style.top = `${(100 * y).toFixed(2)}%`;\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  get _hasBeenMoved() {\n    return !!this.#initialPosition && (this.#initialPosition[0] !== this.x || this.#initialPosition[1] !== this.y);\n  }\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  get _mustFixPosition() {\n    return true;\n  }\n  fixAndSetPosition(rotation = this.rotation) {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = Math.max(0, Math.min(pageWidth - width, x));\n          y = Math.max(0, Math.min(pageHeight - height, y));\n          break;\n        case 90:\n          x = Math.max(0, Math.min(pageWidth - height, x));\n          y = Math.min(pageHeight, Math.max(width, y));\n          break;\n        case 180:\n          x = Math.min(pageWidth, Math.max(width, x));\n          y = Math.min(pageHeight, Math.max(height, y));\n          break;\n        case 270:\n          x = Math.min(pageWidth, Math.max(height, x));\n          y = Math.max(0, Math.min(pageHeight - width, y));\n          break;\n      }\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = this.div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    const scaledWidth = pageWidth * parentScale;\n    const scaledHeight = pageHeight * parentScale;\n    return util_FeatureTest.isCSSRoundSupported ? [Math.round(scaledWidth), Math.round(scaledHeight)] : [scaledWidth, scaledHeight];\n  }\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.div.style.width = `${(100 * width / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      this.div.style.height = `${(100 * height / parentHeight).toFixed(2)}%`;\n    }\n  }\n  fixDims() {\n    const {\n      style\n    } = this.div;\n    const {\n      height,\n      width\n    } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${(100 * parseFloat(width) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${(100 * parseFloat(height) / parentHeight).toFixed(2)}%`;\n    }\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    const signal = this._uiManager._signal;\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name), {\n        signal\n      });\n      div.addEventListener(\"contextmenu\", noContextMenu, {\n        signal\n      });\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#altText?.toggle(false);\n    const boundResizerPointermove = this.#resizerPointermove.bind(this, name);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    const signal = this._uiManager._signal;\n    const pointerMoveOptions = {\n      passive: true,\n      capture: true,\n      signal\n    };\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n      window.removeEventListener(\"contextmenu\", noContextMenu);\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  #addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight) {\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: () => {\n        this.width = newWidth;\n        this.height = newHeight;\n        this.x = newX;\n        this.y = newY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n        this.fixAndSetPosition();\n      },\n      undo: () => {\n        this.width = savedWidth;\n        this.height = savedHeight;\n        this.x = savedX;\n        this.y = savedY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * savedWidth, parentHeight * savedHeight);\n        this.fixAndSetPosition();\n      },\n      mustExec: true\n    });\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const round = x => Math.round(x * 10000) / 10000;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = round(savedX + transfOppositePoint[0]);\n    const oppositeY = round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let [deltaX, deltaY] = this.screenToPageTranslation(event.movementX, event.movementY);\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = Math.max(minWidth, Math.min(1, Math.abs(oppositePoint[0] - point[0] - deltaX))) / savedWidth;\n    } else {\n      ratioY = Math.max(minHeight, Math.min(1, Math.abs(oppositePoint[1] - point[1] - deltaY))) / savedHeight;\n    }\n    const newWidth = round(savedWidth * ratioX);\n    const newHeight = round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n  }\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n  async addEditToolbar() {\n    if (this.#editToolbar || this.#isInEditMode) {\n      return this.#editToolbar;\n    }\n    this.#editToolbar = new EditorToolbar(this);\n    this.div.append(this.#editToolbar.render());\n    if (this.#altText) {\n      this.#editToolbar.addAltTextButton(await this.#altText.render());\n    }\n    return this.#editToolbar;\n  }\n  removeEditToolbar() {\n    if (!this.#editToolbar) {\n      return;\n    }\n    this.#editToolbar.remove();\n    this.#editToolbar = null;\n    this.#altText?.destroy();\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  async addAltTextButton() {\n    if (this.#altText) {\n      return;\n    }\n    AltText.initialize(AnnotationEditor._l10nPromise);\n    this.#altText = new AltText(this);\n    if (this.#accessibilityData) {\n      this.#altText.data = this.#accessibilityData;\n      this.#accessibilityData = null;\n    }\n    await this.addEditToolbar();\n  }\n  get altTextData() {\n    return this.#altText?.data;\n  }\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n  hasAltText() {\n    return !this.#altText?.isEmpty();\n  }\n  render() {\n    this.div = document.createElement(\"div\");\n    this.div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    this.div.className = this.name;\n    this.div.setAttribute(\"id\", this.id);\n    this.div.tabIndex = this.#disabled ? -1 : 0;\n    if (!this._isVisible) {\n      this.div.classList.add(\"hidden\");\n    }\n    this.setInForeground();\n    const signal = this._uiManager._signal;\n    this.div.addEventListener(\"focusin\", this.#boundFocusin, {\n      signal\n    });\n    this.div.addEventListener(\"focusout\", this.#boundFocusout, {\n      signal\n    });\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      this.div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      this.div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    bindEvents(this, this.div, [\"pointerdown\"]);\n    return this.div;\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n    this.#selectOnPointerEvent(event);\n  }\n  #selectOnPointerEvent(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n  #setUpDragSession(event) {\n    const isSelected = this._uiManager.isSelected(this);\n    this._uiManager.setUpDragSession();\n    let pointerMoveOptions, pointerMoveCallback;\n    const signal = this._uiManager._signal;\n    if (isSelected) {\n      this.div.classList.add(\"moving\");\n      pointerMoveOptions = {\n        passive: true,\n        capture: true,\n        signal\n      };\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      pointerMoveCallback = e => {\n        const {\n          clientX: x,\n          clientY: y\n        } = e;\n        const [tx, ty] = this.screenToPageTranslation(x - this.#prevDragX, y - this.#prevDragY);\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      };\n      window.addEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n    }\n    const pointerUpCallback = () => {\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      if (isSelected) {\n        this.div.classList.remove(\"moving\");\n        window.removeEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n      }\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(event);\n      }\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n  }\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n  }\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  onceAdded() {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    this.#isInEditMode = true;\n  }\n  disableEditMode() {\n    this.#isInEditMode = false;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  rebuild() {\n    const signal = this._uiManager._signal;\n    this.div?.addEventListener(\"focusin\", this.#boundFocusin, {\n      signal\n    });\n    this.div?.addEventListener(\"focusout\", this.#boundFocusout, {\n      signal\n    });\n  }\n  rotate(_angle) {}\n  serialize(isForCopying = false, context = null) {\n    unreachable(\"An editor must be serializable\");\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager\n    });\n    editor.rotation = data.rotation;\n    editor.#accessibilityData = data.accessibilityData;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  get hasBeenModified() {\n    return !!this.annotationElementId && (this.deleted || this.serialize() !== null);\n  }\n  remove() {\n    this.div.removeEventListener(\"focusin\", this.#boundFocusin);\n    this.div.removeEventListener(\"focusout\", this.#boundFocusout);\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n      bindEvents(this, this.div, [\"keydown\"]);\n    }\n  }\n  get toolbarPosition() {\n    return null;\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      const signal = this._uiManager._signal;\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown, {\n          signal\n        });\n        div.addEventListener(\"blur\", boundResizerBlur, {\n          signal\n        });\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name), {\n          signal\n        });\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => div.setAttribute(\"aria-label\", msg));\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => child.setAttribute(\"aria-label\", msg));\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      movementX: x,\n      movementY: y\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    if (this.#savedDimensions) {\n      const {\n        savedX,\n        savedY,\n        savedWidth,\n        savedHeight\n      } = this.#savedDimensions;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n      this.#savedDimensions = null;\n    }\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this.#editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          this.#editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this.#editToolbar?.show();\n  }\n  unselect() {\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#editToolbar?.hide();\n  }\n  updateParams(type, value) {}\n  disableEditing() {}\n  enableEditing() {}\n  enterInEditMode() {}\n  getImageForAltText() {\n    return null;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const {\n      style\n    } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\"\n    };\n  }\n  get telemetryFinalData() {\n    return null;\n  }\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const {\n        action\n      } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data\n      }\n    });\n  }\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n  renderAnnotationElement(annotation) {\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    const {\n      firstChild\n    } = annotation.container;\n    if (firstChild.nodeName === \"DIV\" && firstChild.classList.contains(\"annotationContent\")) {\n      firstChild.remove();\n    }\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex\n    };\n  }\n}\n\n;// CONCATENATED MODULE: ./src/shared/murmurhash3.js\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/annotation_storage.js\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #modifiedIds = null;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof AnnotationEditor && typeof this.onAnnotationEditor === \"function\") {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  getAll() {\n    return this.#storage.size > 0 ? objectFromMap(this.#storage) : null;\n  }\n  setAll(obj) {\n    for (const [key, val] of Object.entries(obj)) {\n      this.setValue(key, val);\n    }\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor)) {\n        continue;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const {\n        type\n      } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = stats[type] ||= new Map();\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n  resetModifiedIds() {\n    this.#modifiedIds = null;\n  }\n  get modifiedIds() {\n    if (this.#modifiedIds) {\n      return this.#modifiedIds;\n    }\n    const ids = [];\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor) || !value.annotationElementId || !value.serialize()) {\n        continue;\n      }\n      ids.push(value.annotationElementId);\n    }\n    return this.#modifiedIds = {\n      ids: new Set(ids),\n      hash: ids.join(\",\")\n    };\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    unreachable(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n  get modifiedIds() {\n    return shadow(this, \"modifiedIds\", {\n      ids: new Set(),\n      hash: \"\"\n    });\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/font_loader.js\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    assert(!this.disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        warn(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    unreachable(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    let supported = false;\n    if (isNodeJS) {\n      supported = true;\n    } else if (typeof navigator !== \"undefined\" && typeof navigator?.userAgent === \"string\" && /Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)) {\n      supported = true;\n    }\n    return shadow(this, \"isSyncFontLoadingSupported\", supported);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      assert(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return shadow(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        warn(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  constructor(translatedData, {\n    disableFontFace = false,\n    inspectFont = null\n  }) {\n    this.compiledGlyphs = Object.create(null);\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.disableFontFace = disableFontFace === true;\n    this._inspectFont = inspectFont;\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = bytesToString(this.data);\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    if (!Array.isArray(cmds) || cmds.length === 0) {\n      return this.compiledGlyphs[character] = function (c, size) {};\n    }\n    const commands = [];\n    for (let i = 0, ii = cmds.length; i < ii;) {\n      switch (cmds[i++]) {\n        case FontRenderOps.BEZIER_CURVE_TO:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.bezierCurveTo(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case FontRenderOps.MOVE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.moveTo(a, b));\n            i += 2;\n          }\n          break;\n        case FontRenderOps.LINE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.lineTo(a, b));\n            i += 2;\n          }\n          break;\n        case FontRenderOps.QUADRATIC_CURVE_TO:\n          {\n            const [a, b, c, d] = cmds.slice(i, i + 4);\n            commands.push(ctx => ctx.quadraticCurveTo(a, b, c, d));\n            i += 4;\n          }\n          break;\n        case FontRenderOps.RESTORE:\n          commands.push(ctx => ctx.restore());\n          break;\n        case FontRenderOps.SAVE:\n          commands.push(ctx => ctx.save());\n          break;\n        case FontRenderOps.SCALE:\n          assert(commands.length === 2, \"Scale command is only valid at the third position.\");\n          break;\n        case FontRenderOps.TRANSFORM:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.transform(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case FontRenderOps.TRANSLATE:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.translate(a, b));\n            i += 2;\n          }\n          break;\n      }\n    }\n    return this.compiledGlyphs[character] = function glyphDrawer(ctx, size) {\n      commands[0](ctx);\n      commands[1](ctx);\n      ctx.scale(size, -size);\n      for (let i = 2, ii = commands.length; i < ii; i++) {\n        commands[i](ctx);\n      }\n    };\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/node_utils.js\n\n\nif (isNodeJS) {\n  var packageCapability = Promise.withResolvers();\n  var packageMap = null;\n  const loadPackages = async () => {\n    const fs = await import( /*webpackIgnore: true*/\"fs\"),\n      http = await import( /*webpackIgnore: true*/\"http\"),\n      https = await import( /*webpackIgnore: true*/\"https\"),\n      url = await import( /*webpackIgnore: true*/\"url\");\n    let canvas, path2d;\n    return new Map(Object.entries({\n      fs,\n      http,\n      https,\n      url,\n      canvas,\n      path2d\n    }));\n  };\n  loadPackages().then(map => {\n    packageMap = map;\n    packageCapability.resolve();\n  }, reason => {\n    warn(`loadPackages: ${reason}`);\n    packageMap = new Map();\n    packageCapability.resolve();\n  });\n}\nclass NodePackages {\n  static get promise() {\n    return packageCapability.promise;\n  }\n  static get(name) {\n    return packageMap?.get(name);\n  }\n}\nconst node_utils_fetchData = function (url) {\n  const fs = NodePackages.get(\"fs\");\n  return fs.promises.readFile(url).then(data => new Uint8Array(data));\n};\nclass NodeFilterFactory extends BaseFilterFactory {}\nclass NodeCanvasFactory extends BaseCanvasFactory {\n  _createCanvas(width, height) {\n    const canvas = NodePackages.get(\"canvas\");\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return node_utils_fetchData(url).then(data => ({\n      cMapData: data,\n      compressionType\n    }));\n  }\n}\nclass NodeStandardFontDataFactory extends BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return node_utils_fetchData(url);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/pattern_helper.js\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      unreachable(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, getCurrentTransform(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height, true);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = Util.singularValueDecompose2dScale(getCurrentTransform(ctx));\n    } else {\n      scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n    info(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = Util.singularValueDecompose2dScale(this.baseTransform);\n    const combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n    const dimx = this.getSizeAndScale(xstep, this.ctx.canvas.width, combinedScale[0]);\n    const dimy = this.getSizeAndScale(ystep, this.ctx.canvas.height, combinedScale[1]);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size, true);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n    graphics.baseTransform = getCurrentTransform(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    step = Math.abs(step);\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax(getCurrentTransform(graphics.ctx), [x0, y0, x1, y1]);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/shared/image_utils.js\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len32 = src.length >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/canvas.js\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst MAX_SIZE_TO_COMPILE = 1000;\nconst FULL_CHUNK_HEIGHT = 16;\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = getCurrentTransform(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nfunction compileType3Glyph(imgData) {\n  const {\n    width,\n    height\n  } = imgData;\n  if (width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n  const lineSize = width + 7 & ~7;\n  let data = new Uint8Array(lineSize * height),\n    pos = 0;\n  for (const elem of imgData.data) {\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const path = new Path2D();\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    path.moveTo(p % width1, i);\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        type = pp;\n        points[p] = 0;\n      } else {\n        type = pp & 0x33 * type >> 4;\n        points[p] &= type >> 2 | type << 2;\n      }\n      path.lineTo(p % width1, p / width1 | 0);\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    --i;\n  }\n  data = null;\n  points = null;\n  const drawOutline = function (c) {\n    c.save();\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.fill(path);\n    c.beginPath();\n    c.restore();\n  };\n  return drawOutline;\n}\nclass CanvasExtraState {\n  constructor(width, height) {\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.x = 0;\n    this.y = 0;\n    this.lineX = 0;\n    this.lineY = 0;\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = \"none\";\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  updatePathMinMax(transform, x, y) {\n    [x, y] = Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n  updateRectMinMax(transform, rect) {\n    const p1 = Util.applyTransform(rect, transform);\n    const p2 = Util.applyTransform(rect.slice(2), transform);\n    const p3 = Util.applyTransform([rect[0], rect[3]], transform);\n    const p4 = Util.applyTransform([rect[2], rect[1]], transform);\n    this.minX = Math.min(this.minX, p1[0], p2[0], p3[0], p4[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1], p3[1], p4[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0], p3[0], p4[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1], p3[1], p4[1]);\n  }\n  updateScalingPathMinMax(transform, minMax) {\n    Util.scaleMinMax(transform, minMax);\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.minY = Math.min(this.minY, minMax[1]);\n    this.maxX = Math.max(this.maxX, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax);\n    if (minMax) {\n      return;\n    }\n    this.updateRectMinMax(transform, box);\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      const scale = Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = scale[0] * this.lineWidth / 2;\n      const yStrokePad = scale[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util_ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util_FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util_ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util_ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  if (!isNodeJS) {\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n  }\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  if (interpolate) {\n    return true;\n  }\n  const scale = Util.singularValueDecompose2dScale(transform);\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround((globalThis.devicePixelRatio || 1) * PixelsPerInch.PDF_TO_CSS_UNITS);\n  return scale[0] <= actualScale && scale[1] <= actualScale;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.processingType3 = null;\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...getCurrentTransform(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = getCurrentTransform(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      fnId = fnArray[i];\n      if (fnId !== OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.current.activeSMask = null;\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = getCurrentTransform(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const [minX, minY, maxX, maxY] = Util.getAxialAlignedBoundingBox([0, 0, width, height], maskToCanvas);\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, getCurrentTransformInverse(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = Util.transform(getCurrentTransformInverse(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(intent) {}\n  setFlatness(flatness) {}\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.current.fillAlpha = value;\n          this.ctx.globalAlpha = value;\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform(...getCurrentTransform(this.suspendedCtx));\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    this.composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  composeSMask(ctx, smask, layerCtx, layerBox) {\n    const layerOffsetX = layerBox[0];\n    const layerOffsetY = layerBox[1];\n    const layerWidth = layerBox[2] - layerOffsetX;\n    const layerHeight = layerBox[3] - layerOffsetY;\n    if (layerWidth === 0 || layerHeight === 0) {\n      return;\n    }\n    this.genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n    ctx.save();\n    ctx.globalAlpha = 1;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(layerCtx.canvas, 0, 0);\n    ctx.restore();\n  }\n  genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n    let maskCanvas = maskCtx.canvas;\n    let maskX = layerOffsetX - maskOffsetX;\n    let maskY = layerOffsetY - maskOffsetY;\n    if (backdrop) {\n      if (maskX < 0 || maskY < 0 || maskX + width > maskCanvas.width || maskY + height > maskCanvas.height) {\n        const canvas = this.cachedCanvases.getCanvas(\"maskExtension\", width, height);\n        const ctx = canvas.context;\n        ctx.drawImage(maskCanvas, -maskX, -maskY);\n        if (backdrop.some(c => c !== 0)) {\n          ctx.globalCompositeOperation = \"destination-atop\";\n          ctx.fillStyle = Util.makeHexColor(...backdrop);\n          ctx.fillRect(0, 0, width, height);\n          ctx.globalCompositeOperation = \"source-over\";\n        }\n        maskCanvas = canvas.canvas;\n        maskX = maskY = 0;\n      } else if (backdrop.some(c => c !== 0)) {\n        maskCtx.save();\n        maskCtx.globalAlpha = 1;\n        maskCtx.setTransform(1, 0, 0, 1, 0, 0);\n        const clip = new Path2D();\n        clip.rect(maskX, maskY, width, height);\n        maskCtx.clip(clip);\n        maskCtx.globalCompositeOperation = \"destination-atop\";\n        maskCtx.fillStyle = Util.makeHexColor(...backdrop);\n        maskCtx.fillRect(maskX, maskY, width, height);\n        maskCtx.restore();\n      }\n    }\n    layerCtx.save();\n    layerCtx.globalAlpha = 1;\n    layerCtx.setTransform(1, 0, 0, 1, 0, 0);\n    if (subtype === \"Alpha\" && transferMap) {\n      layerCtx.filter = this.filterFactory.addAlphaFilter(transferMap);\n    } else if (subtype === \"Luminosity\") {\n      layerCtx.filter = this.filterFactory.addLuminosityFilter(transferMap);\n    }\n    const clip = new Path2D();\n    clip.rect(layerOffsetX, layerOffsetY, width, height);\n    layerCtx.clip(clip);\n    layerCtx.globalCompositeOperation = \"destination-in\";\n    layerCtx.drawImage(maskCanvas, maskX, maskY, width, height, layerOffsetX, layerOffsetY, width, height);\n    layerCtx.restore();\n  }\n  save() {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      if (this.inSMaskMode) {\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n      this.checkSMaskState();\n      this.pendingClip = null;\n      this._cachedScaleForStroking[0] = -1;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    const currentTransform = getCurrentTransform(ctx);\n    const isScalingMatrix = currentTransform[0] === 0 && currentTransform[3] === 0 || currentTransform[1] === 0 && currentTransform[2] === 0;\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n          ctx.closePath();\n          break;\n        case OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], args[j + 2], args[j + 3], x, y, minMaxForBezier);\n          j += 6;\n          break;\n        case OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, x, y, args[j], args[j + 1], args[j + 2], args[j + 3], minMaxForBezier);\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], x, y, x, y, minMaxForBezier);\n          j += 4;\n          break;\n        case OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n    current.setCurrentPoint(x, y);\n  }\n  closePath() {\n    this.ctx.closePath();\n  }\n  stroke(consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.STROKE);\n        this.rescaleAndStroke(false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(true);\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n  fill(consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL);\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n    this.consumePath();\n  }\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n  endPath() {\n    this.consumePath();\n  }\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n  beginText() {\n    this.current.textMatrix = IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n    ctx.save();\n    ctx.beginPath();\n    for (const path of paths) {\n      ctx.setTransform(...path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform(...patternTransform);\n      }\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.fill();\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === TextRenderingMode.FILL || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n      }\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: getCurrentTransform(ctx),\n        x,\n        y,\n        fontSize,\n        addToPath\n      });\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.FILL);\n      patternTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode = current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (fillStrokeMode === TextRenderingMode.STROKE || fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      ctx.fillText(chars.join(\"\"), 0, 0);\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      if (font.remeasure && width > 0) {\n        const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    return undefined;\n  }\n  showType3Text(glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y);\n    ctx.scale(textHScale, fontDirection);\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n  setCharWidth(xWidth, yWidth) {}\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || getCurrentTransform(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n          optionalContentConfig: this.optionalContentConfig,\n          markedContentStack: this.markedContentStack\n        })\n      };\n      pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(r, g, b) {\n    this.ctx.strokeStyle = this.current.strokeColor = Util.makeHexColor(r, g, b);\n  }\n  setStrokeTransparent() {\n    this.ctx.strokeStyle = this.current.strokeColor = \"transparent\";\n  }\n  setFillRGBColor(r, g, b) {\n    this.ctx.fillStyle = this.current.fillColor = Util.makeHexColor(r, g, b);\n    this.current.patternFill = false;\n  }\n  setFillTransparent() {\n    this.ctx.fillStyle = this.current.fillColor = \"transparent\";\n    this.current.patternFill = false;\n  }\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, getCurrentTransformInverse(ctx), PathType.SHADING);\n    const inv = getCurrentTransformInverse(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const [x0, y0, x1, y1] = Util.getAxialAlignedBoundingBox([0, 0, width, height], inv);\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n    if (matrix) {\n      this.transform(...matrix);\n    }\n    this.baseTransform = getCurrentTransform(this.ctx);\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax(getCurrentTransform(this.ctx), bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n    const currentTransform = getCurrentTransform(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = Util.getAxialAlignedBoundingBox(group.bbox, getCurrentTransform(currentCtx));\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    const drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    } else {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = getCurrentTransform(this.ctx);\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = Util.getAxialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save();\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (rect) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        const [scaleX, scaleY] = Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx));\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.endPath();\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(...transform);\n    this.transform(...matrix);\n  }\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = getCurrentTransform(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      const [x, y] = Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, getCurrentTransformInverse(ctx), PathType.FILL) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(imgData);\n  }\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save();\n    if (!isNodeJS) {\n      const {\n        filter\n      } = ctx;\n      if (filter !== \"none\" && filter !== \"\") {\n        ctx.filter = \"none\";\n      }\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, getCurrentTransformInverse(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(getCurrentTransform(ctx), imgData.interpolate);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore();\n  }\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(tag) {}\n  markPointProps(tag, properties) {}\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat() {}\n  endCompat() {}\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = getCurrentTransform(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(saveRestore) {\n    const {\n      ctx\n    } = this;\n    const {\n      lineWidth\n    } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    ctx.lineWidth = lineWidth || 1;\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.stroke();\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/worker_options.js\nclass GlobalWorkerOptions {\n  static #port = null;\n  static #src = \"\";\n  static get workerPort() {\n    return this.#port;\n  }\n  static set workerPort(val) {\n    if (!(typeof Worker !== \"undefined\" && val instanceof Worker) && val !== null) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n  static get workerSrc() {\n    return this.#src;\n  }\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/shared/message_handler.js\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction wrapReason(reason) {\n  if (!(reason instanceof Error || typeof reason === \"object\" && reason !== null)) {\n    unreachable('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this.#processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(function (result) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason)\n          });\n        });\n        return;\n      }\n      if (data.streamId) {\n        this.#createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = Promise.withResolvers();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = Promise.withResolvers();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        assert(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = Promise.withResolvers();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull?.());\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel?.(wrapReason(data.reason)));\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/metadata.js\n\nclass Metadata {\n  #metadataMap;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n  getAll() {\n    return objectFromMap(this.#metadataMap);\n  }\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/optional_content_config.js\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #isDisplay = false;\n  #isPrint = false;\n  #userSet = false;\n  #visible = true;\n  constructor(renderingIntent, {\n    name,\n    intent,\n    usage\n  }) {\n    this.#isDisplay = !!(renderingIntent & RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n  }\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const {\n      print,\n      view\n    } = this.usage;\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      unreachable(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data, renderingIntent = RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(renderingIntent, group));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      info(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    group._setVisible(INTERNAL, !!visible, true);\n    this.#cachedGetHash = null;\n  }\n  setOCGState({\n    state,\n    preserveRB\n  }) {\n    let operator;\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          group._setVisible(INTERNAL, true);\n          break;\n        case \"OFF\":\n          group._setVisible(INTERNAL, false);\n          break;\n        case \"Toggle\":\n          group._setVisible(INTERNAL, !group.visible);\n          break;\n      }\n    }\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroups() {\n    return this.#groups.size > 0 ? objectFromMap(this.#groups) : null;\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/transport_stream.js\n\n\nclass PDFDataTransportStream {\n  constructor(pdfDataRangeTransport, {\n    disableRange = false,\n    disableStream = false\n  }) {\n    assert(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    const {\n      length,\n      initialData,\n      progressiveDone,\n      contentDispositionFilename\n    } = pdfDataRangeTransport;\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/content_disposition.js\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n;// CONCATENATED MODULE: ./src/display/network_utils.js\n\n\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status);\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n;// CONCATENATED MODULE: ./src/display/fetch_stream.js\n\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (value === undefined) {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  warn(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._headers = createHeaders(this._stream.httpHeaders);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseStatusError(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const getResponseHeader = name => response.headers.get(name);\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: this._stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!validateResponseStatus(response.status)) {\n        throw createResponseStatusError(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/network.js\n\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction network_getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return stringToBytes(data).buffer;\n}\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = this.isHttp && args.httpHeaders || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const chunk = network_getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    const getResponseHeader = name => fullRequestXhr.getResponseHeader(name);\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = validateRangeRequestCapabilities({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = extractFilenameFromHeader(getResponseHeader);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersReceivedCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    this._headersReceivedCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/node_stream.js\n\n\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\nfunction parseUrl(sourceUrl) {\n  const url = NodePackages.get(\"url\");\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    assert(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers\n  };\n}\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n      const getResponseHeader = name => this._readableStream.headers[name.toLowerCase()];\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      const http = NodePackages.get(\"http\");\n      this._request = http.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    } else {\n      const https = NodePackages.get(\"https\");\n      this._request = https.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      const http = NodePackages.get(\"http\");\n      this._request = http.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    } else {\n      const https = NodePackages.get(\"https\");\n      this._request = https.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    const fs = NodePackages.get(\"fs\");\n    fs.promises.lstat(path).then(stat => {\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    }, error => {\n      if (error.code === \"ENOENT\") {\n        error = new MissingPDFException(`Missing PDF \"${path}\".`);\n      }\n      this._storedError = error;\n      this._headersCapability.reject(error);\n    });\n  }\n}\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    const fs = NodePackages.get(\"fs\");\n    this._setReadableStream(fs.createReadStream(path, {\n      start,\n      end: end - 1\n    }));\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/text_layer.js\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nclass TextLayer {\n  #capability = Promise.withResolvers();\n  #container = null;\n  #disableProcessItems = false;\n  #fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n  #lang = null;\n  #layoutTextParams = null;\n  #pageHeight = 0;\n  #pageWidth = 0;\n  #reader = null;\n  #rootContainer = null;\n  #rotation = 0;\n  #scale = 0;\n  #styleCache = Object.create(null);\n  #textContentItemsStr = [];\n  #textContentSource = null;\n  #textDivs = [];\n  #textDivProperties = new WeakMap();\n  #transform = null;\n  static #ascentCache = new Map();\n  static #canvasContexts = new Map();\n  static #minFontSize = null;\n  static #pendingTextLayers = new Set();\n  constructor({\n    textContentSource,\n    container,\n    viewport\n  }) {\n    if (textContentSource instanceof ReadableStream) {\n      this.#textContentSource = textContentSource;\n    } else if (typeof textContentSource === \"object\") {\n      this.#textContentSource = new ReadableStream({\n        start(controller) {\n          controller.enqueue(textContentSource);\n          controller.close();\n        }\n      });\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    this.#container = this.#rootContainer = container;\n    this.#scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    this.#rotation = viewport.rotation;\n    this.#layoutTextParams = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      properties: null,\n      ctx: null\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this.#transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this.#pageWidth = pageWidth;\n    this.#pageHeight = pageHeight;\n    TextLayer.#ensureMinFontSizeComputed();\n    setLayerDimensions(container, viewport);\n    this.#capability.promise.catch(() => {}).then(() => {\n      TextLayer.#pendingTextLayers.delete(this);\n      this.#layoutTextParams = null;\n      this.#styleCache = null;\n    });\n  }\n  render() {\n    const pump = () => {\n      this.#reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          this.#capability.resolve();\n          return;\n        }\n        this.#lang ??= value.lang;\n        Object.assign(this.#styleCache, value.styles);\n        this.#processItems(value.items);\n        pump();\n      }, this.#capability.reject);\n    };\n    this.#reader = this.#textContentSource.getReader();\n    TextLayer.#pendingTextLayers.add(this);\n    pump();\n    return this.#capability.promise;\n  }\n  update({\n    viewport,\n    onBefore = null\n  }) {\n    const scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    const rotation = viewport.rotation;\n    if (rotation !== this.#rotation) {\n      onBefore?.();\n      this.#rotation = rotation;\n      setLayerDimensions(this.#rootContainer, {\n        rotation\n      });\n    }\n    if (scale !== this.#scale) {\n      onBefore?.();\n      this.#scale = scale;\n      const params = {\n        prevFontSize: null,\n        prevFontFamily: null,\n        div: null,\n        properties: null,\n        ctx: TextLayer.#getCtx(this.#lang)\n      };\n      for (const div of this.#textDivs) {\n        params.properties = this.#textDivProperties.get(div);\n        params.div = div;\n        this.#layout(params);\n      }\n    }\n  }\n  cancel() {\n    const abortEx = new AbortException(\"TextLayer task cancelled.\");\n    this.#reader?.cancel(abortEx).catch(() => {});\n    this.#reader = null;\n    this.#capability.reject(abortEx);\n  }\n  get textDivs() {\n    return this.#textDivs;\n  }\n  get textContentItemsStr() {\n    return this.#textContentItemsStr;\n  }\n  #processItems(items) {\n    if (this.#disableProcessItems) {\n      return;\n    }\n    this.#layoutTextParams.ctx ??= TextLayer.#getCtx(this.#lang);\n    const textDivs = this.#textDivs,\n      textContentItemsStr = this.#textContentItemsStr;\n    for (const item of items) {\n      if (textDivs.length > MAX_TEXT_DIVS_TO_RENDER) {\n        warn(\"Ignoring additional textDivs for performance reasons.\");\n        this.#disableProcessItems = true;\n        return;\n      }\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this.#container;\n          this.#container = document.createElement(\"span\");\n          this.#container.classList.add(\"markedContent\");\n          if (item.id !== null) {\n            this.#container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this.#container);\n        } else if (item.type === \"endMarkedContent\") {\n          this.#container = this.#container.parentNode;\n        }\n        continue;\n      }\n      textContentItemsStr.push(item.str);\n      this.#appendText(item);\n    }\n  }\n  #appendText(geom) {\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      hasText: geom.str !== \"\",\n      hasEOL: geom.hasEOL,\n      fontSize: 0\n    };\n    this.#textDivs.push(textDiv);\n    const tx = Util.transform(this.#transform, geom.transform);\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = this.#styleCache[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    const fontFamily = this.#fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n    const fontHeight = Math.hypot(tx[2], tx[3]);\n    const fontAscent = fontHeight * TextLayer.#getAscent(fontFamily, this.#lang);\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    const scaleFactorStr = \"calc(var(--scale-factor)*\";\n    const divStyle = textDiv.style;\n    if (this.#container === this.#rootContainer) {\n      divStyle.left = `${(100 * left / this.#pageWidth).toFixed(2)}%`;\n      divStyle.top = `${(100 * top / this.#pageHeight).toFixed(2)}%`;\n    } else {\n      divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n      divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n    }\n    divStyle.fontSize = `${scaleFactorStr}${(TextLayer.#minFontSize * fontHeight).toFixed(2)}px)`;\n    divStyle.fontFamily = fontFamily;\n    textDivProperties.fontSize = fontHeight;\n    textDiv.setAttribute(\"role\", \"presentation\");\n    textDiv.textContent = geom.str;\n    textDiv.dir = geom.dir;\n    if (this.#fontInspectorEnabled) {\n      textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n    }\n    this.#textDivProperties.set(textDiv, textDivProperties);\n    this.#layoutTextParams.div = textDiv;\n    this.#layoutTextParams.properties = textDivProperties;\n    this.#layout(this.#layoutTextParams);\n    if (textDivProperties.hasText) {\n      this.#container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this.#container.append(br);\n    }\n  }\n  #layout(params) {\n    const {\n      div,\n      properties,\n      ctx,\n      prevFontSize,\n      prevFontFamily\n    } = params;\n    const {\n      style\n    } = div;\n    let transform = \"\";\n    if (TextLayer.#minFontSize > 1) {\n      transform = `scale(${1 / TextLayer.#minFontSize})`;\n    }\n    if (properties.canvasWidth !== 0 && properties.hasText) {\n      const {\n        fontFamily\n      } = style;\n      const {\n        canvasWidth,\n        fontSize\n      } = properties;\n      if (prevFontSize !== fontSize || prevFontFamily !== fontFamily) {\n        ctx.font = `${fontSize * this.#scale}px ${fontFamily}`;\n        params.prevFontSize = fontSize;\n        params.prevFontFamily = fontFamily;\n      }\n      const {\n        width\n      } = ctx.measureText(div.textContent);\n      if (width > 0) {\n        transform = `scaleX(${canvasWidth * this.#scale / width}) ${transform}`;\n      }\n    }\n    if (properties.angle !== 0) {\n      transform = `rotate(${properties.angle}deg) ${transform}`;\n    }\n    if (transform.length > 0) {\n      style.transform = transform;\n    }\n  }\n  static cleanup() {\n    if (this.#pendingTextLayers.size > 0) {\n      return;\n    }\n    this.#ascentCache.clear();\n    for (const {\n      canvas\n    } of this.#canvasContexts.values()) {\n      canvas.remove();\n    }\n    this.#canvasContexts.clear();\n  }\n  static #getCtx(lang = null) {\n    let canvasContext = this.#canvasContexts.get(lang ||= \"\");\n    if (!canvasContext) {\n      const canvas = document.createElement(\"canvas\");\n      canvas.className = \"hiddenCanvasElement\";\n      canvas.lang = lang;\n      document.body.append(canvas);\n      canvasContext = canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: true\n      });\n      this.#canvasContexts.set(lang, canvasContext);\n    }\n    return canvasContext;\n  }\n  static #ensureMinFontSizeComputed() {\n    if (this.#minFontSize !== null) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.style.opacity = 0;\n    div.style.lineHeight = 1;\n    div.style.fontSize = \"1px\";\n    div.style.position = \"absolute\";\n    div.textContent = \"X\";\n    document.body.append(div);\n    this.#minFontSize = div.getBoundingClientRect().height;\n    div.remove();\n  }\n  static #getAscent(fontFamily, lang) {\n    const cachedAscent = this.#ascentCache.get(fontFamily);\n    if (cachedAscent) {\n      return cachedAscent;\n    }\n    const ctx = this.#getCtx(lang);\n    const savedFont = ctx.font;\n    ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n    ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n    const metrics = ctx.measureText(\"\");\n    let ascent = metrics.fontBoundingBoxAscent;\n    let descent = Math.abs(metrics.fontBoundingBoxDescent);\n    if (ascent) {\n      const ratio = ascent / (ascent + descent);\n      this.#ascentCache.set(fontFamily, ratio);\n      ctx.canvas.width = ctx.canvas.height = 0;\n      ctx.font = savedFont;\n      return ratio;\n    }\n    ctx.strokeStyle = \"red\";\n    ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n    ctx.strokeText(\"g\", 0, 0);\n    let pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n    descent = 0;\n    for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n      if (pixels[i] > 0) {\n        descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n        break;\n      }\n    }\n    ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n    ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n    pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n    ascent = 0;\n    for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n      if (pixels[i] > 0) {\n        ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n        break;\n      }\n    }\n    ctx.canvas.width = ctx.canvas.height = 0;\n    ctx.font = savedFont;\n    const ratio = ascent ? ascent / (ascent + descent) : DEFAULT_FONT_ASCENT;\n    this.#ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/xfa_text.js\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/api.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536;\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nconst DELAYED_CLEANUP_TIMEOUT = 5000;\nconst DefaultCanvasFactory = isNodeJS ? NodeCanvasFactory : DOMCanvasFactory;\nconst DefaultCMapReaderFactory = isNodeJS ? NodeCMapReaderFactory : DOMCMapReaderFactory;\nconst DefaultFilterFactory = isNodeJS ? NodeFilterFactory : DOMFilterFactory;\nconst DefaultStandardFontDataFactory = isNodeJS ? NodeStandardFontDataFactory : DOMStandardFontDataFactory;\nfunction getDocument(src = {}) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n    src = {\n      data: src\n    };\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : DEFAULT_RANGE_CHUNK_SIZE;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !isDataScheme(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = typeof src.cMapUrl === \"string\" ? src.cMapUrl : null;\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || DefaultCMapReaderFactory;\n  const standardFontDataUrl = typeof src.standardFontDataUrl === \"string\" ? src.standardFontDataUrl : null;\n  const StandardFontDataFactory = src.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !isNodeJS;\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const enableHWA = src.enableHWA === true;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : CMapReaderFactory === DOMCMapReaderFactory && StandardFontDataFactory === DOMStandardFontDataFactory && cMapUrl && standardFontDataUrl && isValidFetchUrl(cMapUrl, document.baseURI) && isValidFetchUrl(standardFontDataUrl, document.baseURI);\n  const canvasFactory = src.canvasFactory || new DefaultCanvasFactory({\n    ownerDocument,\n    enableHWA\n  });\n  const filterFactory = src.filterFactory || new DefaultFilterFactory({\n    docId,\n    ownerDocument\n  });\n  const styleElement = null;\n  setVerbosityLevel(verbosity);\n  const transportFactory = {\n    canvasFactory,\n    filterFactory\n  };\n  if (!useWorkerFetch) {\n    transportFactory.cMapReaderFactory = new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    });\n    transportFactory.standardFontDataFactory = new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    });\n  }\n  if (!worker) {\n    const workerParams = {\n      verbosity,\n      port: GlobalWorkerOptions.workerPort\n    };\n    worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const docParams = {\n    docId,\n    apiVersion: \"4.5.136\",\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      cMapUrl: useWorkerFetch ? cMapUrl : null,\n      standardFontDataUrl: useWorkerFetch ? standardFontDataUrl : null\n    }\n  };\n  const transportParams = {\n    disableFontFace,\n    fontExtraProperties,\n    ownerDocument,\n    pdfBug,\n    styleElement,\n    loadingParams: {\n      disableAutoFetch,\n      enableXfa\n    }\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    if (worker.destroyed) {\n      throw new Error(\"Worker was destroyed\");\n    }\n    const workerIdPromise = worker.messageHandler.sendWithPromise(\"GetDocRequest\", docParams, data ? [data.buffer] : null);\n    let networkStream;\n    if (rangeTransport) {\n      networkStream = new PDFDataTransportStream(rangeTransport, {\n        disableRange,\n        disableStream\n      });\n    } else if (!data) {\n      if (!url) {\n        throw new Error(\"getDocument - no `url` parameter provided.\");\n      }\n      const createPDFNetworkStream = params => {\n        if (isNodeJS) {\n          const isFetchSupported = function () {\n            return typeof fetch !== \"undefined\" && typeof Response !== \"undefined\" && \"body\" in Response.prototype;\n          };\n          return isFetchSupported() && isValidFetchUrl(params.url) ? new PDFFetchStream(params) : new PDFNodeStream(params);\n        }\n        return isValidFetchUrl(params.url) ? new PDFFetchStream(params) : new PDFNetworkStream(params);\n      };\n      networkStream = createPDFNetworkStream({\n        url,\n        length,\n        httpHeaders,\n        withCredentials,\n        rangeChunkSize,\n        disableRange,\n        disableStream\n      });\n    }\n    return workerIdPromise.then(workerId => {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      const messageHandler = new MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  try {\n    return new URL(val, window.location).href;\n  } catch {\n    if (isNodeJS && typeof val === \"string\") {\n      return val;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return stringToBytes(val);\n  }\n  if (val instanceof ArrayBuffer || ArrayBuffer.isView(val) || typeof val === \"object\" && !isNaN(val?.length)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nfunction isRefProxy(ref) {\n  return typeof ref === \"object\" && Number.isInteger(ref?.num) && ref.num >= 0 && Number.isInteger(ref?.gen) && ref.gen >= 0;\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  constructor() {\n    this._capability = Promise.withResolvers();\n    this._transport = null;\n    this._worker = null;\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n    this.destroyed = false;\n    this.onPassword = null;\n    this.onProgress = null;\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = Promise.withResolvers();\n  }\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #delayedCleanupTimeout = null;\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._maybeCleanupAfterRender = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null,\n    isEditing = false\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing);\n    const {\n      renderingIntent,\n      cacheKey\n    } = intentArgs;\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    optionalContentConfigPromise ||= this._transport.getOptionalContentConfig(renderingIntent);\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (this._maybeCleanupAfterRender || intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup(!intentPrint);\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n        if (globalThis.Stats?.enabled) {\n          globalThis.Stats.add(this.pageNumber, this._stats);\n        }\n      }\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n        throw new Error(\"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" + \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\");\n      }\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, isEditing, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          textContent.lang ??= value.lang;\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n        lang: null\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup(false);\n    if (resetStats && success) {\n      this._stats &&= new StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup(delayed = false) {\n    this.#abortDelayedCleanup();\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    if (delayed) {\n      this.#delayedCleanupTimeout = setTimeout(() => {\n        this.#delayedCleanupTimeout = null;\n        this.#tryCleanup(false);\n      }, DELAYED_CLEANUP_TIMEOUT);\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  #abortDelayedCleanup() {\n    if (this.#delayedCleanupTimeout) {\n      clearTimeout(this.#delayedCleanupTimeout);\n      this.#delayedCleanupTimeout = null;\n    }\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup(true);\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable,\n    modifiedIds\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map,\n      modifiedIds\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup(true);\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass LoopbackPort {\n  #listeners = new Set();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const listener of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener) {\n    this.#listeners.add(listener);\n  }\n  removeEventListener(name, listener) {\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    this.#listeners.clear();\n  }\n}\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fakeWorkerId: 0\n};\n{\n  if (isNodeJS) {\n    PDFWorkerUtil.isWorkerDisabled = true;\n    GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n  }\n  PDFWorkerUtil.isSameOrigin = function (baseUrl, otherUrl) {\n    let base;\n    try {\n      base = new URL(baseUrl);\n      if (!base.origin || base.origin === \"null\") {\n        return false;\n      }\n    } catch {\n      return false;\n    }\n    const other = new URL(otherUrl, base);\n    return base.origin === other.origin;\n  };\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    const wrapper = `await import(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper], {\n      type: \"text/javascript\"\n    }));\n  };\n}\nclass PDFWorker {\n  static #workerPorts;\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    this._readyCapability = Promise.withResolvers();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n    if (port) {\n      if (PDFWorker.#workerPorts?.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      (PDFWorker.#workerPorts ||= new WeakMap()).set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n  get promise() {\n    if (isNodeJS) {\n      return Promise.all([NodePackages.promise, this._readyCapability.promise]);\n    }\n    return this._readyCapability.promise;\n  }\n  #resolve() {\n    this._readyCapability.resolve();\n    this._messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  get port() {\n    return this._port;\n  }\n  get messageHandler() {\n    return this._messageHandler;\n  }\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {});\n    this.#resolve();\n  }\n  _initialize() {\n    if (PDFWorkerUtil.isWorkerDisabled || PDFWorker.#mainThreadWorkerMessageHandler) {\n      this._setupFakeWorker();\n      return;\n    }\n    let {\n      workerSrc\n    } = PDFWorker;\n    try {\n      if (!PDFWorkerUtil.isSameOrigin(window.location.href, workerSrc)) {\n        workerSrc = PDFWorkerUtil.createCDNWrapper(new URL(workerSrc, window.location).href);\n      }\n      const worker = new Worker(workerSrc, {\n        type: \"module\"\n      });\n      const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n      const terminateEarly = () => {\n        ac.abort();\n        messageHandler.destroy();\n        worker.terminate();\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        } else {\n          this._setupFakeWorker();\n        }\n      };\n      const ac = new AbortController();\n      worker.addEventListener(\"error\", () => {\n        if (!this._webWorker) {\n          terminateEarly();\n        }\n      }, {\n        signal: ac.signal\n      });\n      messageHandler.on(\"test\", data => {\n        ac.abort();\n        if (this.destroyed || !data) {\n          terminateEarly();\n          return;\n        }\n        this._messageHandler = messageHandler;\n        this._port = worker;\n        this._webWorker = worker;\n        this.#resolve();\n      });\n      messageHandler.on(\"ready\", data => {\n        ac.abort();\n        if (this.destroyed) {\n          terminateEarly();\n          return;\n        }\n        try {\n          sendTest();\n        } catch {\n          this._setupFakeWorker();\n        }\n      });\n      const sendTest = () => {\n        const testObj = new Uint8Array();\n        messageHandler.send(\"test\", testObj, [testObj.buffer]);\n      };\n      sendTest();\n      return;\n    } catch {\n      info(\"The worker has been disabled.\");\n    }\n    this._setupFakeWorker();\n  }\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this._port = port;\n      const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n      const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      this._messageHandler = new MessageHandler(id, id + \"_worker\", port);\n      this.#resolve();\n    }).catch(reason => {\n      this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker.#workerPorts?.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    const cachedPort = this.#workerPorts?.get(params.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.fromPort - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import( /*webpackIgnore: true*/this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #pageRefCache = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this.loadingParams = params.loadingParams;\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = AnnotationMode.ENABLE, printAnnotationStorage = null, isEditing = false, isOpList = false) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    const annotationStorage = renderingIntent & RenderingIntentFlag.PRINT && printAnnotationStorage instanceof PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isEditing) {\n      renderingIntent += RenderingIntentFlag.IS_EDITING;\n    }\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n    const {\n      ids: modifiedIds,\n      hash: modifiedIdsHash\n    } = annotationStorage.modifiedIds;\n    const cacheKeyBuf = [renderingIntent, annotationStorageSerializable.hash, modifiedIdsHash];\n    return {\n      renderingIntent,\n      cacheKey: cacheKeyBuf.join(\"_\"),\n      annotationStorageSerializable,\n      modifiedIds\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      TextLayer.cleanup();\n      this._networkStream?.cancelAllRequests(new AbortException(\"Worker was terminated.\"));\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = Promise.withResolvers();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress) {\n            loadingTask.onProgress?.(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            loadingTask.onProgress?.({\n              loaded: evt.loaded,\n              total: evt.total\n            });\n          };\n        }\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength\n        });\n      }, headersCapability.reject);\n      return headersCapability.promise;\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          assert(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          unreachable(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this.#passwordCapability = Promise.withResolvers();\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this.#passwordCapability.reject(ex);\n        }\n      } else {\n        this.#passwordCapability.reject(new PasswordException(exception.message, exception.code));\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null;\n      }\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n      switch (type) {\n        case \"Font\":\n          const {\n            disableFontFace,\n            fontExtraProperties,\n            pdfBug\n          } = this._params;\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const inspectFont = pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new FontFaceObject(exportedData, {\n            disableFontFace,\n            inspectFont\n          });\n          this.fontLoader.bind(font).catch(() => messageHandler.sendWithPromise(\"FontFallback\", {\n            id\n          })).finally(() => {\n            if (!fontExtraProperties && font.data) {\n              font.data = null;\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"CopyLocalImage\":\n          const {\n            imageRef\n          } = exportedData;\n          assert(imageRef, \"The imageRef must be defined.\");\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data?.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n      return null;\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n          if (imageData?.dataLen > MAX_IMAGE_SIZE_TO_CACHE) {\n            pageProxy._maybeCleanupAfterRender = true;\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.cMapReaderFactory) {\n        return Promise.reject(new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.cMapReaderFactory.fetch(data);\n    });\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.standardFontDataFactory) {\n        return Promise.reject(new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.standardFontDataFactory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      warn(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      if (pageInfo.refStr) {\n        this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(data => new OptionalContentConfig(data, renderingIntent));\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => ({\n      info: results[0],\n      metadata: results[1] ? new Metadata(results[1]) : null,\n      contentDispositionFilename: this._fullReader?.filename ?? null,\n      contentLength: this._fullReader?.contentLength ?? null\n    }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n    TextLayer.cleanup();\n  }\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n}\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n    this.onContinue = null;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  #rAF = null;\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      canvasContext,\n      viewport,\n      transform,\n      background\n    } = this.params;\n    this.gfx = new CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    if (this.#rAF) {\n      window.cancelAnimationFrame(this.#rAF);\n      this.#rAF = null;\n    }\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    this.callback(error || new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay));\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      this.#rAF = window.requestAnimationFrame(() => {\n        this.#rAF = null;\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = \"4.5.136\";\nconst build = \"3a21f03b0\";\n\n;// CONCATENATED MODULE: ./src/shared/scripting_utils.js\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/xfa_layer.js\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/annotation_layer.js\n\n\n\n\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst annotation_layer_DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1]\n  };\n}\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #updates = null;\n  #hasBorder = false;\n  #popupElement = null;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    titleObj,\n    contentsObj,\n    richText\n  }) {\n    return !!(titleObj?.str || contentsObj?.str || richText?.str);\n  }\n  get _isEditable() {\n    return this.data.isEditable;\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n    this.#updates ||= {\n      rect: this.data.rect.slice(0)\n    };\n    const {\n      rect\n    } = params;\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n    this.#popupElement?.popup.updateEdited(params);\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#popupElement?.popup.resetEdited();\n    this.#updates = null;\n  }\n  #setRectEdited(rect) {\n    const {\n      container: {\n        style\n      },\n      data: {\n        rect: currentRect,\n        rotation\n      },\n      parent: {\n        viewport: {\n          rawDims: {\n            pageWidth,\n            pageHeight,\n            pageX,\n            pageY\n          }\n        }\n      }\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (pageHeight - rect[3] + pageY) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement)) {\n      container.tabIndex = DEFAULT_TAB_INDEX;\n    }\n    const {\n      style\n    } = container;\n    style.zIndex = this.parent.zIndex++;\n    if (data.popupRef) {\n      container.setAttribute(\"aria-haspopup\", \"dialog\");\n    }\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n        case AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n        case AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        style.borderWidth = 0;\n      }\n    }\n    const rect = Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    const {\n      width,\n      height\n    } = getRectDims(this.data.rect);\n    let elementWidth, elementHeight;\n    if (angle % 180 === 0) {\n      elementWidth = 100 * width / pageWidth;\n      elementHeight = 100 * height / pageHeight;\n    } else {\n      elementWidth = 100 * height / pageWidth;\n      elementHeight = 100 * width / pageHeight;\n    }\n    container.style.width = `${elementWidth}%`;\n    container.style.height = `${elementHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return shadow(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect.map(x => Math.fround(x));\n    if (quadPoints.length === 8) {\n      const [trX, trY, blX, blY] = quadPoints.subarray(2, 6);\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (let i = 2, ii = quadPoints.length; i < ii; i += 8) {\n      const trX = quadPoints[i];\n      const trY = quadPoints[i + 1];\n      const blX = quadPoints[i + 2];\n      const blY = quadPoints[i + 3];\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup() {\n    const {\n      container,\n      data\n    } = this;\n    container.setAttribute(\"aria-haspopup\", \"dialog\");\n    const popup = this.#popupElement = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate: data.modificationDate,\n        contentsObj: data.contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation\n      },\n      parent: this.parent,\n      elements: [this]\n    });\n    this.parent.div.append(popup.render());\n  }\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId\n      });\n    });\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n  }\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    if (attachment.description) {\n      link.title = attachment.description;\n    }\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      warn(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          warn(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util_FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || annotation_layer_DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--scale-factor))`;\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (elementData.userValue) {\n            target.value = elementData.userValue;\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, {\n                value: elementData.userValue.toString()\n              });\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue\n              });\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const {\n            value\n          } = event.target;\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    if (value) {\n      for (const radio of this._getElementsByName(data.fieldName, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value\n      }));\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        const change = getValue(false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements\n    } = parameters;\n    super(parameters, {\n      isRenderable: AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n    this.popup = null;\n  }\n  render() {\n    this.container.classList.add(\"popupAnnotation\");\n    const popup = this.popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open\n    });\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #position = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #updates = null;\n  #wasVisible = false;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#dateObj = PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle);\n      element.addEventListener(\"mouseenter\", this.#boundShow);\n      element.addEventListener(\"mouseleave\", this.#boundHide);\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown);\n    }\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = Util.makeHexColor(...this.#color);\n      if (CSS.supports(\"background-color\", \"color-mix(in srgb, red 30%, white)\")) {\n        popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n      } else {\n        const BACKGROUND_ENLIGHT = 0.7;\n        popup.style.backgroundColor = Util.makeHexColor(...this.#color.map(c => Math.floor(BACKGROUND_ENLIGHT * (255 - c) + c)));\n      }\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    const title = document.createElement(\"h1\");\n    header.append(title);\n    ({\n      dir: title.dir,\n      str: title.textContent\n    } = this.#titleObj);\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.classList.add(\"popupDate\");\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        date: this.#dateObj.toLocaleDateString(),\n        time: this.#dateObj.toLocaleTimeString()\n      }));\n      header.append(modificationDate);\n    }\n    const html = this.#html;\n    if (html) {\n      XfaLayer.render({\n        xfaHtml: html,\n        intent: \"richText\",\n        div: popup\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(this.#contentsObj);\n      popup.append(contents);\n    }\n    this.#container.append(popup);\n  }\n  get #html() {\n    const richText = this.#richText;\n    const contentsObj = this.#contentsObj;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      return this.#richText.html || null;\n    }\n    return null;\n  }\n  get #fontSize() {\n    return this.#html?.attributes?.style?.fontSize || 0;\n  }\n  get #fontColor() {\n    return this.#html?.attributes?.style?.color || null;\n  }\n  #makePopupContent(text) {\n    const popupLines = [];\n    const popupContent = {\n      str: text,\n      html: {\n        name: \"div\",\n        attributes: {\n          dir: \"auto\"\n        },\n        children: [{\n          name: \"p\",\n          children: popupLines\n        }]\n      }\n    };\n    const lineAttributes = {\n      style: {\n        color: this.#fontColor,\n        fontSize: this.#fontSize ? `calc(${this.#fontSize}px * var(--scale-factor))` : \"\"\n      }\n    };\n    for (const line of text.split(\"\\n\")) {\n      popupLines.push({\n        name: \"span\",\n        value: line,\n        attributes: lineAttributes\n      });\n    }\n    return popupContent;\n  }\n  _formatContents({\n    str,\n    dir\n  }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  updateEdited({\n    rect,\n    popupContent\n  }) {\n    this.#updates ||= {\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    };\n    if (rect) {\n      this.#position = null;\n    }\n    if (popupContent) {\n      this.#richText = this.#makePopupContent(popupContent);\n      this.#contentsObj = null;\n    }\n    this.#popup?.remove();\n    this.#popup = null;\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    ({\n      contentsObj: this.#contentsObj,\n      richText: this.#richText\n    } = this.#updates);\n    this.#updates = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#position = null;\n  }\n  #setPosition() {\n    if (this.#position !== null) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    this.#position = [100 * (popupLeft - pageX) / pageWidth, 100 * (popupTop - pageY) / pageHeight];\n    const {\n      style\n    } = this.#container;\n    style.left = `${this.#position[0]}%`;\n    style.top = `${this.#position[1]}%`;\n  }\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#setPosition();\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (!this.#wasVisible) {\n      return;\n    }\n    if (!this.#popup) {\n      this.#show();\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        vertices,\n        borderStyle,\n        popupRef\n      }\n    } = this;\n    if (!vertices) {\n      return this.container;\n    }\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (let i = 0, ii = vertices.length; i < ii; i += 2) {\n      const x = vertices[i] - rect[0];\n      const y = rect[3] - vertices[i + 1];\n      points.push(`${x},${y}`);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = AnnotationEditorType.INK;\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const {\n      data: {\n        rect,\n        inkLists,\n        borderStyle,\n        popupRef\n      }\n    } = this;\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    const svg = this.svgFactory.create(width, height, true);\n    for (const inkList of inkLists) {\n      let points = [];\n      for (let i = 0, ii = inkList.length; i < ii; i += 2) {\n        const x = inkList[i] - rect[0];\n        const y = rect[3] - inkList[i + 1];\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", points);\n      polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n      if (!popupRef && this.hasPopupData) {\n        this._createPopup();\n      }\n      svg.append(polyline);\n    }\n    this.container.append(svg);\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      file\n    } = this.data;\n    this.filename = file.filename;\n    this.content = file.content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      ...file\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #editableAnnotations = new Map();\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n  }\n  hasEditableAnnotations() {\n    return this.#editableAnnotations.size > 0;\n  }\n  #appendElement(element, id) {\n    const contentElement = element.firstChild || element;\n    contentElement.id = `${AnnotationPrefix}${id}`;\n    this.div.append(element);\n    this.#accessibilityManager?.moveElementInDOM(this.div, element, contentElement, false);\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    setLayerDimensions(layer, this.viewport);\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new AnnotationStorage(),\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        const {\n          width,\n          height\n        } = getRectDims(data.rect);\n        if (width <= 0 || height <= 0) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      this.#appendElement(rendered, data.id);\n      if (element._isEditable) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    setLayerDimensions(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      canvas.className = \"annotationContent\";\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/freetext.js\n\n\n\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\nclass FreeTextEditor extends AnnotationEditor {\n  #boundEditorDivBlur = this.editorDivBlur.bind(this);\n  #boundEditorDivFocus = this.editorDivFocus.bind(this);\n  #boundEditorDivInput = this.editorDivInput.bind(this);\n  #boundEditorDivKeydown = this.editorDivKeydown.bind(this);\n  #boundEditorDivPaste = this.editorDivPaste.bind(this);\n  #color;\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #fontSize;\n  #initialData = null;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.#color = params.color || FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager, {\n      strings: [\"pdfjs-free-text-default-content\"]\n    });\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [AnnotationEditorParamsType.FREETEXT_COLOR, this.#color]];\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.#color = this.editorDiv.style.color = col;\n    };\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(false);\n    this.parent.updateToolbar(AnnotationEditorType.FREETEXT);\n    super.enableEditMode();\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    const signal = this._uiManager._signal;\n    this.editorDiv.addEventListener(\"keydown\", this.#boundEditorDivKeydown, {\n      signal\n    });\n    this.editorDiv.addEventListener(\"focus\", this.#boundEditorDivFocus, {\n      signal\n    });\n    this.editorDiv.addEventListener(\"blur\", this.#boundEditorDivBlur, {\n      signal\n    });\n    this.editorDiv.addEventListener(\"input\", this.#boundEditorDivInput, {\n      signal\n    });\n    this.editorDiv.addEventListener(\"paste\", this.#boundEditorDivPaste, {\n      signal\n    });\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(true);\n    super.disableEditMode();\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.editorDiv.removeEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.removeEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.removeEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.removeEventListener(\"input\", this.#boundEditorDivInput);\n    this.editorDiv.removeEventListener(\"paste\", this.#boundEditorDivPaste);\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded() {\n    if (this.width) {\n      return;\n    }\n    this.enableEditMode();\n    this.editorDiv.focus();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const buffer = [];\n    this.editorDiv.normalize();\n    for (const child of this.editorDiv.childNodes) {\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  dblclick(event) {\n    this.enterInEditMode();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text\");\n    this.enableEditing();\n    AnnotationEditor._l10nPromise.get(\"pdfjs-free-text-default-content\").then(msg => this.editorDiv?.setAttribute(\"default-content\", msg));\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    bindEvents(this, this.div, [\"dblclick\", \"keydown\"]);\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this.#initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  static #getNodeContent(node) {\n    return (node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText).replaceAll(EOL_PATTERN, \"\");\n  }\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const {\n      types\n    } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(clipboardData.getData(\"text\") || \"\").replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n    const {\n      startContainer,\n      startOffset\n    } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\"));\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(startContainer.nodeValue.slice(0, startOffset).replaceAll(EOL_PATTERN, \"\"));\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n    const newRange = new Range();\n    let beforeLength = bufferBefore.reduce((acc, line) => acc + line.length, 0);\n    for (const {\n      firstChild\n    } of this.editorDiv.childNodes) {\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  static deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false\n      };\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.#color = Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor.annotationElementId = data.id || null;\n    editor.#initialData = initialData;\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return {\n        pageIndex: this.pageIndex,\n        id: this.annotationElementId,\n        deleted: true\n      };\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    const rect = this.getRect(padding, padding);\n    const color = AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.#color);\n    const serialized = {\n      annotationType: AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent(),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      pageIndex\n    } = this.#initialData;\n    return this._hasBeenMoved || serialized.value !== value || serialized.fontSize !== fontSize || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (this.deleted) {\n      return content;\n    }\n    const {\n      style\n    } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      content.append(div);\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    annotation.updateEdited({\n      rect: this.getRect(padding, padding),\n      popupContent: this.#content\n    });\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/outliner.js\n\nclass Outliner {\n  #box;\n  #verticalEdges = [];\n  #intervals = [];\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n      minX = Math.min(minX, x1);\n      maxX = Math.max(maxX, x2);\n      minY = Math.min(minY, y1);\n      maxY = Math.max(maxY, y2);\n    }\n    const bboxWidth = maxX - minX + 2 * innerMargin;\n    const bboxHeight = maxY - minY + 2 * innerMargin;\n    const shiftedMinX = minX - innerMargin;\n    const shiftedMinY = minY - innerMargin;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2] = edge;\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n    this.#box = {\n      x: shiftedMinX,\n      y: shiftedMinY,\n      width: bboxWidth,\n      height: bboxHeight,\n      lastPoint\n    };\n  }\n  getOutlines() {\n    this.#verticalEdges.sort((a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]);\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n      outline = [x, y2];\n      outlines.push(outline);\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box);\n  }\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n    while (start <= end) {\n      const middle = start + end >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\nclass Outline {\n  toSVGPath() {\n    throw new Error(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n  get box() {\n    throw new Error(\"Abstract getter `box` must be implemented.\");\n  }\n  serialize(_bbox, _rotation) {\n    throw new Error(\"Abstract method `serialize` must be implemented.\");\n  }\n  get free() {\n    return this instanceof FreeHighlightOutline;\n  }\n}\nclass HighlightOutline extends Outline {\n  #box;\n  #outlines;\n  constructor(outlines, box) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n  get box() {\n    return this.#box;\n  }\n}\nclass FreeOutliner {\n  #box;\n  #bottom = [];\n  #innerMargin;\n  #isLTR;\n  #top = [];\n  #last = new Float64Array(18);\n  #lastX;\n  #lastY;\n  #min;\n  #min_dist;\n  #scaleFactor;\n  #thickness;\n  #points = [];\n  static #MIN_DIST = 8;\n  static #MIN_DIFF = 2;\n  static #MIN = FreeOutliner.#MIN_DIST + FreeOutliner.#MIN_DIFF;\n  constructor({\n    x,\n    y\n  }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n  get free() {\n    return true;\n  }\n  isEmpty() {\n    return isNaN(this.#last[8]);\n  }\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    return [(this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width, (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height, (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width, (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height];\n  }\n  add({\n    x,\n    y\n  }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n    this.#points?.push(x, y);\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(NaN, NaN, NaN, NaN, (x1 + thX - layerX) / layerWidth, (y1 + thY - layerY) / layerHeight);\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(NaN, NaN, NaN, NaN, (x1 - thX - layerX) / layerWidth, (y1 - thY - layerY) / layerHeight);\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n    const angle = Math.abs(Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX));\n    if (angle < Math.PI / 2) {\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(NaN, NaN, NaN, NaN, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(NaN, NaN, NaN, NaN, ((x0 + x1) / 2 - layerX) / layerWidth, ((y0 + y1) / 2 - layerY) / layerHeight);\n      return true;\n    }\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    return true;\n  }\n  toSVGPath() {\n    if (this.isEmpty()) {\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      return `M${(this.#last[2] - x) / width} ${(this.#last[3] - y) / height} L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(this.#last[16] - x) / width} ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${(this.#last[15] - y) / height} Z`;\n    }\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(`C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${top[i + 5]}`);\n      }\n    }\n    buffer.push(`L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(lastBottom[0] - x) / width} ${(lastBottom[1] - y) / height}`);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(`C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${bottom[i + 4]} ${bottom[i + 5]}`);\n      }\n    }\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n    return buffer.join(\" \");\n  }\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const lastTop = last.subarray(4, 6);\n    const lastBottom = last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const points = new Float64Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      const outline = new Float64Array(36);\n      outline.set([NaN, NaN, NaN, NaN, (last[2] - layerX) / layerWidth, (last[3] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[4] - layerX) / layerWidth, (last[5] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (last[16] - layerX) / layerWidth, (last[17] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[14] - layerX) / layerWidth, (last[15] - layerY) / layerHeight], 0);\n      return new FreeHighlightOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n    }\n    const outline = new Float64Array(this.#top.length + 24 + this.#bottom.length);\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n    outline.set([NaN, NaN, NaN, NaN, (lastTop[0] - layerX) / layerWidth, (lastTop[1] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (lastBottom[0] - layerX) / layerWidth, (lastBottom[1] - layerY) / layerHeight], N);\n    N += 24;\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], N);\n    return new FreeHighlightOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n}\nclass FreeHighlightOutline extends Outline {\n  #box;\n  #bbox = null;\n  #innerMargin;\n  #isLTR;\n  #points;\n  #scaleFactor;\n  #outline;\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.#computeMinMax(isLTR);\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(`C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${this.#outline[i + 3]} ${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = this.#rescale(this.#outline, blX, trY, width, -height);\n        points = this.#rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = this.#rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = this.#rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = this.#rescale(this.#outline, trX, blY, -width, height);\n        points = this.#rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = this.#rescaleAndSwap(this.#outline, trX, trY, -width, -height);\n        points = this.#rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return {\n      outline: Array.from(outline),\n      points: [Array.from(points)]\n    };\n  }\n  #rescale(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n  #rescaleAndSwap(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    let minX = lastX;\n    let minY = lastY;\n    let maxX = lastX;\n    let maxY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      if (isNaN(outline[i])) {\n        minX = Math.min(minX, outline[i + 4]);\n        minY = Math.min(minY, outline[i + 5]);\n        maxX = Math.max(maxX, outline[i + 4]);\n        maxY = Math.max(maxY, outline[i + 5]);\n        if (lastPointY < outline[i + 5]) {\n          lastPointX = outline[i + 4];\n          lastPointY = outline[i + 5];\n        } else if (lastPointY === outline[i + 5]) {\n          lastPointX = ltrCallback(lastPointX, outline[i + 4]);\n        }\n      } else {\n        const bbox = Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6));\n        minX = Math.min(minX, bbox[0]);\n        minY = Math.min(minY, bbox[1]);\n        maxX = Math.max(maxX, bbox[2]);\n        maxY = Math.max(maxY, bbox[3]);\n        if (lastPointY < bbox[3]) {\n          lastPointX = bbox[2];\n          lastPointY = bbox[3];\n        } else if (lastPointY === bbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bbox[2]);\n        }\n      }\n      lastX = outline[i + 4];\n      lastY = outline[i + 5];\n    }\n    const x = minX - this.#innerMargin,\n      y = minY - this.#innerMargin,\n      width = maxX - minX + 2 * this.#innerMargin,\n      height = maxY - minY + 2 * this.#innerMargin;\n    this.#bbox = {\n      x,\n      y,\n      width,\n      height,\n      lastPoint: [lastPointX, lastPointY]\n    };\n  }\n  get box() {\n    return this.#bbox;\n  }\n  getNewOutline(thickness, innerMargin) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = new FreeOutliner({\n      x: this.#points[0] * sx + tx,\n      y: this.#points[1] * sy + ty\n    }, this.#box, this.#scaleFactor, thickness, this.#isLTR, innerMargin ?? this.#innerMargin);\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty\n      });\n    }\n    return outliner.getOutlines();\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/color_picker.js\n\n\n\nclass ColorPicker {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundPointerDown = this.#pointerDown.bind(this);\n  #button = null;\n  #buttonSwatch = null;\n  #defaultColor;\n  #dropdown = null;\n  #dropdownWasFromKeyboard = false;\n  #isMainColorPicker = false;\n  #editor = null;\n  #eventBus;\n  #uiManager = null;\n  #type;\n  static get _keyboardManager() {\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"Escape\", \"mac+Escape\"], ColorPicker.prototype._hideDropdownFromKeyboard], [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard], [[\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"], ColorPicker.prototype._moveToNext], [[\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"], ColorPicker.prototype._moveToPrevious], [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning], [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd]]));\n  }\n  constructor({\n    editor = null,\n    uiManager = null\n  }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#type = AnnotationEditorParamsType.HIGHLIGHT_COLOR;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n      this.#type = AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor = editor?.color || this.#uiManager?.highlightColors.values().next().value || \"#FFFF98\";\n  }\n  renderButton() {\n    const button = this.#button = document.createElement(\"button\");\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.setAttribute(\"aria-haspopup\", true);\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"click\", this.#openDropdown.bind(this), {\n      signal\n    });\n    button.addEventListener(\"keydown\", this.#boundKeyDown, {\n      signal\n    });\n    const swatch = this.#buttonSwatch = document.createElement(\"span\");\n    swatch.className = \"swatch\";\n    swatch.setAttribute(\"aria-hidden\", true);\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n  renderMainDropdown() {\n    const dropdown = this.#dropdown = this.#getDropdownRoot();\n    dropdown.setAttribute(\"aria-orientation\", \"horizontal\");\n    dropdown.setAttribute(\"aria-labelledby\", \"highlightColorPickerLabel\");\n    return dropdown;\n  }\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    const signal = this.#uiManager._signal;\n    div.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.setAttribute(\"aria-multiselectable\", false);\n    div.setAttribute(\"aria-orientation\", \"vertical\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", `pdfjs-editor-colorpicker-${name}`);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.setAttribute(\"aria-selected\", color === this.#defaultColor);\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color), {\n        signal\n      });\n      div.append(button);\n    }\n    div.addEventListener(\"keydown\", this.#boundKeyDown, {\n      signal\n    });\n    return div;\n  }\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: this.#type,\n      value: color\n    });\n  }\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n  _moveToPrevious(event) {\n    if (event.target === this.#dropdown?.firstChild || event.target === this.#button) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstChild?.focus();\n  }\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastChild?.focus();\n  }\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n    window.addEventListener(\"pointerdown\", this.#boundPointerDown, {\n      signal: this.#uiManager._signal\n    });\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = this.#dropdown = this.#getDropdownRoot();\n    this.#button.append(root);\n  }\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    window.removeEventListener(\"pointerdown\", this.#boundPointerDown);\n  }\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard\n    });\n  }\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.setAttribute(\"aria-selected\", i.next().value === color);\n    }\n  }\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/highlight.js\n\n\n\n\n\n\nclass HighlightEditor extends AnnotationEditor {\n  #anchorNode = null;\n  #anchorOffset = 0;\n  #boxes;\n  #clipPathId = null;\n  #colorPicker = null;\n  #focusOutlines = null;\n  #focusNode = null;\n  #focusOffset = 0;\n  #highlightDiv = null;\n  #highlightOutlines = null;\n  #id = null;\n  #isFreeHighlight = false;\n  #boundKeydown = this.#keydown.bind(this);\n  #lastPoint = null;\n  #opacity;\n  #outlineId = null;\n  #text = \"\";\n  #thickness;\n  #methodOfCreation = \"\";\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 12;\n  static _l10nPromise;\n  static _type = \"highlight\";\n  static _editorType = AnnotationEditorType.HIGHLIGHT;\n  static _freeHighlightId = -1;\n  static _freeHighlight = null;\n  static _freeHighlightClipId = \"\";\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return shadow(this, \"_keyboardManager\", new KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, {\n      args: [0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, {\n      args: [1]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, {\n      args: [2]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, {\n      args: [3]\n    }]]));\n  }\n  constructor(params) {\n    super({\n      ...params,\n      name: \"highlightEditor\"\n    });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.#opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation\n    };\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color)\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    return {\n      numberOfColors: data.get(\"color\").size\n    };\n  }\n  #createOutlines() {\n    const outliner = new Outliner(this.#boxes, 0.001);\n    this.#highlightOutlines = outliner.getOutlines();\n    ({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    } = this.#highlightOutlines.box);\n    const outlinerForOutline = new Outliner(this.#boxes, 0.0025, 0.001, this._uiManager.direction === \"ltr\");\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - this.x) / this.width, (lastPoint[1] - this.y) / this.height];\n  }\n  #createFreeOutlines({\n    highlightOutlines,\n    highlightId,\n    clipPathId\n  }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(this.#thickness / 2 + extraThickness, 0.0025);\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      this.parent.drawLayer.finalizeLine(highlightId, highlightOutlines);\n      this.#outlineId = this.parent.drawLayer.highlightOutline(this.#focusOutlines);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateLine(this.#id, highlightOutlines);\n      this.parent.drawLayer.updateBox(this.#id, HighlightEditor.#rotateBbox(this.#highlightOutlines.box, (angle - this.rotation + 360) % 360));\n      this.parent.drawLayer.updateLine(this.#outlineId, this.#focusOutlines);\n      this.parent.drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n    }\n    const {\n      x,\n      y,\n      width,\n      height\n    } = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = y;\n          this.y = 1 - x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = 1 - y;\n          this.y = x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n    }\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||= uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n  translateInPage(x, y) {}\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR, HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, HighlightEditor._defaultThickness]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.HIGHLIGHT_COLOR, this.color || HighlightEditor._defaultColor], [AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, this.#thickness || HighlightEditor._defaultThickness], [AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight]];\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.parent?.drawLayer.changeColor(this.#id, col);\n      this.#colorPicker?.updateColor(col);\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"color_changed\",\n      color: this._uiManager.highlightColorNames.get(color)\n    }, true);\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"thickness_changed\",\n      thickness\n    }, true);\n  }\n  async addEditToolbar() {\n    const toolbar = await super.addEditToolbar();\n    if (!toolbar) {\n      return null;\n    }\n    if (this._uiManager.highlightColors) {\n      this.#colorPicker = new ColorPicker({\n        editor: this\n      });\n      toolbar.addColorPicker(this.#colorPicker);\n    }\n    return toolbar;\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n  onceAdded() {\n    this.parent.addUndoableEditor(this);\n    this.div.focus();\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\"\n    });\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2)\n    });\n    this.fixAndSetPosition();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n  }\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({\n      id: this.#id,\n      clipPathId: this.#clipPathId\n    } = parent.drawLayer.highlight(this.#highlightOutlines, this.color, this.#opacity));\n    this.#outlineId = parent.drawLayer.highlightOutline(this.#focusOutlines);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n  static #rotateBbox({\n    x,\n    y,\n    width,\n    height\n  }, angle) {\n    switch (angle) {\n      case 90:\n        return {\n          x: 1 - y - height,\n          y: x,\n          width: height,\n          height: width\n        };\n      case 180:\n        return {\n          x: 1 - x - width,\n          y: 1 - y - height,\n          width,\n          height\n        };\n      case 270:\n        return {\n          x: y,\n          y: 1 - x - width,\n          width: height,\n          height: width\n        };\n    }\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  }\n  rotate(angle) {\n    const {\n      drawLayer\n    } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      box = HighlightEditor.#rotateBbox(this, angle);\n    }\n    drawLayer.rotate(this.#id, angle);\n    drawLayer.rotate(this.#outlineId, angle);\n    drawLayer.updateBox(this.#id, box);\n    drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#boundKeydown, {\n        signal: this._uiManager._signal\n      });\n    }\n    const highlightDiv = this.#highlightDiv = document.createElement(\"div\");\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n    bindEvents(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n    return div;\n  }\n  pointerover() {\n    this.parent.drawLayer.addClass(this.#outlineId, \"hovered\");\n  }\n  pointerleave() {\n    this.parent.drawLayer.removeClass(this.#outlineId, \"hovered\");\n  }\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0:\n      case 2:\n        this.#setCaret(true);\n        break;\n      case 1:\n      case 3:\n        this.#setCaret(false);\n        break;\n    }\n  }\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"hovered\");\n    this.parent?.drawLayer.addClass(this.#outlineId, \"selected\");\n  }\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"selected\");\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(false);\n    }\n  }\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.show(this.#id, visible);\n      this.parent.drawLayer.show(this.#outlineId, visible);\n    }\n  }\n  #getRotation() {\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const boxes = this.#boxes;\n    const quadPoints = new Float32Array(boxes.length * 8);\n    let i = 0;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const sx = x * pageWidth + pageX;\n      const sy = (1 - y - height) * pageHeight + pageY;\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy + height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n  static startHighlighting(parent, isLTR, {\n    target: textLayer,\n    x,\n    y\n  }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    const pointerMove = e => {\n      this.#highlightMove(parent, e);\n    };\n    const signal = parent._signal;\n    const pointerDownOptions = {\n      capture: true,\n      passive: false,\n      signal\n    };\n    const pointerDown = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n    const pointerUpCallback = e => {\n      textLayer.removeEventListener(\"pointermove\", pointerMove);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"pointerdown\", pointerDown, pointerDownOptions);\n      window.removeEventListener(\"contextmenu\", noContextMenu);\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerup\", pointerUpCallback, {\n      signal\n    });\n    window.addEventListener(\"pointerdown\", pointerDown, pointerDownOptions);\n    window.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    textLayer.addEventListener(\"pointermove\", pointerMove, {\n      signal\n    });\n    this._freeHighlight = new FreeOutliner({\n      x,\n      y\n    }, [layerX, layerY, parentWidth, parentHeight], parent.scale, this._defaultThickness / 2, isLTR, 0.001);\n    ({\n      id: this._freeHighlightId,\n      clipPathId: this._freeHighlightClipId\n    } = parent.drawLayer.highlight(this._freeHighlight, this._defaultColor, this._defaultOpacity, true));\n  }\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      parent.drawLayer.updatePath(this._freeHighlightId, this._freeHighlight);\n    }\n  }\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\"\n      });\n    } else {\n      parent.drawLayer.removeFreeHighlight(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect: [blX, blY, trX, trY],\n      color,\n      quadPoints\n    } = data;\n    editor.color = Util.makeHexColor(...color);\n    editor.#opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    editor.width = (trX - blX) / pageWidth;\n    editor.height = (trY - blY) / pageHeight;\n    const boxes = editor.#boxes = [];\n    for (let i = 0; i < quadPoints.length; i += 8) {\n      boxes.push({\n        x: (quadPoints[4] - trX) / pageWidth,\n        y: (trY - (1 - quadPoints[i + 5])) / pageHeight,\n        width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n        height: (quadPoints[i + 5] - quadPoints[i + 1]) / pageHeight\n      });\n    }\n    editor.#createOutlines();\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = AnnotationEditor._colorManager.convert(this.color);\n    return {\n      annotationType: AnnotationEditorType.HIGHLIGHT,\n      color,\n      opacity: this.#opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.#getRotation(),\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/ink.js\n\n\n\n\n\nclass InkEditor extends AnnotationEditor {\n  #baseHeight = 0;\n  #baseWidth = 0;\n  #boundCanvasPointermove = this.canvasPointermove.bind(this);\n  #boundCanvasPointerleave = this.canvasPointerleave.bind(this);\n  #boundCanvasPointerup = this.canvasPointerup.bind(this);\n  #boundCanvasPointerdown = this.canvasPointerdown.bind(this);\n  #canvasContextMenuTimeoutId = null;\n  #currentPath2D = new Path2D();\n  #disableEditing = false;\n  #hasSomethingToDraw = false;\n  #isCanvasInitialized = false;\n  #observer = null;\n  #realWidth = 0;\n  #realHeight = 0;\n  #requestFrameCallback = null;\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 1;\n  static _type = \"ink\";\n  static _editorType = AnnotationEditorType.INK;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this.color = params.color || null;\n    this.thickness = params.thickness || null;\n    this.opacity = params.opacity || null;\n    this.paths = [];\n    this.bezierPath2D = [];\n    this.allRawPaths = [];\n    this.currentPath = [];\n    this.scaleFactor = 1;\n    this.translationX = this.translationY = 0;\n    this.x = 0;\n    this.y = 0;\n    this._willKeepAspectRatio = true;\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.INK_THICKNESS:\n        InkEditor._defaultThickness = value;\n        break;\n      case AnnotationEditorParamsType.INK_COLOR:\n        InkEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.INK_OPACITY:\n        InkEditor._defaultOpacity = value / 100;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.INK_THICKNESS:\n        this.#updateThickness(value);\n        break;\n      case AnnotationEditorParamsType.INK_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.INK_OPACITY:\n        this.#updateOpacity(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[AnnotationEditorParamsType.INK_THICKNESS, InkEditor._defaultThickness], [AnnotationEditorParamsType.INK_COLOR, InkEditor._defaultColor || AnnotationEditor._defaultLineColor], [AnnotationEditorParamsType.INK_OPACITY, Math.round(InkEditor._defaultOpacity * 100)]];\n  }\n  get propertiesToUpdate() {\n    return [[AnnotationEditorParamsType.INK_THICKNESS, this.thickness || InkEditor._defaultThickness], [AnnotationEditorParamsType.INK_COLOR, this.color || InkEditor._defaultColor || AnnotationEditor._defaultLineColor], [AnnotationEditorParamsType.INK_OPACITY, Math.round(100 * (this.opacity ?? InkEditor._defaultOpacity))]];\n  }\n  #updateThickness(thickness) {\n    const setThickness = th => {\n      this.thickness = th;\n      this.#fitToContent();\n    };\n    const savedThickness = this.thickness;\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.#redraw();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateOpacity(opacity) {\n    const setOpacity = op => {\n      this.opacity = op;\n      this.#redraw();\n    };\n    opacity /= 100;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setOpacity.bind(this, opacity),\n      undo: setOpacity.bind(this, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_OPACITY,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.canvas) {\n      this.#createCanvas();\n      this.#createObserver();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n      this.#setCanvasDims();\n    }\n    this.#fitToContent();\n  }\n  remove() {\n    if (this.canvas === null) {\n      return;\n    }\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.remove();\n    this.canvas = null;\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n      this.#canvasContextMenuTimeoutId = null;\n    }\n    this.#observer?.disconnect();\n    this.#observer = null;\n    super.remove();\n  }\n  setParent(parent) {\n    if (!this.parent && parent) {\n      this._uiManager.removeShouldRescale(this);\n    } else if (this.parent && parent === null) {\n      this._uiManager.addShouldRescale(this);\n    }\n    super.setParent(parent);\n  }\n  onScaleChanging() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const width = this.width * parentWidth;\n    const height = this.height * parentHeight;\n    this.setDimensions(width, height);\n  }\n  enableEditMode() {\n    if (this.#disableEditing || this.canvas === null) {\n      return;\n    }\n    super.enableEditMode();\n    this._isDraggable = false;\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown, {\n      signal: this._uiManager._signal\n    });\n  }\n  disableEditMode() {\n    if (!this.isInEditMode() || this.canvas === null) {\n      return;\n    }\n    super.disableEditMode();\n    this._isDraggable = !this.isEmpty();\n    this.div.classList.remove(\"editing\");\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  onceAdded() {\n    this._isDraggable = !this.isEmpty();\n  }\n  isEmpty() {\n    return this.paths.length === 0 || this.paths.length === 1 && this.paths[0].length === 0;\n  }\n  #getInitialBBox() {\n    const {\n      parentRotation,\n      parentDimensions: [width, height]\n    } = this;\n    switch (parentRotation) {\n      case 90:\n        return [0, height, height, width];\n      case 180:\n        return [width, height, width, height];\n      case 270:\n        return [width, 0, height, width];\n      default:\n        return [0, 0, width, height];\n    }\n  }\n  #setStroke() {\n    const {\n      ctx,\n      color,\n      opacity,\n      thickness,\n      parentScale,\n      scaleFactor\n    } = this;\n    ctx.lineWidth = thickness * parentScale / scaleFactor;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.miterLimit = 10;\n    ctx.strokeStyle = `${color}${opacityToHex(opacity)}`;\n  }\n  #startDrawing(x, y) {\n    const signal = this._uiManager._signal;\n    this.canvas.addEventListener(\"contextmenu\", noContextMenu, {\n      signal\n    });\n    this.canvas.addEventListener(\"pointerleave\", this.#boundCanvasPointerleave, {\n      signal\n    });\n    this.canvas.addEventListener(\"pointermove\", this.#boundCanvasPointermove, {\n      signal\n    });\n    this.canvas.addEventListener(\"pointerup\", this.#boundCanvasPointerup, {\n      signal\n    });\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    this.isEditing = true;\n    if (!this.#isCanvasInitialized) {\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.thickness ||= InkEditor._defaultThickness;\n      this.color ||= InkEditor._defaultColor || AnnotationEditor._defaultLineColor;\n      this.opacity ??= InkEditor._defaultOpacity;\n    }\n    this.currentPath.push([x, y]);\n    this.#hasSomethingToDraw = false;\n    this.#setStroke();\n    this.#requestFrameCallback = () => {\n      this.#drawPoints();\n      if (this.#requestFrameCallback) {\n        window.requestAnimationFrame(this.#requestFrameCallback);\n      }\n    };\n    window.requestAnimationFrame(this.#requestFrameCallback);\n  }\n  #draw(x, y) {\n    const [lastX, lastY] = this.currentPath.at(-1);\n    if (this.currentPath.length > 1 && x === lastX && y === lastY) {\n      return;\n    }\n    const currentPath = this.currentPath;\n    let path2D = this.#currentPath2D;\n    currentPath.push([x, y]);\n    this.#hasSomethingToDraw = true;\n    if (currentPath.length <= 2) {\n      path2D.moveTo(...currentPath[0]);\n      path2D.lineTo(x, y);\n      return;\n    }\n    if (currentPath.length === 3) {\n      this.#currentPath2D = path2D = new Path2D();\n      path2D.moveTo(...currentPath[0]);\n    }\n    this.#makeBezierCurve(path2D, ...currentPath.at(-3), ...currentPath.at(-2), x, y);\n  }\n  #endPath() {\n    if (this.currentPath.length === 0) {\n      return;\n    }\n    const lastPoint = this.currentPath.at(-1);\n    this.#currentPath2D.lineTo(...lastPoint);\n  }\n  #stopDrawing(x, y) {\n    this.#requestFrameCallback = null;\n    x = Math.min(Math.max(x, 0), this.canvas.width);\n    y = Math.min(Math.max(y, 0), this.canvas.height);\n    this.#draw(x, y);\n    this.#endPath();\n    let bezier;\n    if (this.currentPath.length !== 1) {\n      bezier = this.#generateBezierPoints();\n    } else {\n      const xy = [x, y];\n      bezier = [[xy, xy.slice(), xy.slice(), xy]];\n    }\n    const path2D = this.#currentPath2D;\n    const currentPath = this.currentPath;\n    this.currentPath = [];\n    this.#currentPath2D = new Path2D();\n    const cmd = () => {\n      this.allRawPaths.push(currentPath);\n      this.paths.push(bezier);\n      this.bezierPath2D.push(path2D);\n      this._uiManager.rebuild(this);\n    };\n    const undo = () => {\n      this.allRawPaths.pop();\n      this.paths.pop();\n      this.bezierPath2D.pop();\n      if (this.paths.length === 0) {\n        this.remove();\n      } else {\n        if (!this.canvas) {\n          this.#createCanvas();\n          this.#createObserver();\n        }\n        this.#fitToContent();\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  #drawPoints() {\n    if (!this.#hasSomethingToDraw) {\n      return;\n    }\n    this.#hasSomethingToDraw = false;\n    const thickness = Math.ceil(this.thickness * this.parentScale);\n    const lastPoints = this.currentPath.slice(-3);\n    const x = lastPoints.map(xy => xy[0]);\n    const y = lastPoints.map(xy => xy[1]);\n    const xMin = Math.min(...x) - thickness;\n    const xMax = Math.max(...x) + thickness;\n    const yMin = Math.min(...y) - thickness;\n    const yMax = Math.max(...y) + thickness;\n    const {\n      ctx\n    } = this;\n    ctx.save();\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n    ctx.stroke(this.#currentPath2D);\n    ctx.restore();\n  }\n  #makeBezierCurve(path2D, x0, y0, x1, y1, x2, y2) {\n    const prevX = (x0 + x1) / 2;\n    const prevY = (y0 + y1) / 2;\n    const x3 = (x1 + x2) / 2;\n    const y3 = (y1 + y2) / 2;\n    path2D.bezierCurveTo(prevX + 2 * (x1 - prevX) / 3, prevY + 2 * (y1 - prevY) / 3, x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3, x3, y3);\n  }\n  #generateBezierPoints() {\n    const path = this.currentPath;\n    if (path.length <= 2) {\n      return [[path[0], path[0], path.at(-1), path.at(-1)]];\n    }\n    const bezierPoints = [];\n    let i;\n    let [x0, y0] = path[0];\n    for (i = 1; i < path.length - 2; i++) {\n      const [x1, y1] = path[i];\n      const [x2, y2] = path[i + 1];\n      const x3 = (x1 + x2) / 2;\n      const y3 = (y1 + y2) / 2;\n      const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n      const control2 = [x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3];\n      bezierPoints.push([[x0, y0], control1, control2, [x3, y3]]);\n      [x0, y0] = [x3, y3];\n    }\n    const [x1, y1] = path[i];\n    const [x2, y2] = path[i + 1];\n    const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n    const control2 = [x2 + 2 * (x1 - x2) / 3, y2 + 2 * (y1 - y2) / 3];\n    bezierPoints.push([[x0, y0], control1, control2, [x2, y2]]);\n    return bezierPoints;\n  }\n  #redraw() {\n    if (this.isEmpty()) {\n      this.#updateTransform();\n      return;\n    }\n    this.#setStroke();\n    const {\n      canvas,\n      ctx\n    } = this;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.#updateTransform();\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n  }\n  commit() {\n    if (this.#disableEditing) {\n      return;\n    }\n    super.commit();\n    this.isEditing = false;\n    this.disableEditMode();\n    this.setInForeground();\n    this.#disableEditing = true;\n    this.div.classList.add(\"disabled\");\n    this.#fitToContent(true);\n    this.select();\n    this.parent.addInkEditorIfNeeded(true);\n    this.moveInDOM();\n    this.div.focus({\n      preventScroll: true\n    });\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    this.enableEditMode();\n  }\n  canvasPointerdown(event) {\n    if (event.button !== 0 || !this.isInEditMode() || this.#disableEditing) {\n      return;\n    }\n    this.setInForeground();\n    event.preventDefault();\n    if (!this.div.contains(document.activeElement)) {\n      this.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#startDrawing(event.offsetX, event.offsetY);\n  }\n  canvasPointermove(event) {\n    event.preventDefault();\n    this.#draw(event.offsetX, event.offsetY);\n  }\n  canvasPointerup(event) {\n    event.preventDefault();\n    this.#endDrawing(event);\n  }\n  canvasPointerleave(event) {\n    this.#endDrawing(event);\n  }\n  #endDrawing(event) {\n    this.canvas.removeEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.removeEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.removeEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown, {\n      signal: this._uiManager._signal\n    });\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n    }\n    this.#canvasContextMenuTimeoutId = setTimeout(() => {\n      this.#canvasContextMenuTimeoutId = null;\n      this.canvas.removeEventListener(\"contextmenu\", noContextMenu);\n    }, 10);\n    this.#stopDrawing(event.offsetX, event.offsetY);\n    this.addToAnnotationStorage();\n    this.setInBackground();\n  }\n  #createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.className = \"inkEditorCanvas\";\n    this.canvas.setAttribute(\"data-l10n-id\", \"pdfjs-ink-canvas\");\n    this.div.append(this.canvas);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n    this._uiManager._signal.addEventListener(\"abort\", () => {\n      this.#observer?.disconnect();\n      this.#observer = null;\n    }, {\n      once: true\n    });\n  }\n  get isResizable() {\n    return !this.isEmpty() && this.#disableEditing;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.setAttribute(\"data-l10n-id\", \"pdfjs-ink\");\n    const [x, y, w, h] = this.#getInitialBBox();\n    this.setAt(x, y, 0, 0);\n    this.setDims(w, h);\n    this.#createCanvas();\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAspectRatio(this.width * parentWidth, this.height * parentHeight);\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n      this.#redraw();\n      this.div.classList.add(\"disabled\");\n    } else {\n      this.div.classList.add(\"editing\");\n      this.enableEditMode();\n    }\n    this.#createObserver();\n    return this.div;\n  }\n  #setCanvasDims() {\n    if (!this.#isCanvasInitialized) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.canvas.width = Math.ceil(this.width * parentWidth);\n    this.canvas.height = Math.ceil(this.height * parentHeight);\n    this.#updateTransform();\n  }\n  setDimensions(width, height) {\n    const roundedWidth = Math.round(width);\n    const roundedHeight = Math.round(height);\n    if (this.#realWidth === roundedWidth && this.#realHeight === roundedHeight) {\n      return;\n    }\n    this.#realWidth = roundedWidth;\n    this.#realHeight = roundedHeight;\n    this.canvas.style.visibility = \"hidden\";\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.fixAndSetPosition();\n    if (this.#disableEditing) {\n      this.#setScaleFactor(width, height);\n    }\n    this.#setCanvasDims();\n    this.#redraw();\n    this.canvas.style.visibility = \"visible\";\n    this.fixDims();\n  }\n  #setScaleFactor(width, height) {\n    const padding = this.#getPadding();\n    const scaleFactorW = (width - padding) / this.#baseWidth;\n    const scaleFactorH = (height - padding) / this.#baseHeight;\n    this.scaleFactor = Math.min(scaleFactorW, scaleFactorH);\n  }\n  #updateTransform() {\n    const padding = this.#getPadding() / 2;\n    this.ctx.setTransform(this.scaleFactor, 0, 0, this.scaleFactor, this.translationX * this.scaleFactor + padding, this.translationY * this.scaleFactor + padding);\n  }\n  static #buildPath2D(bezier) {\n    const path2D = new Path2D();\n    for (let i = 0, ii = bezier.length; i < ii; i++) {\n      const [first, control1, control2, second] = bezier[i];\n      if (i === 0) {\n        path2D.moveTo(...first);\n      }\n      path2D.bezierCurveTo(control1[0], control1[1], control2[0], control2[1], second[0], second[1]);\n    }\n    return path2D;\n  }\n  static #toPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] += blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] + blX;\n          points[i + 1] = x + blY;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] += blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trX - points[i + 1];\n          points[i + 1] = trY - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  static #fromPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] -= blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] - blY;\n          points[i + 1] = x - blX;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] -= blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trY - points[i + 1];\n          points[i + 1] = trX - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  #serializePaths(s, tx, ty, rect) {\n    const paths = [];\n    const padding = this.thickness / 2;\n    const shiftX = s * tx + padding;\n    const shiftY = s * ty + padding;\n    for (const bezier of this.paths) {\n      const buffer = [];\n      const points = [];\n      for (let j = 0, jj = bezier.length; j < jj; j++) {\n        const [first, control1, control2, second] = bezier[j];\n        if (first[0] === second[0] && first[1] === second[1] && jj === 1) {\n          const p0 = s * first[0] + shiftX;\n          const p1 = s * first[1] + shiftY;\n          buffer.push(p0, p1);\n          points.push(p0, p1);\n          break;\n        }\n        const p10 = s * first[0] + shiftX;\n        const p11 = s * first[1] + shiftY;\n        const p20 = s * control1[0] + shiftX;\n        const p21 = s * control1[1] + shiftY;\n        const p30 = s * control2[0] + shiftX;\n        const p31 = s * control2[1] + shiftY;\n        const p40 = s * second[0] + shiftX;\n        const p41 = s * second[1] + shiftY;\n        if (j === 0) {\n          buffer.push(p10, p11);\n          points.push(p10, p11);\n        }\n        buffer.push(p20, p21, p30, p31, p40, p41);\n        points.push(p20, p21);\n        if (j === jj - 1) {\n          points.push(p40, p41);\n        }\n      }\n      paths.push({\n        bezier: InkEditor.#toPDFCoordinates(buffer, rect, this.rotation),\n        points: InkEditor.#toPDFCoordinates(points, rect, this.rotation)\n      });\n    }\n    return paths;\n  }\n  #getBbox() {\n    let xMin = Infinity;\n    let xMax = -Infinity;\n    let yMin = Infinity;\n    let yMax = -Infinity;\n    for (const path of this.paths) {\n      for (const [first, control1, control2, second] of path) {\n        const bbox = Util.bezierBoundingBox(...first, ...control1, ...control2, ...second);\n        xMin = Math.min(xMin, bbox[0]);\n        yMin = Math.min(yMin, bbox[1]);\n        xMax = Math.max(xMax, bbox[2]);\n        yMax = Math.max(yMax, bbox[3]);\n      }\n    }\n    return [xMin, yMin, xMax, yMax];\n  }\n  #getPadding() {\n    return this.#disableEditing ? Math.ceil(this.thickness * this.parentScale) : 0;\n  }\n  #fitToContent(firstTime = false) {\n    if (this.isEmpty()) {\n      return;\n    }\n    if (!this.#disableEditing) {\n      this.#redraw();\n      return;\n    }\n    const bbox = this.#getBbox();\n    const padding = this.#getPadding();\n    this.#baseWidth = Math.max(AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    this.#baseHeight = Math.max(AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    const width = Math.ceil(padding + this.#baseWidth * this.scaleFactor);\n    const height = Math.ceil(padding + this.#baseHeight * this.scaleFactor);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setAspectRatio(width, height);\n    const prevTranslationX = this.translationX;\n    const prevTranslationY = this.translationY;\n    this.translationX = -bbox[0];\n    this.translationY = -bbox[1];\n    this.#setCanvasDims();\n    this.#redraw();\n    this.#realWidth = width;\n    this.#realHeight = height;\n    this.setDims(width, height);\n    const unscaledPadding = firstTime ? padding / this.scaleFactor / 2 : 0;\n    this.translate(prevTranslationX - this.translationX - unscaledPadding, prevTranslationY - this.translationY - unscaledPadding);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof InkAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.thickness = data.thickness;\n    editor.color = Util.makeHexColor(...data.color);\n    editor.opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const width = editor.width * pageWidth;\n    const height = editor.height * pageHeight;\n    const scaleFactor = editor.parentScale;\n    const padding = data.thickness / 2;\n    editor.#disableEditing = true;\n    editor.#realWidth = Math.round(width);\n    editor.#realHeight = Math.round(height);\n    const {\n      paths,\n      rect,\n      rotation\n    } = data;\n    for (let {\n      bezier\n    } of paths) {\n      bezier = InkEditor.#fromPDFCoordinates(bezier, rect, rotation);\n      const path = [];\n      editor.paths.push(path);\n      let p0 = scaleFactor * (bezier[0] - padding);\n      let p1 = scaleFactor * (bezier[1] - padding);\n      for (let i = 2, ii = bezier.length; i < ii; i += 6) {\n        const p10 = scaleFactor * (bezier[i] - padding);\n        const p11 = scaleFactor * (bezier[i + 1] - padding);\n        const p20 = scaleFactor * (bezier[i + 2] - padding);\n        const p21 = scaleFactor * (bezier[i + 3] - padding);\n        const p30 = scaleFactor * (bezier[i + 4] - padding);\n        const p31 = scaleFactor * (bezier[i + 5] - padding);\n        path.push([[p0, p1], [p10, p11], [p20, p21], [p30, p31]]);\n        p0 = p30;\n        p1 = p31;\n      }\n      const path2D = this.#buildPath2D(path);\n      editor.bezierPath2D.push(path2D);\n    }\n    const bbox = editor.#getBbox();\n    editor.#baseWidth = Math.max(AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    editor.#baseHeight = Math.max(AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    editor.#setScaleFactor(width, height);\n    return editor;\n  }\n  serialize() {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);\n    return {\n      annotationType: AnnotationEditorType.INK,\n      color,\n      thickness: this.thickness,\n      opacity: this.opacity,\n      paths: this.#serializePaths(this.scaleFactor / this.parentScale, this.translationX, this.translationY, rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/stamp.js\n\n\n\n\nclass StampEditor extends AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #hasMLBeenQueried = false;\n  #observer = null;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n  }\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static get supportedTypes() {\n    const types = [\"apng\", \"avif\", \"bmp\", \"gif\", \"jpeg\", \"png\", \"svg+xml\", \"webp\", \"x-icon\"];\n    return shadow(this, \"supportedTypes\", types.map(type => `image/${type}`));\n  }\n  static get supportedTypesStr() {\n    return shadow(this, \"supportedTypesStr\", this.supportedTypes.join(\",\"));\n  }\n  static isHandlingMimeForPasting(mime) {\n    return this.supportedTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor(AnnotationEditorType.STAMP, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (this.#canvas) {\n      this.div.focus();\n    }\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = StampEditor.supportedTypesStr;\n    const signal = this._uiManager._signal;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      }, {\n        signal\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      }, {\n        signal\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      this.#observer?.disconnect();\n      this.#observer = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded() {\n    this._isDraggable = true;\n    this.div.focus();\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile || this.#bitmapId);\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    this.addAltTextButton();\n    if (this.#bitmap) {\n      this.#createCanvas();\n    } else {\n      this.#getBitmap();\n    }\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    }\n    return this.div;\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(width * parentWidth / pageWidth, height * parentHeight / pageHeight);\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    div.append(canvas);\n    div.hidden = false;\n    this.#drawBitmap(width, height);\n    this.#createObserver();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._reportTelemetry({\n      action: \"inserted_image\"\n    });\n    if (this.#bitmapFileName) {\n      canvas.setAttribute(\"aria-label\", this.#bitmapFileName);\n    }\n  }\n  #setDimensions(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setDims(width, height);\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap(width, height);\n    }, TIME_TO_WAIT);\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  async #mlGuessAltText(bitmap, width, height) {\n    if (this.#hasMLBeenQueried) {\n      return;\n    }\n    this.#hasMLBeenQueried = true;\n    const isMLEnabled = await this._uiManager.isMLEnabledFor(\"altText\");\n    if (!isMLEnabled || this.hasAltText()) {\n      return;\n    }\n    const offscreen = new OffscreenCanvas(width, height);\n    const ctx = offscreen.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n    const response = await this._uiManager.mlGuess({\n      service: \"moz-image-to-text\",\n      request: {\n        data: ctx.getImageData(0, 0, width, height).data,\n        width,\n        height,\n        channels: 4\n      }\n    });\n    const altText = response?.output || \"\";\n    if (this.parent && altText && !this.hasAltText()) {\n      this.altTextData = {\n        altText,\n        decorative: false\n      };\n    }\n  }\n  #drawBitmap(width, height) {\n    width = Math.ceil(width);\n    height = Math.ceil(height);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === width && canvas.height === height) {\n      return;\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(width, height);\n    this.#mlGuessAltText(bitmap, width, height);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n  }\n  getImageForAltText() {\n    return this.#canvas;\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  #createObserver() {\n    if (!this._uiManager._signal) {\n      return;\n    }\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.#setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n    this._uiManager._signal.addEventListener(\"abort\", () => {\n      this.#observer?.disconnect();\n      this.#observer = null;\n    }, {\n      once: true\n    });\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof StampAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const serialized = {\n      annotationType: AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getRect(0, 0),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.altTextData;\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.altTextData;\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #boundPointerup = null;\n  #boundPointerdown = null;\n  #boundTextLayerPointerDown = null;\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isCleaningUp = false;\n  #isDisabling = false;\n  #textLayer = null;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor, HighlightEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  get isInvisible() {\n    return this.isEmpty && this.#uiManager.getMode() === AnnotationEditorType.NONE;\n  }\n  updateToolbar(mode) {\n    this.#uiManager.updateToolbar(mode);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case AnnotationEditorType.NONE:\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case AnnotationEditorType.INK:\n        this.addInkEditorIfNeeded(false);\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.disableClick();\n        break;\n      case AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n    this.toggleAnnotationLayerPointerEvents(false);\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n    }\n    this.div.hidden = false;\n  }\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n  addInkEditorIfNeeded(isCommitting) {\n    if (this.#uiManager.getMode() !== AnnotationEditorType.INK) {\n      return;\n    }\n    if (!isCommitting) {\n      for (const editor of this.#editors.values()) {\n        if (editor.isEmpty()) {\n          editor.setInBackground();\n          return;\n        }\n      }\n    }\n    const editor = this.createAndAddNewEditor({\n      offsetX: 0,\n      offsetY: 0\n    }, false);\n    editor.setInBackground();\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  toggleDrawing(enabled = false) {\n    this.div.classList.toggle(\"drawing\", !enabled);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.div.classList.toggle(\"disabled\", !enabled);\n  }\n  enable() {\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    if (!this.#annotationLayer) {\n      return;\n    }\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    const changedAnnotations = new Map();\n    const resetAnnotations = new Map();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId) {\n        continue;\n      }\n      if (editor.serialize() !== null) {\n        changedAnnotations.set(editor.annotationElementId, editor);\n        continue;\n      } else {\n        resetAnnotations.set(editor.annotationElementId, editor);\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n    if (this.#annotationLayer) {\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          editor.renderAnnotationElement(editable);\n          editor.show(false);\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#boundTextLayerPointerDown) {\n      this.#boundTextLayerPointerDown = this.#textLayerPointerDown.bind(this);\n      this.#textLayer.div.addEventListener(\"pointerdown\", this.#boundTextLayerPointerDown, {\n        signal: this.#uiManager._signal\n      });\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#boundTextLayerPointerDown) {\n      this.#textLayer.div.removeEventListener(\"pointerdown\", this.#boundTextLayerPointerDown);\n      this.#boundTextLayerPointerDown = null;\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n  #textLayerPointerDown(event) {\n    this.#uiManager.unselectAll();\n    const {\n      target\n    } = event;\n    if (target === this.#textLayer.div || target.classList.contains(\"endOfContent\") && this.#textLayer.div.contains(target)) {\n      const {\n        isMac\n      } = util_FeatureTest.platform;\n      if (event.button !== 0 || event.ctrlKey && isMac) {\n        return;\n      }\n      this.#uiManager.showAllEditors(\"highlight\", true, true);\n      this.#textLayer.div.classList.add(\"free\");\n      this.toggleDrawing();\n      HighlightEditor.startHighlighting(this, this.#uiManager.direction === \"ltr\", event);\n      this.#textLayer.div.addEventListener(\"pointerup\", () => {\n        this.#textLayer.div.classList.remove(\"free\");\n        this.toggleDrawing(true);\n      }, {\n        once: true,\n        signal: this.#uiManager._signal\n      });\n      event.preventDefault();\n    }\n  }\n  enableClick() {\n    if (this.#boundPointerdown) {\n      return;\n    }\n    const signal = this.#uiManager._signal;\n    this.#boundPointerdown = this.pointerdown.bind(this);\n    this.#boundPointerup = this.pointerup.bind(this);\n    this.div.addEventListener(\"pointerdown\", this.#boundPointerdown, {\n      signal\n    });\n    this.div.addEventListener(\"pointerup\", this.#boundPointerup, {\n      signal\n    });\n  }\n  disableClick() {\n    if (!this.#boundPointerdown) {\n      return;\n    }\n    this.div.removeEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.removeEventListener(\"pointerup\", this.#boundPointerup);\n    this.#boundPointerdown = null;\n    this.#boundPointerup = null;\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n    if (!this.#isCleaningUp) {\n      this.addInkEditorIfNeeded(false);\n    }\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded();\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true,\n            signal: this.#uiManager._signal\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n  get _signal() {\n    return this.#uiManager._signal;\n  }\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n  pasteEditor(mode, params) {\n    this.#uiManager.updateToolbar(mode);\n    this.#uiManager.updateMode(mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  deserialize(data) {\n    return AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager) || null;\n  }\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor() {\n    this.createAndAddNewEditor(this.#getCenterPoint(), true);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  isSelected(editor) {\n    return this.#uiManager.isSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    if (this.#uiManager.getMode() === AnnotationEditorType.STAMP) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util_FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  destroy() {\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    this.#isCleaningUp = true;\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n    this.#isCleaningUp = false;\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    setLayerDimensions(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    setLayerDimensions(this.div, {\n      rotation\n    });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n    this.addInkEditorIfNeeded(false);\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/draw_layer.js\n\n\nclass DrawLayer {\n  #parent = null;\n  #id = 0;\n  #mapping = new Map();\n  #toUpdate = new Map();\n  constructor({\n    pageIndex\n  }) {\n    this.pageIndex = pageIndex;\n  }\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n  static get _svgFactory() {\n    return shadow(this, \"_svgFactory\", new DOMSVGFactory());\n  }\n  static #setBox(element, {\n    x = 0,\n    y = 0,\n    width = 1,\n    height = 1\n  } = {}) {\n    const {\n      style\n    } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n  #createSVG(box) {\n    const svg = DrawLayer._svgFactory.create(1, 1, true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    DrawLayer.#setBox(svg, box);\n    return svg;\n  }\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n    return clipPathId;\n  }\n  highlight(outlines, color, opacity, isPathUpdatable = false) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(\"highlight\");\n    if (outlines.free) {\n      root.classList.add(\"free\");\n    }\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n    const clipPathId = this.#createClipPath(defs, pathId);\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    root.setAttribute(\"fill\", color);\n    root.setAttribute(\"fill-opacity\", opacity);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.#mapping.set(id, root);\n    return {\n      id,\n      clipPathId: `url(#${clipPathId})`\n    };\n  }\n  highlightOutline(outlines) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(\"highlightOutline\");\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    let maskId;\n    if (outlines.free) {\n      root.classList.add(\"free\");\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n    this.#mapping.set(id, root);\n    return id;\n  }\n  finalizeLine(id, line) {\n    const path = this.#toUpdate.get(id);\n    this.#toUpdate.delete(id);\n    this.updateBox(id, line.box);\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  updateLine(id, line) {\n    const root = this.#mapping.get(id);\n    const defs = root.firstChild;\n    const path = defs.firstChild;\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  removeFreeHighlight(id) {\n    this.remove(id);\n    this.#toUpdate.delete(id);\n  }\n  updatePath(id, line) {\n    this.#toUpdate.get(id).setAttribute(\"d\", line.toSVGPath());\n  }\n  updateBox(id, box) {\n    DrawLayer.#setBox(this.#mapping.get(id), box);\n  }\n  show(id, visible) {\n    this.#mapping.get(id).classList.toggle(\"hidden\", !visible);\n  }\n  rotate(id, angle) {\n    this.#mapping.get(id).setAttribute(\"data-main-rotation\", angle);\n  }\n  changeColor(id, color) {\n    this.#mapping.get(id).setAttribute(\"fill\", color);\n  }\n  changeOpacity(id, opacity) {\n    this.#mapping.get(id).setAttribute(\"fill-opacity\", opacity);\n  }\n  addClass(id, className) {\n    this.#mapping.get(id).classList.add(className);\n  }\n  removeClass(id, className) {\n    this.#mapping.get(id).classList.remove(className);\n  }\n  remove(id) {\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n  }\n}\n\n;// CONCATENATED MODULE: ./src/pdf.js\n\n\n\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = \"4.5.136\";\nconst pdfjsBuild = \"3a21f03b0\";\n\nvar __webpack_exports__AbortException = __webpack_exports__.AbortException;\nvar __webpack_exports__AnnotationEditorLayer = __webpack_exports__.AnnotationEditorLayer;\nvar __webpack_exports__AnnotationEditorParamsType = __webpack_exports__.AnnotationEditorParamsType;\nvar __webpack_exports__AnnotationEditorType = __webpack_exports__.AnnotationEditorType;\nvar __webpack_exports__AnnotationEditorUIManager = __webpack_exports__.AnnotationEditorUIManager;\nvar __webpack_exports__AnnotationLayer = __webpack_exports__.AnnotationLayer;\nvar __webpack_exports__AnnotationMode = __webpack_exports__.AnnotationMode;\nvar __webpack_exports__CMapCompressionType = __webpack_exports__.CMapCompressionType;\nvar __webpack_exports__ColorPicker = __webpack_exports__.ColorPicker;\nvar __webpack_exports__DOMSVGFactory = __webpack_exports__.DOMSVGFactory;\nvar __webpack_exports__DrawLayer = __webpack_exports__.DrawLayer;\nvar __webpack_exports__FeatureTest = __webpack_exports__.FeatureTest;\nvar __webpack_exports__GlobalWorkerOptions = __webpack_exports__.GlobalWorkerOptions;\nvar __webpack_exports__ImageKind = __webpack_exports__.ImageKind;\nvar __webpack_exports__InvalidPDFException = __webpack_exports__.InvalidPDFException;\nvar __webpack_exports__MissingPDFException = __webpack_exports__.MissingPDFException;\nvar __webpack_exports__OPS = __webpack_exports__.OPS;\nvar __webpack_exports__PDFDataRangeTransport = __webpack_exports__.PDFDataRangeTransport;\nvar __webpack_exports__PDFDateString = __webpack_exports__.PDFDateString;\nvar __webpack_exports__PDFWorker = __webpack_exports__.PDFWorker;\nvar __webpack_exports__PasswordResponses = __webpack_exports__.PasswordResponses;\nvar __webpack_exports__PermissionFlag = __webpack_exports__.PermissionFlag;\nvar __webpack_exports__PixelsPerInch = __webpack_exports__.PixelsPerInch;\nvar __webpack_exports__RenderingCancelledException = __webpack_exports__.RenderingCancelledException;\nvar __webpack_exports__TextLayer = __webpack_exports__.TextLayer;\nvar __webpack_exports__UnexpectedResponseException = __webpack_exports__.UnexpectedResponseException;\nvar __webpack_exports__Util = __webpack_exports__.Util;\nvar __webpack_exports__VerbosityLevel = __webpack_exports__.VerbosityLevel;\nvar __webpack_exports__XfaLayer = __webpack_exports__.XfaLayer;\nvar __webpack_exports__build = __webpack_exports__.build;\nvar __webpack_exports__createValidAbsoluteUrl = __webpack_exports__.createValidAbsoluteUrl;\nvar __webpack_exports__fetchData = __webpack_exports__.fetchData;\nvar __webpack_exports__getDocument = __webpack_exports__.getDocument;\nvar __webpack_exports__getFilenameFromUrl = __webpack_exports__.getFilenameFromUrl;\nvar __webpack_exports__getPdfFilenameFromUrl = __webpack_exports__.getPdfFilenameFromUrl;\nvar __webpack_exports__getXfaPageViewport = __webpack_exports__.getXfaPageViewport;\nvar __webpack_exports__isDataScheme = __webpack_exports__.isDataScheme;\nvar __webpack_exports__isPdfFile = __webpack_exports__.isPdfFile;\nvar __webpack_exports__noContextMenu = __webpack_exports__.noContextMenu;\nvar __webpack_exports__normalizeUnicode = __webpack_exports__.normalizeUnicode;\nvar __webpack_exports__setLayerDimensions = __webpack_exports__.setLayerDimensions;\nvar __webpack_exports__shadow = __webpack_exports__.shadow;\nvar __webpack_exports__version = __webpack_exports__.version;\nexport { __webpack_exports__AbortException as AbortException, __webpack_exports__AnnotationEditorLayer as AnnotationEditorLayer, __webpack_exports__AnnotationEditorParamsType as AnnotationEditorParamsType, __webpack_exports__AnnotationEditorType as AnnotationEditorType, __webpack_exports__AnnotationEditorUIManager as AnnotationEditorUIManager, __webpack_exports__AnnotationLayer as AnnotationLayer, __webpack_exports__AnnotationMode as AnnotationMode, __webpack_exports__CMapCompressionType as CMapCompressionType, __webpack_exports__ColorPicker as ColorPicker, __webpack_exports__DOMSVGFactory as DOMSVGFactory, __webpack_exports__DrawLayer as DrawLayer, __webpack_exports__FeatureTest as FeatureTest, __webpack_exports__GlobalWorkerOptions as GlobalWorkerOptions, __webpack_exports__ImageKind as ImageKind, __webpack_exports__InvalidPDFException as InvalidPDFException, __webpack_exports__MissingPDFException as MissingPDFException, __webpack_exports__OPS as OPS, __webpack_exports__PDFDataRangeTransport as PDFDataRangeTransport, __webpack_exports__PDFDateString as PDFDateString, __webpack_exports__PDFWorker as PDFWorker, __webpack_exports__PasswordResponses as PasswordResponses, __webpack_exports__PermissionFlag as PermissionFlag, __webpack_exports__PixelsPerInch as PixelsPerInch, __webpack_exports__RenderingCancelledException as RenderingCancelledException, __webpack_exports__TextLayer as TextLayer, __webpack_exports__UnexpectedResponseException as UnexpectedResponseException, __webpack_exports__Util as Util, __webpack_exports__VerbosityLevel as VerbosityLevel, __webpack_exports__XfaLayer as XfaLayer, __webpack_exports__build as build, __webpack_exports__createValidAbsoluteUrl as createValidAbsoluteUrl, __webpack_exports__fetchData as fetchData, __webpack_exports__getDocument as getDocument, __webpack_exports__getFilenameFromUrl as getFilenameFromUrl, __webpack_exports__getPdfFilenameFromUrl as getPdfFilenameFromUrl, __webpack_exports__getXfaPageViewport as getXfaPageViewport, __webpack_exports__isDataScheme as isDataScheme, __webpack_exports__isPdfFile as isPdfFile, __webpack_exports__noContextMenu as noContextMenu, __webpack_exports__normalizeUnicode as normalizeUnicode, __webpack_exports__setLayerDimensions as setLayerDimensions, __webpack_exports__shadow as shadow, __webpack_exports__version as version };\n\n//# sourceMappingURL=pdf.mjs.map","/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ var __webpack_modules__ = ({\n\n/***/ 9306:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(4901);\nvar tryToString = __webpack_require__(6823);\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n\n\n/***/ }),\n\n/***/ 7080:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar has = (__webpack_require__(4402).has);\n\n// Perform ? RequireInternalSlot(M, [[SetData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 679:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isPrototypeOf = __webpack_require__(1625);\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw new $TypeError('Incorrect invocation');\n};\n\n\n/***/ }),\n\n/***/ 8551:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isObject = __webpack_require__(34);\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n\n\n/***/ }),\n\n/***/ 9617:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIndexedObject = __webpack_require__(5397);\nvar toAbsoluteIndex = __webpack_require__(5610);\nvar lengthOfArrayLike = __webpack_require__(6198);\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\n\n/***/ }),\n\n/***/ 4527:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar isArray = __webpack_require__(4376);\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n\n\n/***/ }),\n\n/***/ 6319:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar anObject = __webpack_require__(8551);\nvar iteratorClose = __webpack_require__(9539);\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n\n\n/***/ }),\n\n/***/ 4576:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n\n\n/***/ }),\n\n/***/ 6955:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar TO_STRING_TAG_SUPPORT = __webpack_require__(2140);\nvar isCallable = __webpack_require__(4901);\nvar classofRaw = __webpack_require__(4576);\nvar wellKnownSymbol = __webpack_require__(8227);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n\n\n/***/ }),\n\n/***/ 7740:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar hasOwn = __webpack_require__(9297);\nvar ownKeys = __webpack_require__(5031);\nvar getOwnPropertyDescriptorModule = __webpack_require__(7347);\nvar definePropertyModule = __webpack_require__(4913);\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\n\n/***/ }),\n\n/***/ 2211:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n\n\n/***/ }),\n\n/***/ 2529:\n/***/ ((module) => {\n\n\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n\n\n/***/ }),\n\n/***/ 6699:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar definePropertyModule = __webpack_require__(4913);\nvar createPropertyDescriptor = __webpack_require__(6980);\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n\n/***/ 6980:\n/***/ ((module) => {\n\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n\n/***/ 4659:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar definePropertyModule = __webpack_require__(4913);\nvar createPropertyDescriptor = __webpack_require__(6980);\n\nmodule.exports = function (object, key, value) {\n  if (DESCRIPTORS) definePropertyModule.f(object, key, createPropertyDescriptor(0, value));\n  else object[key] = value;\n};\n\n\n/***/ }),\n\n/***/ 2106:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar makeBuiltIn = __webpack_require__(283);\nvar defineProperty = __webpack_require__(4913);\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n\n\n/***/ }),\n\n/***/ 6840:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(4901);\nvar definePropertyModule = __webpack_require__(4913);\nvar makeBuiltIn = __webpack_require__(283);\nvar defineGlobalProperty = __webpack_require__(9433);\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n\n\n/***/ }),\n\n/***/ 6279:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar defineBuiltIn = __webpack_require__(6840);\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) defineBuiltIn(target, key, src[key], options);\n  return target;\n};\n\n\n/***/ }),\n\n/***/ 9433:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(4475);\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n\n\n/***/ }),\n\n/***/ 3724:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n\n\n/***/ }),\n\n/***/ 4055:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(4475);\nvar isObject = __webpack_require__(34);\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n\n/***/ 6837:\n/***/ ((module) => {\n\n\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 9392:\n/***/ ((module) => {\n\n\nmodule.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n\n\n/***/ }),\n\n/***/ 7388:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(4475);\nvar userAgent = __webpack_require__(9392);\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n\n\n/***/ }),\n\n/***/ 8727:\n/***/ ((module) => {\n\n\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/***/ }),\n\n/***/ 6518:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(4475);\nvar getOwnPropertyDescriptor = (__webpack_require__(7347).f);\nvar createNonEnumerableProperty = __webpack_require__(6699);\nvar defineBuiltIn = __webpack_require__(6840);\nvar defineGlobalProperty = __webpack_require__(9433);\nvar copyConstructorProperties = __webpack_require__(7740);\nvar isForced = __webpack_require__(2796);\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = global[TARGET] && global[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n\n\n/***/ }),\n\n/***/ 9039:\n/***/ ((module) => {\n\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n\n/***/ }),\n\n/***/ 6080:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(7476);\nvar aCallable = __webpack_require__(9306);\nvar NATIVE_BIND = __webpack_require__(616);\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ 616:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n\n\n/***/ }),\n\n/***/ 9565:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_BIND = __webpack_require__(616);\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n\n\n/***/ }),\n\n/***/ 350:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar hasOwn = __webpack_require__(9297);\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n\n\n/***/ }),\n\n/***/ 6706:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar aCallable = __webpack_require__(9306);\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n\n\n/***/ }),\n\n/***/ 7476:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classofRaw = __webpack_require__(4576);\nvar uncurryThis = __webpack_require__(9504);\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n\n\n/***/ }),\n\n/***/ 9504:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_BIND = __webpack_require__(616);\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n\n\n/***/ }),\n\n/***/ 7751:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(4475);\nvar isCallable = __webpack_require__(4901);\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n\n\n/***/ }),\n\n/***/ 1767:\n/***/ ((module) => {\n\n\n// `GetIteratorDirect(obj)` abstract operation\n// https://tc39.es/proposal-iterator-helpers/#sec-getiteratordirect\nmodule.exports = function (obj) {\n  return {\n    iterator: obj,\n    next: obj.next,\n    done: false\n  };\n};\n\n\n/***/ }),\n\n/***/ 851:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(6955);\nvar getMethod = __webpack_require__(5966);\nvar isNullOrUndefined = __webpack_require__(4117);\nvar Iterators = __webpack_require__(6269);\nvar wellKnownSymbol = __webpack_require__(8227);\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n\n\n/***/ }),\n\n/***/ 81:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar tryToString = __webpack_require__(6823);\nvar getIteratorMethod = __webpack_require__(851);\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw new $TypeError(tryToString(argument) + ' is not iterable');\n};\n\n\n/***/ }),\n\n/***/ 5966:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aCallable = __webpack_require__(9306);\nvar isNullOrUndefined = __webpack_require__(4117);\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n\n\n/***/ }),\n\n/***/ 3789:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar call = __webpack_require__(9565);\nvar toIntegerOrInfinity = __webpack_require__(1291);\nvar getIteratorDirect = __webpack_require__(1767);\n\nvar INVALID_SIZE = 'Invalid size';\nvar $RangeError = RangeError;\nvar $TypeError = TypeError;\nvar max = Math.max;\n\nvar SetRecord = function (set, intSize) {\n  this.set = set;\n  this.size = max(intSize, 0);\n  this.has = aCallable(set.has);\n  this.keys = aCallable(set.keys);\n};\n\nSetRecord.prototype = {\n  getIterator: function () {\n    return getIteratorDirect(anObject(call(this.keys, this.set)));\n  },\n  includes: function (it) {\n    return call(this.has, this.set, it);\n  }\n};\n\n// `GetSetRecord` abstract operation\n// https://tc39.es/proposal-set-methods/#sec-getsetrecord\nmodule.exports = function (obj) {\n  anObject(obj);\n  var numSize = +obj.size;\n  // NOTE: If size is undefined, then numSize will be NaN\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (numSize !== numSize) throw new $TypeError(INVALID_SIZE);\n  var intSize = toIntegerOrInfinity(numSize);\n  if (intSize < 0) throw new $RangeError(INVALID_SIZE);\n  return new SetRecord(obj, intSize);\n};\n\n\n/***/ }),\n\n/***/ 4475:\n/***/ (function(module) {\n\n\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n\n\n/***/ }),\n\n/***/ 9297:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar toObject = __webpack_require__(8981);\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n\n\n/***/ }),\n\n/***/ 421:\n/***/ ((module) => {\n\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ 397:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(7751);\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n\n\n/***/ }),\n\n/***/ 5917:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar fails = __webpack_require__(9039);\nvar createElement = __webpack_require__(4055);\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n\n\n/***/ }),\n\n/***/ 7055:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar fails = __webpack_require__(9039);\nvar classof = __webpack_require__(4576);\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n\n\n/***/ }),\n\n/***/ 3706:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar isCallable = __webpack_require__(4901);\nvar store = __webpack_require__(7629);\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n\n\n/***/ }),\n\n/***/ 1181:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar NATIVE_WEAK_MAP = __webpack_require__(8622);\nvar global = __webpack_require__(4475);\nvar isObject = __webpack_require__(34);\nvar createNonEnumerableProperty = __webpack_require__(6699);\nvar hasOwn = __webpack_require__(9297);\nvar shared = __webpack_require__(7629);\nvar sharedKey = __webpack_require__(6119);\nvar hiddenKeys = __webpack_require__(421);\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\n\n/***/ }),\n\n/***/ 4209:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar wellKnownSymbol = __webpack_require__(8227);\nvar Iterators = __webpack_require__(6269);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n\n\n/***/ }),\n\n/***/ 4376:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(4576);\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n\n\n/***/ }),\n\n/***/ 4901:\n/***/ ((module) => {\n\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n\n\n/***/ }),\n\n/***/ 2796:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\nvar isCallable = __webpack_require__(4901);\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n\n\n/***/ }),\n\n/***/ 4117:\n/***/ ((module) => {\n\n\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n\n\n/***/ }),\n\n/***/ 34:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isCallable = __webpack_require__(4901);\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n\n\n/***/ }),\n\n/***/ 6395:\n/***/ ((module) => {\n\n\nmodule.exports = false;\n\n\n/***/ }),\n\n/***/ 757:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(7751);\nvar isCallable = __webpack_require__(4901);\nvar isPrototypeOf = __webpack_require__(1625);\nvar USE_SYMBOL_AS_UID = __webpack_require__(7040);\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n\n\n/***/ }),\n\n/***/ 507:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\n\nmodule.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {\n  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;\n  var next = record.next;\n  var step, result;\n  while (!(step = call(next, iterator)).done) {\n    result = fn(step.value);\n    if (result !== undefined) return result;\n  }\n};\n\n\n/***/ }),\n\n/***/ 2652:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar bind = __webpack_require__(6080);\nvar call = __webpack_require__(9565);\nvar anObject = __webpack_require__(8551);\nvar tryToString = __webpack_require__(6823);\nvar isArrayIteratorMethod = __webpack_require__(4209);\nvar lengthOfArrayLike = __webpack_require__(6198);\nvar isPrototypeOf = __webpack_require__(1625);\nvar getIterator = __webpack_require__(81);\nvar getIteratorMethod = __webpack_require__(851);\nvar iteratorClose = __webpack_require__(9539);\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw new $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n\n\n/***/ }),\n\n/***/ 9539:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar anObject = __webpack_require__(8551);\nvar getMethod = __webpack_require__(5966);\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n\n\n/***/ }),\n\n/***/ 9462:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar create = __webpack_require__(2360);\nvar createNonEnumerableProperty = __webpack_require__(6699);\nvar defineBuiltIns = __webpack_require__(6279);\nvar wellKnownSymbol = __webpack_require__(8227);\nvar InternalStateModule = __webpack_require__(1181);\nvar getMethod = __webpack_require__(5966);\nvar IteratorPrototype = (__webpack_require__(7657).IteratorPrototype);\nvar createIterResultObject = __webpack_require__(2529);\nvar iteratorClose = __webpack_require__(9539);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ITERATOR_HELPER = 'IteratorHelper';\nvar WRAP_FOR_VALID_ITERATOR = 'WrapForValidIterator';\nvar setInternalState = InternalStateModule.set;\n\nvar createIteratorProxyPrototype = function (IS_ITERATOR) {\n  var getInternalState = InternalStateModule.getterFor(IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER);\n\n  return defineBuiltIns(create(IteratorPrototype), {\n    next: function next() {\n      var state = getInternalState(this);\n      // for simplification:\n      //   for `%WrapForValidIteratorPrototype%.next` our `nextHandler` returns `IterResultObject`\n      //   for `%IteratorHelperPrototype%.next` - just a value\n      if (IS_ITERATOR) return state.nextHandler();\n      try {\n        var result = state.done ? undefined : state.nextHandler();\n        return createIterResultObject(result, state.done);\n      } catch (error) {\n        state.done = true;\n        throw error;\n      }\n    },\n    'return': function () {\n      var state = getInternalState(this);\n      var iterator = state.iterator;\n      state.done = true;\n      if (IS_ITERATOR) {\n        var returnMethod = getMethod(iterator, 'return');\n        return returnMethod ? call(returnMethod, iterator) : createIterResultObject(undefined, true);\n      }\n      if (state.inner) try {\n        iteratorClose(state.inner.iterator, 'normal');\n      } catch (error) {\n        return iteratorClose(iterator, 'throw', error);\n      }\n      iteratorClose(iterator, 'normal');\n      return createIterResultObject(undefined, true);\n    }\n  });\n};\n\nvar WrapForValidIteratorPrototype = createIteratorProxyPrototype(true);\nvar IteratorHelperPrototype = createIteratorProxyPrototype(false);\n\ncreateNonEnumerableProperty(IteratorHelperPrototype, TO_STRING_TAG, 'Iterator Helper');\n\nmodule.exports = function (nextHandler, IS_ITERATOR) {\n  var IteratorProxy = function Iterator(record, state) {\n    if (state) {\n      state.iterator = record.iterator;\n      state.next = record.next;\n    } else state = record;\n    state.type = IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER;\n    state.nextHandler = nextHandler;\n    state.counter = 0;\n    state.done = false;\n    setInternalState(this, state);\n  };\n\n  IteratorProxy.prototype = IS_ITERATOR ? WrapForValidIteratorPrototype : IteratorHelperPrototype;\n\n  return IteratorProxy;\n};\n\n\n/***/ }),\n\n/***/ 713:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar createIteratorProxy = __webpack_require__(9462);\nvar callWithSafeIterationClosing = __webpack_require__(6319);\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://github.com/tc39/proposal-iterator-helpers\nmodule.exports = function map(mapper) {\n  anObject(this);\n  aCallable(mapper);\n  return new IteratorProxy(getIteratorDirect(this), {\n    mapper: mapper\n  });\n};\n\n\n/***/ }),\n\n/***/ 7657:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar fails = __webpack_require__(9039);\nvar isCallable = __webpack_require__(4901);\nvar isObject = __webpack_require__(34);\nvar create = __webpack_require__(2360);\nvar getPrototypeOf = __webpack_require__(2787);\nvar defineBuiltIn = __webpack_require__(6840);\nvar wellKnownSymbol = __webpack_require__(8227);\nvar IS_PURE = __webpack_require__(6395);\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n\n\n/***/ }),\n\n/***/ 6269:\n/***/ ((module) => {\n\n\nmodule.exports = {};\n\n\n/***/ }),\n\n/***/ 6198:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toLength = __webpack_require__(8014);\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n\n\n/***/ }),\n\n/***/ 283:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar fails = __webpack_require__(9039);\nvar isCallable = __webpack_require__(4901);\nvar hasOwn = __webpack_require__(9297);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar CONFIGURABLE_FUNCTION_NAME = (__webpack_require__(350).CONFIGURABLE);\nvar inspectSource = __webpack_require__(3706);\nvar InternalStateModule = __webpack_require__(1181);\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n\n\n/***/ }),\n\n/***/ 741:\n/***/ ((module) => {\n\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n\n\n/***/ }),\n\n/***/ 6043:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aCallable = __webpack_require__(9306);\n\nvar $TypeError = TypeError;\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw new $TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n/***/ }),\n\n/***/ 2360:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = __webpack_require__(8551);\nvar definePropertiesModule = __webpack_require__(6801);\nvar enumBugKeys = __webpack_require__(8727);\nvar hiddenKeys = __webpack_require__(421);\nvar html = __webpack_require__(397);\nvar documentCreateElement = __webpack_require__(4055);\nvar sharedKey = __webpack_require__(6119);\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n\n\n/***/ }),\n\n/***/ 6801:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(8686);\nvar definePropertyModule = __webpack_require__(4913);\nvar anObject = __webpack_require__(8551);\nvar toIndexedObject = __webpack_require__(5397);\nvar objectKeys = __webpack_require__(1072);\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 4913:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar IE8_DOM_DEFINE = __webpack_require__(5917);\nvar V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(8686);\nvar anObject = __webpack_require__(8551);\nvar toPropertyKey = __webpack_require__(6969);\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n\n/***/ 7347:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar call = __webpack_require__(9565);\nvar propertyIsEnumerableModule = __webpack_require__(8773);\nvar createPropertyDescriptor = __webpack_require__(6980);\nvar toIndexedObject = __webpack_require__(5397);\nvar toPropertyKey = __webpack_require__(6969);\nvar hasOwn = __webpack_require__(9297);\nvar IE8_DOM_DEFINE = __webpack_require__(5917);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ 8480:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\nvar internalObjectKeys = __webpack_require__(1828);\nvar enumBugKeys = __webpack_require__(8727);\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ 3717:\n/***/ ((__unused_webpack_module, exports) => {\n\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n\n/***/ 2787:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar hasOwn = __webpack_require__(9297);\nvar isCallable = __webpack_require__(4901);\nvar toObject = __webpack_require__(8981);\nvar sharedKey = __webpack_require__(6119);\nvar CORRECT_PROTOTYPE_GETTER = __webpack_require__(2211);\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n\n\n/***/ }),\n\n/***/ 1625:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n\n\n/***/ }),\n\n/***/ 1828:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar hasOwn = __webpack_require__(9297);\nvar toIndexedObject = __webpack_require__(5397);\nvar indexOf = (__webpack_require__(9617).indexOf);\nvar hiddenKeys = __webpack_require__(421);\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 1072:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar internalObjectKeys = __webpack_require__(1828);\nvar enumBugKeys = __webpack_require__(8727);\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n\n\n/***/ }),\n\n/***/ 8773:\n/***/ ((__unused_webpack_module, exports) => {\n\n\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\n\n/***/ }),\n\n/***/ 4270:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar isCallable = __webpack_require__(4901);\nvar isObject = __webpack_require__(34);\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n\n/***/ 5031:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(7751);\nvar uncurryThis = __webpack_require__(9504);\nvar getOwnPropertyNamesModule = __webpack_require__(8480);\nvar getOwnPropertySymbolsModule = __webpack_require__(3717);\nvar anObject = __webpack_require__(8551);\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n\n\n/***/ }),\n\n/***/ 8235:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar hasOwn = __webpack_require__(9297);\n\nvar $SyntaxError = SyntaxError;\nvar $parseInt = parseInt;\nvar fromCharCode = String.fromCharCode;\nvar at = uncurryThis(''.charAt);\nvar slice = uncurryThis(''.slice);\nvar exec = uncurryThis(/./.exec);\n\nvar codePoints = {\n  '\\\\\"': '\"',\n  '\\\\\\\\': '\\\\',\n  '\\\\/': '/',\n  '\\\\b': '\\b',\n  '\\\\f': '\\f',\n  '\\\\n': '\\n',\n  '\\\\r': '\\r',\n  '\\\\t': '\\t'\n};\n\nvar IS_4_HEX_DIGITS = /^[\\da-f]{4}$/i;\n// eslint-disable-next-line regexp/no-control-character -- safe\nvar IS_C0_CONTROL_CODE = /^[\\u0000-\\u001F]$/;\n\nmodule.exports = function (source, i) {\n  var unterminated = true;\n  var value = '';\n  while (i < source.length) {\n    var chr = at(source, i);\n    if (chr === '\\\\') {\n      var twoChars = slice(source, i, i + 2);\n      if (hasOwn(codePoints, twoChars)) {\n        value += codePoints[twoChars];\n        i += 2;\n      } else if (twoChars === '\\\\u') {\n        i += 2;\n        var fourHexDigits = slice(source, i, i + 4);\n        if (!exec(IS_4_HEX_DIGITS, fourHexDigits)) throw new $SyntaxError('Bad Unicode escape at: ' + i);\n        value += fromCharCode($parseInt(fourHexDigits, 16));\n        i += 4;\n      } else throw new $SyntaxError('Unknown escape sequence: \"' + twoChars + '\"');\n    } else if (chr === '\"') {\n      unterminated = false;\n      i++;\n      break;\n    } else {\n      if (exec(IS_C0_CONTROL_CODE, chr)) throw new $SyntaxError('Bad control character in string literal at: ' + i);\n      value += chr;\n      i++;\n    }\n  }\n  if (unterminated) throw new $SyntaxError('Unterminated string at: ' + i);\n  return { value: value, end: i };\n};\n\n\n/***/ }),\n\n/***/ 7750:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar isNullOrUndefined = __webpack_require__(4117);\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n\n/***/ }),\n\n/***/ 9286:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar SetHelpers = __webpack_require__(4402);\nvar iterate = __webpack_require__(8469);\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\nmodule.exports = function (set) {\n  var result = new Set();\n  iterate(set, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 3440:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar SetHelpers = __webpack_require__(4402);\nvar clone = __webpack_require__(9286);\nvar size = __webpack_require__(5170);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSet = __webpack_require__(8469);\nvar iterateSimple = __webpack_require__(507);\n\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.difference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function difference(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = clone(O);\n  if (size(O) <= otherRec.size) iterateSet(O, function (e) {\n    if (otherRec.includes(e)) remove(result, e);\n  });\n  else iterateSimple(otherRec.getIterator(), function (e) {\n    if (has(O, e)) remove(result, e);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 4402:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\n// eslint-disable-next-line es/no-set -- safe\nvar SetPrototype = Set.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-set -- safe\n  Set: Set,\n  add: uncurryThis(SetPrototype.add),\n  has: uncurryThis(SetPrototype.has),\n  remove: uncurryThis(SetPrototype['delete']),\n  proto: SetPrototype\n};\n\n\n/***/ }),\n\n/***/ 8750:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar SetHelpers = __webpack_require__(4402);\nvar size = __webpack_require__(5170);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSet = __webpack_require__(8469);\nvar iterateSimple = __webpack_require__(507);\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\n\n// `Set.prototype.intersection` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function intersection(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = new Set();\n\n  if (size(O) > otherRec.size) {\n    iterateSimple(otherRec.getIterator(), function (e) {\n      if (has(O, e)) add(result, e);\n    });\n  } else {\n    iterateSet(O, function (e) {\n      if (otherRec.includes(e)) add(result, e);\n    });\n  }\n\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 4449:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar has = (__webpack_require__(4402).has);\nvar size = __webpack_require__(5170);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSet = __webpack_require__(8469);\nvar iterateSimple = __webpack_require__(507);\nvar iteratorClose = __webpack_require__(9539);\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isDisjointFrom\nmodule.exports = function isDisjointFrom(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) <= otherRec.size) return iterateSet(O, function (e) {\n    if (otherRec.includes(e)) return false;\n  }, true) !== false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n\n\n/***/ }),\n\n/***/ 3838:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar size = __webpack_require__(5170);\nvar iterate = __webpack_require__(8469);\nvar getSetRecord = __webpack_require__(3789);\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSubsetOf\nmodule.exports = function isSubsetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) > otherRec.size) return false;\n  return iterate(O, function (e) {\n    if (!otherRec.includes(e)) return false;\n  }, true) !== false;\n};\n\n\n/***/ }),\n\n/***/ 8527:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar has = (__webpack_require__(4402).has);\nvar size = __webpack_require__(5170);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSimple = __webpack_require__(507);\nvar iteratorClose = __webpack_require__(9539);\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSupersetOf\nmodule.exports = function isSupersetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) < otherRec.size) return false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (!has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n\n\n/***/ }),\n\n/***/ 8469:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\nvar iterateSimple = __webpack_require__(507);\nvar SetHelpers = __webpack_require__(4402);\n\nvar Set = SetHelpers.Set;\nvar SetPrototype = SetHelpers.proto;\nvar forEach = uncurryThis(SetPrototype.forEach);\nvar keys = uncurryThis(SetPrototype.keys);\nvar next = keys(new Set()).next;\n\nmodule.exports = function (set, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);\n};\n\n\n/***/ }),\n\n/***/ 4916:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar getBuiltIn = __webpack_require__(7751);\n\nvar createSetLike = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return false;\n    },\n    keys: function () {\n      return {\n        next: function () {\n          return { done: true };\n        }\n      };\n    }\n  };\n};\n\nmodule.exports = function (name) {\n  var Set = getBuiltIn('Set');\n  try {\n    new Set()[name](createSetLike(0));\n    try {\n      // late spec change, early WebKit ~ Safari 17.0 beta implementation does not pass it\n      // https://github.com/tc39/proposal-set-methods/pull/88\n      new Set()[name](createSetLike(-1));\n      return false;\n    } catch (error2) {\n      return true;\n    }\n  } catch (error) {\n    return false;\n  }\n};\n\n\n/***/ }),\n\n/***/ 5170:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThisAccessor = __webpack_require__(6706);\nvar SetHelpers = __webpack_require__(4402);\n\nmodule.exports = uncurryThisAccessor(SetHelpers.proto, 'size', 'get') || function (set) {\n  return set.size;\n};\n\n\n/***/ }),\n\n/***/ 3650:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar SetHelpers = __webpack_require__(4402);\nvar clone = __webpack_require__(9286);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSimple = __webpack_require__(507);\n\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.symmetricDifference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function symmetricDifference(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (e) {\n    if (has(O, e)) remove(result, e);\n    else add(result, e);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 4204:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar aSet = __webpack_require__(7080);\nvar add = (__webpack_require__(4402).add);\nvar clone = __webpack_require__(9286);\nvar getSetRecord = __webpack_require__(3789);\nvar iterateSimple = __webpack_require__(507);\n\n// `Set.prototype.union` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function union(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n\n\n/***/ }),\n\n/***/ 6119:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar shared = __webpack_require__(5745);\nvar uid = __webpack_require__(3392);\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n\n/***/ }),\n\n/***/ 7629:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar IS_PURE = __webpack_require__(6395);\nvar globalThis = __webpack_require__(4475);\nvar defineGlobalProperty = __webpack_require__(9433);\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.37.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2024 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n\n\n/***/ }),\n\n/***/ 5745:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar store = __webpack_require__(7629);\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n\n\n/***/ }),\n\n/***/ 4495:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = __webpack_require__(7388);\nvar fails = __webpack_require__(9039);\nvar global = __webpack_require__(4475);\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n\n\n/***/ }),\n\n/***/ 5610:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIntegerOrInfinity = __webpack_require__(1291);\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n\n\n/***/ }),\n\n/***/ 5397:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = __webpack_require__(7055);\nvar requireObjectCoercible = __webpack_require__(7750);\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n\n\n/***/ }),\n\n/***/ 1291:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar trunc = __webpack_require__(741);\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n\n\n/***/ }),\n\n/***/ 8014:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toIntegerOrInfinity = __webpack_require__(1291);\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\n\n/***/ }),\n\n/***/ 8981:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar requireObjectCoercible = __webpack_require__(7750);\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n\n\n/***/ }),\n\n/***/ 2777:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar call = __webpack_require__(9565);\nvar isObject = __webpack_require__(34);\nvar isSymbol = __webpack_require__(757);\nvar getMethod = __webpack_require__(5966);\nvar ordinaryToPrimitive = __webpack_require__(4270);\nvar wellKnownSymbol = __webpack_require__(8227);\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n\n\n/***/ }),\n\n/***/ 6969:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar toPrimitive = __webpack_require__(2777);\nvar isSymbol = __webpack_require__(757);\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n\n\n/***/ }),\n\n/***/ 2140:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar wellKnownSymbol = __webpack_require__(8227);\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n\n\n/***/ }),\n\n/***/ 655:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar classof = __webpack_require__(6955);\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n\n\n/***/ }),\n\n/***/ 6823:\n/***/ ((module) => {\n\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n\n\n/***/ }),\n\n/***/ 3392:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar uncurryThis = __webpack_require__(9504);\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n\n\n/***/ }),\n\n/***/ 7040:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = __webpack_require__(4495);\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n\n\n/***/ }),\n\n/***/ 8686:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar fails = __webpack_require__(9039);\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n\n\n/***/ }),\n\n/***/ 2812:\n/***/ ((module) => {\n\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n\n\n/***/ }),\n\n/***/ 8622:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(4475);\nvar isCallable = __webpack_require__(4901);\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n\n\n/***/ }),\n\n/***/ 8227:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar global = __webpack_require__(4475);\nvar shared = __webpack_require__(5745);\nvar hasOwn = __webpack_require__(9297);\nvar uid = __webpack_require__(3392);\nvar NATIVE_SYMBOL = __webpack_require__(4495);\nvar USE_SYMBOL_AS_UID = __webpack_require__(7040);\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n\n\n/***/ }),\n\n/***/ 4114:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar toObject = __webpack_require__(8981);\nvar lengthOfArrayLike = __webpack_require__(6198);\nvar setArrayLength = __webpack_require__(4527);\nvar doesNotExceedSafeInteger = __webpack_require__(6837);\nvar fails = __webpack_require__(9039);\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n\n\n/***/ }),\n\n/***/ 4628:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar newPromiseCapabilityModule = __webpack_require__(6043);\n\n// `Promise.withResolvers` method\n// https://github.com/tc39/proposal-promise-with-resolvers\n$({ target: 'Promise', stat: true }, {\n  withResolvers: function withResolvers() {\n    var promiseCapability = newPromiseCapabilityModule.f(this);\n    return {\n      promise: promiseCapability.promise,\n      resolve: promiseCapability.resolve,\n      reject: promiseCapability.reject\n    };\n  }\n});\n\n\n/***/ }),\n\n/***/ 7642:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar difference = __webpack_require__(3440);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\n// `Set.prototype.difference` method\n// https://github.com/tc39/proposal-set-methods\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('difference') }, {\n  difference: difference\n});\n\n\n/***/ }),\n\n/***/ 8004:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar fails = __webpack_require__(9039);\nvar intersection = __webpack_require__(8750);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\nvar INCORRECT = !setMethodAcceptSetLike('intersection') || fails(function () {\n  // eslint-disable-next-line es/no-array-from, es/no-set -- testing\n  return String(Array.from(new Set([1, 2, 3]).intersection(new Set([3, 2])))) !== '3,2';\n});\n\n// `Set.prototype.intersection` method\n// https://github.com/tc39/proposal-set-methods\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  intersection: intersection\n});\n\n\n/***/ }),\n\n/***/ 3853:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar isDisjointFrom = __webpack_require__(4449);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\n// `Set.prototype.isDisjointFrom` method\n// https://github.com/tc39/proposal-set-methods\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('isDisjointFrom') }, {\n  isDisjointFrom: isDisjointFrom\n});\n\n\n/***/ }),\n\n/***/ 5876:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar isSubsetOf = __webpack_require__(3838);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\n// `Set.prototype.isSubsetOf` method\n// https://github.com/tc39/proposal-set-methods\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('isSubsetOf') }, {\n  isSubsetOf: isSubsetOf\n});\n\n\n/***/ }),\n\n/***/ 2475:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar isSupersetOf = __webpack_require__(8527);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\n// `Set.prototype.isSupersetOf` method\n// https://github.com/tc39/proposal-set-methods\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('isSupersetOf') }, {\n  isSupersetOf: isSupersetOf\n});\n\n\n/***/ }),\n\n/***/ 5024:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar symmetricDifference = __webpack_require__(3650);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\n// `Set.prototype.symmetricDifference` method\n// https://github.com/tc39/proposal-set-methods\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('symmetricDifference') }, {\n  symmetricDifference: symmetricDifference\n});\n\n\n/***/ }),\n\n/***/ 1698:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar union = __webpack_require__(4204);\nvar setMethodAcceptSetLike = __webpack_require__(4916);\n\n// `Set.prototype.union` method\n// https://github.com/tc39/proposal-set-methods\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('union') }, {\n  union: union\n});\n\n\n/***/ }),\n\n/***/ 8992:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar global = __webpack_require__(4475);\nvar anInstance = __webpack_require__(679);\nvar anObject = __webpack_require__(8551);\nvar isCallable = __webpack_require__(4901);\nvar getPrototypeOf = __webpack_require__(2787);\nvar defineBuiltInAccessor = __webpack_require__(2106);\nvar createProperty = __webpack_require__(4659);\nvar fails = __webpack_require__(9039);\nvar hasOwn = __webpack_require__(9297);\nvar wellKnownSymbol = __webpack_require__(8227);\nvar IteratorPrototype = (__webpack_require__(7657).IteratorPrototype);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar IS_PURE = __webpack_require__(6395);\n\nvar CONSTRUCTOR = 'constructor';\nvar ITERATOR = 'Iterator';\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar $TypeError = TypeError;\nvar NativeIterator = global[ITERATOR];\n\n// FF56- have non-standard global helper `Iterator`\nvar FORCED = IS_PURE\n  || !isCallable(NativeIterator)\n  || NativeIterator.prototype !== IteratorPrototype\n  // FF44- non-standard `Iterator` passes previous tests\n  || !fails(function () { NativeIterator({}); });\n\nvar IteratorConstructor = function Iterator() {\n  anInstance(this, IteratorPrototype);\n  if (getPrototypeOf(this) === IteratorPrototype) throw new $TypeError('Abstract class Iterator not directly constructable');\n};\n\nvar defineIteratorPrototypeAccessor = function (key, value) {\n  if (DESCRIPTORS) {\n    defineBuiltInAccessor(IteratorPrototype, key, {\n      configurable: true,\n      get: function () {\n        return value;\n      },\n      set: function (replacement) {\n        anObject(this);\n        if (this === IteratorPrototype) throw new $TypeError(\"You can't redefine this property\");\n        if (hasOwn(this, key)) this[key] = replacement;\n        else createProperty(this, key, replacement);\n      }\n    });\n  } else IteratorPrototype[key] = value;\n};\n\nif (!hasOwn(IteratorPrototype, TO_STRING_TAG)) defineIteratorPrototypeAccessor(TO_STRING_TAG, ITERATOR);\n\nif (FORCED || !hasOwn(IteratorPrototype, CONSTRUCTOR) || IteratorPrototype[CONSTRUCTOR] === Object) {\n  defineIteratorPrototypeAccessor(CONSTRUCTOR, IteratorConstructor);\n}\n\nIteratorConstructor.prototype = IteratorPrototype;\n\n// `Iterator` constructor\n// https://github.com/tc39/proposal-iterator-helpers\n$({ global: true, constructor: true, forced: FORCED }, {\n  Iterator: IteratorConstructor\n});\n\n\n/***/ }),\n\n/***/ 3215:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar iterate = __webpack_require__(2652);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\n\n// `Iterator.prototype.every` method\n// https://github.com/tc39/proposal-iterator-helpers\n$({ target: 'Iterator', proto: true, real: true }, {\n  every: function every(predicate) {\n    anObject(this);\n    aCallable(predicate);\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return !iterate(record, function (value, stop) {\n      if (!predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n\n\n/***/ }),\n\n/***/ 4520:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar call = __webpack_require__(9565);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\nvar createIteratorProxy = __webpack_require__(9462);\nvar callWithSafeIterationClosing = __webpack_require__(6319);\nvar IS_PURE = __webpack_require__(6395);\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var predicate = this.predicate;\n  var next = this.next;\n  var result, done, value;\n  while (true) {\n    result = anObject(call(next, iterator));\n    done = this.done = !!result.done;\n    if (done) return;\n    value = result.value;\n    if (callWithSafeIterationClosing(iterator, predicate, [value, this.counter++], true)) return value;\n  }\n});\n\n// `Iterator.prototype.filter` method\n// https://github.com/tc39/proposal-iterator-helpers\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  filter: function filter(predicate) {\n    anObject(this);\n    aCallable(predicate);\n    return new IteratorProxy(getIteratorDirect(this), {\n      predicate: predicate\n    });\n  }\n});\n\n\n/***/ }),\n\n/***/ 3949:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar iterate = __webpack_require__(2652);\nvar aCallable = __webpack_require__(9306);\nvar anObject = __webpack_require__(8551);\nvar getIteratorDirect = __webpack_require__(1767);\n\n// `Iterator.prototype.forEach` method\n// https://github.com/tc39/proposal-iterator-helpers\n$({ target: 'Iterator', proto: true, real: true }, {\n  forEach: function forEach(fn) {\n    anObject(this);\n    aCallable(fn);\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    iterate(record, function (value) {\n      fn(value, counter++);\n    }, { IS_RECORD: true });\n  }\n});\n\n\n/***/ }),\n\n/***/ 1454:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar map = __webpack_require__(713);\nvar IS_PURE = __webpack_require__(6395);\n\n// `Iterator.prototype.map` method\n// https://github.com/tc39/proposal-iterator-helpers\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  map: map\n});\n\n\n/***/ }),\n\n/***/ 8335:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar $ = __webpack_require__(6518);\nvar DESCRIPTORS = __webpack_require__(3724);\nvar global = __webpack_require__(4475);\nvar getBuiltIn = __webpack_require__(7751);\nvar uncurryThis = __webpack_require__(9504);\nvar call = __webpack_require__(9565);\nvar isCallable = __webpack_require__(4901);\nvar isObject = __webpack_require__(34);\nvar isArray = __webpack_require__(4376);\nvar hasOwn = __webpack_require__(9297);\nvar toString = __webpack_require__(655);\nvar lengthOfArrayLike = __webpack_require__(6198);\nvar createProperty = __webpack_require__(4659);\nvar fails = __webpack_require__(9039);\nvar parseJSONString = __webpack_require__(8235);\nvar NATIVE_SYMBOL = __webpack_require__(4495);\n\nvar JSON = global.JSON;\nvar Number = global.Number;\nvar SyntaxError = global.SyntaxError;\nvar nativeParse = JSON && JSON.parse;\nvar enumerableOwnProperties = getBuiltIn('Object', 'keys');\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar at = uncurryThis(''.charAt);\nvar slice = uncurryThis(''.slice);\nvar exec = uncurryThis(/./.exec);\nvar push = uncurryThis([].push);\n\nvar IS_DIGIT = /^\\d$/;\nvar IS_NON_ZERO_DIGIT = /^[1-9]$/;\nvar IS_NUMBER_START = /^(?:-|\\d)$/;\nvar IS_WHITESPACE = /^[\\t\\n\\r ]$/;\n\nvar PRIMITIVE = 0;\nvar OBJECT = 1;\n\nvar $parse = function (source, reviver) {\n  source = toString(source);\n  var context = new Context(source, 0, '');\n  var root = context.parse();\n  var value = root.value;\n  var endIndex = context.skip(IS_WHITESPACE, root.end);\n  if (endIndex < source.length) {\n    throw new SyntaxError('Unexpected extra character: \"' + at(source, endIndex) + '\" after the parsed data at: ' + endIndex);\n  }\n  return isCallable(reviver) ? internalize({ '': value }, '', reviver, root) : value;\n};\n\nvar internalize = function (holder, name, reviver, node) {\n  var val = holder[name];\n  var unmodified = node && val === node.value;\n  var context = unmodified && typeof node.source == 'string' ? { source: node.source } : {};\n  var elementRecordsLen, keys, len, i, P;\n  if (isObject(val)) {\n    var nodeIsArray = isArray(val);\n    var nodes = unmodified ? node.nodes : nodeIsArray ? [] : {};\n    if (nodeIsArray) {\n      elementRecordsLen = nodes.length;\n      len = lengthOfArrayLike(val);\n      for (i = 0; i < len; i++) {\n        internalizeProperty(val, i, internalize(val, '' + i, reviver, i < elementRecordsLen ? nodes[i] : undefined));\n      }\n    } else {\n      keys = enumerableOwnProperties(val);\n      len = lengthOfArrayLike(keys);\n      for (i = 0; i < len; i++) {\n        P = keys[i];\n        internalizeProperty(val, P, internalize(val, P, reviver, hasOwn(nodes, P) ? nodes[P] : undefined));\n      }\n    }\n  }\n  return call(reviver, holder, name, val, context);\n};\n\nvar internalizeProperty = function (object, key, value) {\n  if (DESCRIPTORS) {\n    var descriptor = getOwnPropertyDescriptor(object, key);\n    if (descriptor && !descriptor.configurable) return;\n  }\n  if (value === undefined) delete object[key];\n  else createProperty(object, key, value);\n};\n\nvar Node = function (value, end, source, nodes) {\n  this.value = value;\n  this.end = end;\n  this.source = source;\n  this.nodes = nodes;\n};\n\nvar Context = function (source, index) {\n  this.source = source;\n  this.index = index;\n};\n\n// https://www.json.org/json-en.html\nContext.prototype = {\n  fork: function (nextIndex) {\n    return new Context(this.source, nextIndex);\n  },\n  parse: function () {\n    var source = this.source;\n    var i = this.skip(IS_WHITESPACE, this.index);\n    var fork = this.fork(i);\n    var chr = at(source, i);\n    if (exec(IS_NUMBER_START, chr)) return fork.number();\n    switch (chr) {\n      case '{':\n        return fork.object();\n      case '[':\n        return fork.array();\n      case '\"':\n        return fork.string();\n      case 't':\n        return fork.keyword(true);\n      case 'f':\n        return fork.keyword(false);\n      case 'n':\n        return fork.keyword(null);\n    } throw new SyntaxError('Unexpected character: \"' + chr + '\" at: ' + i);\n  },\n  node: function (type, value, start, end, nodes) {\n    return new Node(value, end, type ? null : slice(this.source, start, end), nodes);\n  },\n  object: function () {\n    var source = this.source;\n    var i = this.index + 1;\n    var expectKeypair = false;\n    var object = {};\n    var nodes = {};\n    while (i < source.length) {\n      i = this.until(['\"', '}'], i);\n      if (at(source, i) === '}' && !expectKeypair) {\n        i++;\n        break;\n      }\n      // Parsing the key\n      var result = this.fork(i).string();\n      var key = result.value;\n      i = result.end;\n      i = this.until([':'], i) + 1;\n      // Parsing value\n      i = this.skip(IS_WHITESPACE, i);\n      result = this.fork(i).parse();\n      createProperty(nodes, key, result);\n      createProperty(object, key, result.value);\n      i = this.until([',', '}'], result.end);\n      var chr = at(source, i);\n      if (chr === ',') {\n        expectKeypair = true;\n        i++;\n      } else if (chr === '}') {\n        i++;\n        break;\n      }\n    }\n    return this.node(OBJECT, object, this.index, i, nodes);\n  },\n  array: function () {\n    var source = this.source;\n    var i = this.index + 1;\n    var expectElement = false;\n    var array = [];\n    var nodes = [];\n    while (i < source.length) {\n      i = this.skip(IS_WHITESPACE, i);\n      if (at(source, i) === ']' && !expectElement) {\n        i++;\n        break;\n      }\n      var result = this.fork(i).parse();\n      push(nodes, result);\n      push(array, result.value);\n      i = this.until([',', ']'], result.end);\n      if (at(source, i) === ',') {\n        expectElement = true;\n        i++;\n      } else if (at(source, i) === ']') {\n        i++;\n        break;\n      }\n    }\n    return this.node(OBJECT, array, this.index, i, nodes);\n  },\n  string: function () {\n    var index = this.index;\n    var parsed = parseJSONString(this.source, this.index + 1);\n    return this.node(PRIMITIVE, parsed.value, index, parsed.end);\n  },\n  number: function () {\n    var source = this.source;\n    var startIndex = this.index;\n    var i = startIndex;\n    if (at(source, i) === '-') i++;\n    if (at(source, i) === '0') i++;\n    else if (exec(IS_NON_ZERO_DIGIT, at(source, i))) i = this.skip(IS_DIGIT, ++i);\n    else throw new SyntaxError('Failed to parse number at: ' + i);\n    if (at(source, i) === '.') i = this.skip(IS_DIGIT, ++i);\n    if (at(source, i) === 'e' || at(source, i) === 'E') {\n      i++;\n      if (at(source, i) === '+' || at(source, i) === '-') i++;\n      var exponentStartIndex = i;\n      i = this.skip(IS_DIGIT, i);\n      if (exponentStartIndex === i) throw new SyntaxError(\"Failed to parse number's exponent value at: \" + i);\n    }\n    return this.node(PRIMITIVE, Number(slice(source, startIndex, i)), startIndex, i);\n  },\n  keyword: function (value) {\n    var keyword = '' + value;\n    var index = this.index;\n    var endIndex = index + keyword.length;\n    if (slice(this.source, index, endIndex) !== keyword) throw new SyntaxError('Failed to parse value at: ' + index);\n    return this.node(PRIMITIVE, value, index, endIndex);\n  },\n  skip: function (regex, i) {\n    var source = this.source;\n    for (; i < source.length; i++) if (!exec(regex, at(source, i))) break;\n    return i;\n  },\n  until: function (array, i) {\n    i = this.skip(IS_WHITESPACE, i);\n    var chr = at(this.source, i);\n    for (var j = 0; j < array.length; j++) if (array[j] === chr) return i;\n    throw new SyntaxError('Unexpected character: \"' + chr + '\" at: ' + i);\n  }\n};\n\nvar NO_SOURCE_SUPPORT = fails(function () {\n  var unsafeInt = '9007199254740993';\n  var source;\n  nativeParse(unsafeInt, function (key, value, context) {\n    source = context.source;\n  });\n  return source !== unsafeInt;\n});\n\nvar PROPER_BASE_PARSE = NATIVE_SYMBOL && !fails(function () {\n  // Safari 9 bug\n  return 1 / nativeParse('-0 \\t') !== -Infinity;\n});\n\n// `JSON.parse` method\n// https://tc39.es/ecma262/#sec-json.parse\n// https://github.com/tc39/proposal-json-parse-with-source\n$({ target: 'JSON', stat: true, forced: NO_SOURCE_SUPPORT }, {\n  parse: function parse(text, reviver) {\n    return PROPER_BASE_PARSE && !isCallable(reviver) ? nativeParse(text) : $parse(text, reviver);\n  }\n});\n\n\n/***/ }),\n\n/***/ 3375:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(7642);\n\n\n/***/ }),\n\n/***/ 9225:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(8004);\n\n\n/***/ }),\n\n/***/ 3972:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(3853);\n\n\n/***/ }),\n\n/***/ 9209:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(5876);\n\n\n/***/ }),\n\n/***/ 5714:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(2475);\n\n\n/***/ }),\n\n/***/ 7561:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(5024);\n\n\n/***/ }),\n\n/***/ 6197:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\n// TODO: Remove from `core-js@4`\n__webpack_require__(1698);\n\n\n/***/ }),\n\n/***/ 4603:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar defineBuiltIn = __webpack_require__(6840);\nvar uncurryThis = __webpack_require__(9504);\nvar toString = __webpack_require__(655);\nvar validateArgumentsLength = __webpack_require__(2812);\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2&b=3');\n\nparams['delete']('a', 1);\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nparams['delete']('b', undefined);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n\n\n/***/ }),\n\n/***/ 7566:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar defineBuiltIn = __webpack_require__(6840);\nvar uncurryThis = __webpack_require__(9504);\nvar toString = __webpack_require__(655);\nvar validateArgumentsLength = __webpack_require__(2812);\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nif (params.has('a', 2) || !params.has('a', undefined)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n\n\n/***/ }),\n\n/***/ 8721:\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\n\nvar DESCRIPTORS = __webpack_require__(3724);\nvar uncurryThis = __webpack_require__(9504);\nvar defineBuiltInAccessor = __webpack_require__(2106);\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t// no module.id needed\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = globalThis.pdfjsViewer = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayerBuilder: () => (/* reexport */ AnnotationLayerBuilder),\n  DownloadManager: () => (/* reexport */ DownloadManager),\n  EventBus: () => (/* reexport */ EventBus),\n  FindState: () => (/* reexport */ FindState),\n  GenericL10n: () => (/* reexport */ genericl10n_GenericL10n),\n  LinkTarget: () => (/* reexport */ LinkTarget),\n  PDFFindController: () => (/* reexport */ PDFFindController),\n  PDFHistory: () => (/* reexport */ PDFHistory),\n  PDFLinkService: () => (/* reexport */ PDFLinkService),\n  PDFPageView: () => (/* reexport */ PDFPageView),\n  PDFScriptingManager: () => (/* reexport */ PDFScriptingManagerComponents),\n  PDFSinglePageViewer: () => (/* reexport */ PDFSinglePageViewer),\n  PDFViewer: () => (/* reexport */ PDFViewer),\n  ProgressBar: () => (/* reexport */ ProgressBar),\n  RenderingStates: () => (/* reexport */ RenderingStates),\n  ScrollMode: () => (/* reexport */ ScrollMode),\n  SimpleLinkService: () => (/* reexport */ SimpleLinkService),\n  SpreadMode: () => (/* reexport */ SpreadMode),\n  StructTreeLayerBuilder: () => (/* reexport */ StructTreeLayerBuilder),\n  TextLayerBuilder: () => (/* reexport */ TextLayerBuilder),\n  XfaLayerBuilder: () => (/* reexport */ XfaLayerBuilder),\n  parseQueryString: () => (/* reexport */ parseQueryString)\n});\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js\nvar es_array_push = __webpack_require__(4114);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.with-resolvers.js\nvar es_promise_with_resolvers = __webpack_require__(4628);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.constructor.js\nvar esnext_iterator_constructor = __webpack_require__(8992);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.filter.js\nvar esnext_iterator_filter = __webpack_require__(4520);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.map.js\nvar esnext_iterator_map = __webpack_require__(1454);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.set.difference.v2.js\nvar esnext_set_difference_v2 = __webpack_require__(3375);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.set.intersection.v2.js\nvar esnext_set_intersection_v2 = __webpack_require__(9225);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.set.is-disjoint-from.v2.js\nvar esnext_set_is_disjoint_from_v2 = __webpack_require__(3972);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.set.is-subset-of.v2.js\nvar esnext_set_is_subset_of_v2 = __webpack_require__(9209);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.set.is-superset-of.v2.js\nvar esnext_set_is_superset_of_v2 = __webpack_require__(5714);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.set.symmetric-difference.v2.js\nvar esnext_set_symmetric_difference_v2 = __webpack_require__(7561);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.set.union.v2.js\nvar esnext_set_union_v2 = __webpack_require__(6197);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.delete.js\nvar web_url_search_params_delete = __webpack_require__(4603);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.has.js\nvar web_url_search_params_has = __webpack_require__(7566);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.size.js\nvar web_url_search_params_size = __webpack_require__(8721);\n;// CONCATENATED MODULE: ./web/ui_utils.js\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_SCALE_VALUE = \"auto\";\nconst DEFAULT_SCALE = 1.0;\nconst DEFAULT_SCALE_DELTA = 1.1;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10.0;\nconst UNKNOWN_SCALE = 0;\nconst MAX_AUTO_SCALE = 1.25;\nconst SCROLLBAR_PADDING = 40;\nconst VERTICAL_PADDING = 5;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nconst SidebarView = {\n  UNKNOWN: -1,\n  NONE: 0,\n  THUMBS: 1,\n  OUTLINE: 2,\n  ATTACHMENTS: 3,\n  LAYERS: 4\n};\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_PERMISSIONS: 2\n};\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2,\n  PAGE: 3\n};\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nconst CursorTool = {\n  SELECT: 0,\n  HAND: 1,\n  ZOOM: 2\n};\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n}\nfunction scrollIntoView(element, spot, scrollMatches = false) {\n  let parent = element.offsetParent;\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return;\n    }\n  }\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\nfunction watchScroll(viewAreaElement, callback, abortSignal = undefined) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, {\n    useCapture: true,\n    signal: abortSignal\n  });\n  abortSignal?.addEventListener(\"abort\", () => window.cancelAnimationFrame(rAF), {\n    once: true\n  });\n  return state;\n}\nfunction parseQueryString(query) {\n  const params = new Map();\n  for (const [key, value] of new URLSearchParams(query)) {\n    params.set(key.toLowerCase(), value);\n  }\n  return params;\n}\nconst InvisibleCharsRegExp = /[\\x00-\\x1F]/g;\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (!InvisibleCharsRegExp.test(str)) {\n    return str;\n  }\n  if (replaceInvisible) {\n    return str.replaceAll(InvisibleCharsRegExp, m => m === \"\\x00\" ? \"\" : \" \");\n  }\n  return str.replaceAll(\"\\x00\", \"\");\n}\nfunction binarySearchFirstItem(items, condition, start = 0) {\n  let minIndex = start;\n  let maxIndex = items.length - 1;\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex;\n}\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n    b = 1,\n    c = 1,\n    d = 1;\n  while (true) {\n    const p = a + c,\n      q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n  let result;\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\nfunction floorToDivide(x, div) {\n  return x - x % div;\n}\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n    index = i;\n  }\n  return index;\n}\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop,\n    bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n    right = left + scrollEl.clientWidth;\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n  const visible = [],\n    ids = new Set(),\n    numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n  let lastEdge = horizontal ? right : -1;\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n      element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n      viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight,\n      fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n    ids.add(view.id);\n  }\n  const first = visible[0],\n    last = visible.at(-1);\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n      return a.id - b.id;\n    });\n  }\n  return {\n    first,\n    last,\n    views: visible,\n    ids\n  };\n}\nfunction normalizeWheelEventDirection(evt) {\n  let delta = Math.hypot(evt.deltaX, evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n  return delta;\n}\nfunction normalizeWheelEventDelta(evt) {\n  const deltaMode = evt.deltaMode;\n  let delta = normalizeWheelEventDirection(evt);\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n  if (deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (deltaMode === WheelEvent.DOM_DELTA_LINE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n  return delta;\n}\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nconst docStyle = document.documentElement.style;\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nclass ProgressBar {\n  #classList = null;\n  #disableAutoFetchTimeout = null;\n  #percent = 0;\n  #style = null;\n  #visible = true;\n  constructor(bar) {\n    this.#classList = bar.classList;\n    this.#style = bar.style;\n  }\n  get percent() {\n    return this.#percent;\n  }\n  set percent(val) {\n    this.#percent = clamp(val, 0, 100);\n    if (isNaN(val)) {\n      this.#classList.add(\"indeterminate\");\n      return;\n    }\n    this.#classList.remove(\"indeterminate\");\n    this.#style.setProperty(\"--progressBar-percent\", `${this.#percent}%`);\n  }\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n    if (scrollbarWidth > 0) {\n      this.#style.setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n    }\n  }\n  setDisableAutoFetch(delay = 5000) {\n    if (this.#percent === 100 || isNaN(this.#percent)) {\n      return;\n    }\n    if (this.#disableAutoFetchTimeout) {\n      clearTimeout(this.#disableAutoFetchTimeout);\n    }\n    this.show();\n    this.#disableAutoFetchTimeout = setTimeout(() => {\n      this.#disableAutoFetchTimeout = null;\n      this.hide();\n    }, delay);\n  }\n  hide() {\n    if (!this.#visible) {\n      return;\n    }\n    this.#visible = false;\n    this.#classList.add(\"hidden\");\n  }\n  show() {\n    if (this.#visible) {\n      return;\n    }\n    this.#visible = true;\n    this.#classList.remove(\"hidden\");\n  }\n}\nfunction getActiveOrFocusedElement() {\n  let curRoot = document;\n  let curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  while (curActiveOrFocused?.shadowRoot) {\n    curRoot = curActiveOrFocused.shadowRoot;\n    curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  }\n  return curActiveOrFocused;\n}\nfunction apiPageLayoutToViewerModes(layout) {\n  let scrollMode = ScrollMode.VERTICAL,\n    spreadMode = SpreadMode.NONE;\n  switch (layout) {\n    case \"SinglePage\":\n      scrollMode = ScrollMode.PAGE;\n      break;\n    case \"OneColumn\":\n      break;\n    case \"TwoPageLeft\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnLeft\":\n      spreadMode = SpreadMode.ODD;\n      break;\n    case \"TwoPageRight\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnRight\":\n      spreadMode = SpreadMode.EVEN;\n      break;\n  }\n  return {\n    scrollMode,\n    spreadMode\n  };\n}\nfunction apiPageModeToSidebarView(mode) {\n  switch (mode) {\n    case \"UseNone\":\n      return SidebarView.NONE;\n    case \"UseThumbs\":\n      return SidebarView.THUMBS;\n    case \"UseOutlines\":\n      return SidebarView.OUTLINE;\n    case \"UseAttachments\":\n      return SidebarView.ATTACHMENTS;\n    case \"UseOC\":\n      return SidebarView.LAYERS;\n  }\n  return SidebarView.NONE;\n}\nfunction toggleCheckedBtn(button, toggle, view = null) {\n  button.classList.toggle(\"toggled\", toggle);\n  button.setAttribute(\"aria-checked\", toggle);\n  view?.classList.toggle(\"hidden\", !toggle);\n}\nfunction toggleExpandedBtn(button, toggle, view = null) {\n  button.classList.toggle(\"toggled\", toggle);\n  button.setAttribute(\"aria-expanded\", toggle);\n  view?.classList.toggle(\"hidden\", !toggle);\n}\n\n;// CONCATENATED MODULE: ./web/pdf_find_utils.js\n\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 0x2e80;\n}\nfunction isAscii(charCode) {\n  return (charCode & 0xff80) === 0;\n}\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 0x61 && charCode <= 0x7a || charCode >= 0x41 && charCode <= 0x5a;\n}\nfunction isAsciiDigit(charCode) {\n  return charCode >= 0x30 && charCode <= 0x39;\n}\nfunction isAsciiSpace(charCode) {\n  return charCode === 0x20 || charCode === 0x09 || charCode === 0x0d || charCode === 0x0a;\n}\nfunction isHan(charCode) {\n  return charCode >= 0x3400 && charCode <= 0x9fff || charCode >= 0xf900 && charCode <= 0xfaff;\n}\nfunction isKatakana(charCode) {\n  return charCode >= 0x30a0 && charCode <= 0x30ff;\n}\nfunction isHiragana(charCode) {\n  return charCode >= 0x3040 && charCode <= 0x309f;\n}\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 0xff60 && charCode <= 0xff9f;\n}\nfunction isThai(charCode) {\n  return (charCode & 0xff80) === 0x0e00;\n}\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 0x5f) {\n        return CharacterType.ALPHA_LETTER;\n      }\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 0xa0) {\n      return CharacterType.SPACE;\n    }\n    return CharacterType.ALPHA_LETTER;\n  }\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n  return CharacterType.ALPHA_LETTER;\n}\nlet NormalizeWithNFKC;\nfunction getNormalizeWithNFKC() {\n  NormalizeWithNFKC ||= ` ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦`;\n  return NormalizeWithNFKC;\n}\n\n;// CONCATENATED MODULE: ./web/pdf_find_controller.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"\\u2010\": \"-\",\n  \"\\u2018\": \"'\",\n  \"\\u2019\": \"'\",\n  \"\\u201A\": \"'\",\n  \"\\u201B\": \"'\",\n  \"\\u201C\": '\"',\n  \"\\u201D\": '\"',\n  \"\\u201E\": '\"',\n  \"\\u201F\": '\"',\n  \"\\u00BC\": \"1/4\",\n  \"\\u00BD\": \"1/2\",\n  \"\\u00BE\": \"3/4\"\n};\nconst DIACRITICS_EXCEPTION = new Set([0x3099, 0x309a, 0x094d, 0x09cd, 0x0a4d, 0x0acd, 0x0b4d, 0x0bcd, 0x0c4d, 0x0ccd, 0x0d3b, 0x0d3c, 0x0d4d, 0x0dca, 0x0e3a, 0x0eba, 0x0f84, 0x1039, 0x103a, 0x1714, 0x1734, 0x17d2, 0x1a60, 0x1b44, 0x1baa, 0x1bab, 0x1bf2, 0x1bf3, 0x2d7f, 0xa806, 0xa82c, 0xa8c4, 0xa953, 0xa9c0, 0xaaf6, 0xabed, 0x0c56, 0x0f71, 0x0f72, 0x0f7a, 0x0f7b, 0x0f7c, 0x0f7d, 0x0f80, 0x0f74]);\nlet DIACRITICS_EXCEPTION_STR;\nconst DIACRITICS_REG_EXP = /\\p{M}+/gu;\nconst SPECIAL_CHARS_REG_EXP = /([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})/gu;\nconst NOT_DIACRITIC_FROM_END_REG_EXP = /([^\\p{M}])\\p{M}*$/u;\nconst NOT_DIACRITIC_FROM_START_REG_EXP = /^\\p{M}*([^\\p{M}])/u;\nconst SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\nconst SYLLABLES_LENGTHS = new Map();\nconst FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\nconst NFKC_CHARS_TO_NORMALIZE = new Map();\nlet noSyllablesRegExp = null;\nlet withSyllablesRegExp = null;\nfunction normalize(text) {\n  const syllablePositions = [];\n  let m;\n  while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n    let {\n      index\n    } = m;\n    for (const char of m[0]) {\n      let len = SYLLABLES_LENGTHS.get(char);\n      if (!len) {\n        len = char.normalize(\"NFD\").length;\n        SYLLABLES_LENGTHS.set(char, len);\n      }\n      syllablePositions.push([len, index++]);\n    }\n  }\n  let normalizationRegex;\n  if (syllablePositions.length === 0 && noSyllablesRegExp) {\n    normalizationRegex = noSyllablesRegExp;\n  } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n    normalizationRegex = withSyllablesRegExp;\n  } else {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    const toNormalizeWithNFKC = getNormalizeWithNFKC();\n    const CJK = \"(?:\\\\p{Ideographic}|[\\u3040-\\u30FF])\";\n    const HKDiacritics = \"(?:\\u3099|\\u309A)\";\n    const regexp = `([${replace}])|([${toNormalizeWithNFKC}])|(${HKDiacritics}\\\\n)|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(${CJK}\\\\n)|(\\\\n)`;\n    if (syllablePositions.length === 0) {\n      normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n    } else {\n      normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n    }\n  }\n  const rawDiacriticsPositions = [];\n  while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n    rawDiacriticsPositions.push([m[0].length, m.index]);\n  }\n  let normalized = text.normalize(\"NFD\");\n  const positions = [[0, 0]];\n  let rawDiacriticsIndex = 0;\n  let syllableIndex = 0;\n  let shift = 0;\n  let shiftOrigin = 0;\n  let eol = 0;\n  let hasDiacritics = false;\n  normalized = normalized.replace(normalizationRegex, (match, p1, p2, p3, p4, p5, p6, p7, p8, i) => {\n    i -= shiftOrigin;\n    if (p1) {\n      const replacement = CHARACTERS_TO_NORMALIZE[p1];\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p2) {\n      let replacement = NFKC_CHARS_TO_NORMALIZE.get(p2);\n      if (!replacement) {\n        replacement = p2.normalize(\"NFKC\");\n        NFKC_CHARS_TO_NORMALIZE.set(p2, replacement);\n      }\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p3) {\n      hasDiacritics = true;\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        ++rawDiacriticsIndex;\n      } else {\n        positions.push([i - 1 - shift + 1, shift - 1]);\n        shift -= 1;\n        shiftOrigin += 1;\n      }\n      positions.push([i - shift + 1, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p3.charAt(0);\n    }\n    if (p4) {\n      const hasTrailingDashEOL = p4.endsWith(\"\\n\");\n      const len = hasTrailingDashEOL ? p4.length - 2 : p4.length;\n      hasDiacritics = true;\n      let jj = len;\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n        ++rawDiacriticsIndex;\n      }\n      for (let j = 1; j <= jj; j++) {\n        positions.push([i - 1 - shift + j, shift - j]);\n      }\n      shift -= jj;\n      shiftOrigin += jj;\n      if (hasTrailingDashEOL) {\n        i += len - 1;\n        positions.push([i - shift + 1, 1 + shift]);\n        shift += 1;\n        shiftOrigin += 1;\n        eol += 1;\n        return p4.slice(0, len);\n      }\n      return p4;\n    }\n    if (p5) {\n      const len = p5.length - 2;\n      positions.push([i - shift + len, 1 + shift]);\n      shift += 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return p5.slice(0, -2);\n    }\n    if (p6) {\n      const len = p6.length - 1;\n      positions.push([i - shift + len, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p6.slice(0, -1);\n    }\n    if (p7) {\n      positions.push([i - shift + 1, shift - 1]);\n      shift -= 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return \" \";\n    }\n    if (i + eol === syllablePositions[syllableIndex]?.[1]) {\n      const newCharLen = syllablePositions[syllableIndex][0] - 1;\n      ++syllableIndex;\n      for (let j = 1; j <= newCharLen; j++) {\n        positions.push([i - (shift - j), shift - j]);\n      }\n      shift -= newCharLen;\n      shiftOrigin += newCharLen;\n    }\n    return p8;\n  });\n  positions.push([normalized.length, shift]);\n  return [normalized, positions, hasDiacritics];\n}\nfunction getOriginalIndex(diffs, pos, len) {\n  if (!diffs) {\n    return [pos, len];\n  }\n  const start = pos;\n  const end = pos + len - 1;\n  let i = binarySearchFirstItem(diffs, x => x[0] >= start);\n  if (diffs[i][0] > start) {\n    --i;\n  }\n  let j = binarySearchFirstItem(diffs, x => x[0] >= end, i);\n  if (diffs[j][0] > end) {\n    --j;\n  }\n  const oldStart = start + diffs[i][1];\n  const oldEnd = end + diffs[j][1];\n  const oldLen = oldEnd + 1 - oldStart;\n  return [oldStart, oldLen];\n}\nclass PDFFindController {\n  #state = null;\n  #updateMatchesCountOnProgress = true;\n  #visitedPagesCount = 0;\n  constructor({\n    linkService,\n    eventBus,\n    updateMatchesCountOnProgress = true\n  }) {\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n    this.#updateMatchesCountOnProgress = updateMatchesCountOnProgress;\n    this.onIsPageVisible = null;\n    this.#reset();\n    eventBus._on(\"find\", this.#onFind.bind(this));\n    eventBus._on(\"findbarclose\", this.#onFindBarClose.bind(this));\n  }\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n  get pageMatches() {\n    return this._pageMatches;\n  }\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n  get selected() {\n    return this._selected;\n  }\n  get state() {\n    return this.#state;\n  }\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      this.#reset();\n    }\n    if (!pdfDocument) {\n      return;\n    }\n    this._pdfDocument = pdfDocument;\n    this._firstPageCapability.resolve();\n  }\n  #onFind(state) {\n    if (!state) {\n      return;\n    }\n    const pdfDocument = this._pdfDocument;\n    const {\n      type\n    } = state;\n    if (this.#state === null || this.#shouldDirtyMatch(state)) {\n      this._dirtyMatch = true;\n    }\n    this.#state = state;\n    if (type !== \"highlightallchange\") {\n      this.#updateUIState(FindState.PENDING);\n    }\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n      this.#extractText();\n      const findbarClosed = !this._highlightMatches;\n      const pendingTimeout = !!this._findTimeout;\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n      if (!type) {\n        this._findTimeout = setTimeout(() => {\n          this.#nextMatch();\n          this._findTimeout = null;\n        }, FIND_TIMEOUT);\n      } else if (this._dirtyMatch) {\n        this.#nextMatch();\n      } else if (type === \"again\") {\n        this.#nextMatch();\n        if (findbarClosed && this.#state.highlightAll) {\n          this.#updateAllPages();\n        }\n      } else if (type === \"highlightallchange\") {\n        if (pendingTimeout) {\n          this.#nextMatch();\n        } else {\n          this._highlightMatches = true;\n        }\n        this.#updateAllPages();\n      } else {\n        this.#nextMatch();\n      }\n    });\n  }\n  scrollMatchIntoView({\n    element = null,\n    selectedLeft = 0,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n    };\n    scrollIntoView(element, spot, true);\n  }\n  #reset() {\n    this._highlightMatches = false;\n    this._scrollMatches = false;\n    this._pdfDocument = null;\n    this._pageMatches = [];\n    this._pageMatchesLength = [];\n    this.#visitedPagesCount = 0;\n    this.#state = null;\n    this._selected = {\n      pageIdx: -1,\n      matchIdx: -1\n    };\n    this._offset = {\n      pageIdx: null,\n      matchIdx: null,\n      wrapped: false\n    };\n    this._extractTextPromises = [];\n    this._pageContents = [];\n    this._pageDiffs = [];\n    this._hasDiacritics = [];\n    this._matchesCountTotal = 0;\n    this._pagesToSearch = null;\n    this._pendingFindMatches = new Set();\n    this._resumePageIdx = null;\n    this._dirtyMatch = false;\n    clearTimeout(this._findTimeout);\n    this._findTimeout = null;\n    this._firstPageCapability = Promise.withResolvers();\n  }\n  get #query() {\n    const {\n      query\n    } = this.#state;\n    if (typeof query === \"string\") {\n      if (query !== this._rawQuery) {\n        this._rawQuery = query;\n        [this._normalizedQuery] = normalize(query);\n      }\n      return this._normalizedQuery;\n    }\n    return (query || []).filter(q => !!q).map(q => normalize(q)[0]);\n  }\n  #shouldDirtyMatch(state) {\n    const newQuery = state.query,\n      prevQuery = this.#state.query;\n    const newType = typeof newQuery,\n      prevType = typeof prevQuery;\n    if (newType !== prevType) {\n      return true;\n    }\n    if (newType === \"string\") {\n      if (newQuery !== prevQuery) {\n        return true;\n      }\n    } else if (JSON.stringify(newQuery) !== JSON.stringify(prevQuery)) {\n      return true;\n    }\n    switch (state.type) {\n      case \"again\":\n        const pageNumber = this._selected.pageIdx + 1;\n        const linkService = this._linkService;\n        return pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !(this.onIsPageVisible?.(pageNumber) ?? true);\n      case \"highlightallchange\":\n        return false;\n    }\n    return true;\n  }\n  #isEntireWord(content, startIdx, length) {\n    let match = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n    if (match) {\n      const first = content.charCodeAt(startIdx);\n      const limit = match[1].charCodeAt(0);\n      if (getCharacterType(first) === getCharacterType(limit)) {\n        return false;\n      }\n    }\n    match = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n    if (match) {\n      const last = content.charCodeAt(startIdx + length - 1);\n      const limit = match[1].charCodeAt(0);\n      if (getCharacterType(last) === getCharacterType(limit)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  #calculateRegExpMatch(query, entireWord, pageIndex, pageContent) {\n    const matches = this._pageMatches[pageIndex] = [];\n    const matchesLength = this._pageMatchesLength[pageIndex] = [];\n    if (!query) {\n      return;\n    }\n    const diffs = this._pageDiffs[pageIndex];\n    let match;\n    while ((match = query.exec(pageContent)) !== null) {\n      if (entireWord && !this.#isEntireWord(pageContent, match.index, match[0].length)) {\n        continue;\n      }\n      const [matchPos, matchLen] = getOriginalIndex(diffs, match.index, match[0].length);\n      if (matchLen) {\n        matches.push(matchPos);\n        matchesLength.push(matchLen);\n      }\n    }\n  }\n  #convertToRegExpString(query, hasDiacritics) {\n    const {\n      matchDiacritics\n    } = this.#state;\n    let isUnicode = false;\n    query = query.replaceAll(SPECIAL_CHARS_REG_EXP, (match, p1, p2, p3, p4, p5) => {\n      if (p1) {\n        return `[ ]*\\\\${p1}[ ]*`;\n      }\n      if (p2) {\n        return `[ ]*${p2}[ ]*`;\n      }\n      if (p3) {\n        return \"[ ]+\";\n      }\n      if (matchDiacritics) {\n        return p4 || p5;\n      }\n      if (p4) {\n        return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n      }\n      if (hasDiacritics) {\n        isUnicode = true;\n        return `${p5}\\\\p{M}*`;\n      }\n      return p5;\n    });\n    const trailingSpaces = \"[ ]*\";\n    if (query.endsWith(trailingSpaces)) {\n      query = query.slice(0, query.length - trailingSpaces.length);\n    }\n    if (matchDiacritics) {\n      if (hasDiacritics) {\n        DIACRITICS_EXCEPTION_STR ||= String.fromCharCode(...DIACRITICS_EXCEPTION);\n        isUnicode = true;\n        query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n      }\n    }\n    return [isUnicode, query];\n  }\n  #calculateMatch(pageIndex) {\n    let query = this.#query;\n    if (query.length === 0) {\n      return;\n    }\n    const {\n      caseSensitive,\n      entireWord\n    } = this.#state;\n    const pageContent = this._pageContents[pageIndex];\n    const hasDiacritics = this._hasDiacritics[pageIndex];\n    let isUnicode = false;\n    if (typeof query === \"string\") {\n      [isUnicode, query] = this.#convertToRegExpString(query, hasDiacritics);\n    } else {\n      query = query.sort().reverse().map(q => {\n        const [isUnicodePart, queryPart] = this.#convertToRegExpString(q, hasDiacritics);\n        isUnicode ||= isUnicodePart;\n        return `(${queryPart})`;\n      }).join(\"|\");\n    }\n    const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n    query = query ? new RegExp(query, flags) : null;\n    this.#calculateRegExpMatch(query, entireWord, pageIndex, pageContent);\n    if (this.#state.highlightAll) {\n      this.#updatePage(pageIndex);\n    }\n    if (this._resumePageIdx === pageIndex) {\n      this._resumePageIdx = null;\n      this.#nextPageMatch();\n    }\n    const pageMatchesCount = this._pageMatches[pageIndex].length;\n    this._matchesCountTotal += pageMatchesCount;\n    if (this.#updateMatchesCountOnProgress) {\n      if (pageMatchesCount > 0) {\n        this.#updateUIResultsCount();\n      }\n    } else if (++this.#visitedPagesCount === this._linkService.pagesCount) {\n      this.#updateUIResultsCount();\n    }\n  }\n  #extractText() {\n    if (this._extractTextPromises.length > 0) {\n      return;\n    }\n    let deferred = Promise.resolve();\n    const textOptions = {\n      disableNormalization: true\n    };\n    for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n      const {\n        promise,\n        resolve\n      } = Promise.withResolvers();\n      this._extractTextPromises[i] = promise;\n      deferred = deferred.then(() => {\n        return this._pdfDocument.getPage(i + 1).then(pdfPage => pdfPage.getTextContent(textOptions)).then(textContent => {\n          const strBuf = [];\n          for (const textItem of textContent.items) {\n            strBuf.push(textItem.str);\n            if (textItem.hasEOL) {\n              strBuf.push(\"\\n\");\n            }\n          }\n          [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n          resolve();\n        }, reason => {\n          console.error(`Unable to get text content for page ${i + 1}`, reason);\n          this._pageContents[i] = \"\";\n          this._pageDiffs[i] = null;\n          this._hasDiacritics[i] = false;\n          resolve();\n        });\n      });\n    }\n  }\n  #updatePage(index) {\n    if (this._scrollMatches && this._selected.pageIdx === index) {\n      this._linkService.page = index + 1;\n    }\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: index\n    });\n  }\n  #updateAllPages() {\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: -1\n    });\n  }\n  #nextMatch() {\n    const previous = this.#state.findPrevious;\n    const currentPageIndex = this._linkService.page - 1;\n    const numPages = this._linkService.pagesCount;\n    this._highlightMatches = true;\n    if (this._dirtyMatch) {\n      this._dirtyMatch = false;\n      this._selected.pageIdx = this._selected.matchIdx = -1;\n      this._offset.pageIdx = currentPageIndex;\n      this._offset.matchIdx = null;\n      this._offset.wrapped = false;\n      this._resumePageIdx = null;\n      this._pageMatches.length = 0;\n      this._pageMatchesLength.length = 0;\n      this.#visitedPagesCount = 0;\n      this._matchesCountTotal = 0;\n      this.#updateAllPages();\n      for (let i = 0; i < numPages; i++) {\n        if (this._pendingFindMatches.has(i)) {\n          continue;\n        }\n        this._pendingFindMatches.add(i);\n        this._extractTextPromises[i].then(() => {\n          this._pendingFindMatches.delete(i);\n          this.#calculateMatch(i);\n        });\n      }\n    }\n    const query = this.#query;\n    if (query.length === 0) {\n      this.#updateUIState(FindState.FOUND);\n      return;\n    }\n    if (this._resumePageIdx) {\n      return;\n    }\n    const offset = this._offset;\n    this._pagesToSearch = numPages;\n    if (offset.matchIdx !== null) {\n      const numPageMatches = this._pageMatches[offset.pageIdx].length;\n      if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n        offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n        this.#updateMatch(true);\n        return;\n      }\n      this.#advanceOffsetPage(previous);\n    }\n    this.#nextPageMatch();\n  }\n  #matchesReady(matches) {\n    const offset = this._offset;\n    const numMatches = matches.length;\n    const previous = this.#state.findPrevious;\n    if (numMatches) {\n      offset.matchIdx = previous ? numMatches - 1 : 0;\n      this.#updateMatch(true);\n      return true;\n    }\n    this.#advanceOffsetPage(previous);\n    if (offset.wrapped) {\n      offset.matchIdx = null;\n      if (this._pagesToSearch < 0) {\n        this.#updateMatch(false);\n        return true;\n      }\n    }\n    return false;\n  }\n  #nextPageMatch() {\n    if (this._resumePageIdx !== null) {\n      console.error(\"There can only be one pending page.\");\n    }\n    let matches = null;\n    do {\n      const pageIdx = this._offset.pageIdx;\n      matches = this._pageMatches[pageIdx];\n      if (!matches) {\n        this._resumePageIdx = pageIdx;\n        break;\n      }\n    } while (!this.#matchesReady(matches));\n  }\n  #advanceOffsetPage(previous) {\n    const offset = this._offset;\n    const numPages = this._linkService.pagesCount;\n    offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n    offset.matchIdx = null;\n    this._pagesToSearch--;\n    if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n      offset.pageIdx = previous ? numPages - 1 : 0;\n      offset.wrapped = true;\n    }\n  }\n  #updateMatch(found = false) {\n    let state = FindState.NOT_FOUND;\n    const wrapped = this._offset.wrapped;\n    this._offset.wrapped = false;\n    if (found) {\n      const previousPage = this._selected.pageIdx;\n      this._selected.pageIdx = this._offset.pageIdx;\n      this._selected.matchIdx = this._offset.matchIdx;\n      state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n      if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n        this.#updatePage(previousPage);\n      }\n    }\n    this.#updateUIState(state, this.#state.findPrevious);\n    if (this._selected.pageIdx !== -1) {\n      this._scrollMatches = true;\n      this.#updatePage(this._selected.pageIdx);\n    }\n  }\n  #onFindBarClose(evt) {\n    const pdfDocument = this._pdfDocument;\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n      if (this._resumePageIdx) {\n        this._resumePageIdx = null;\n        this._dirtyMatch = true;\n      }\n      this.#updateUIState(FindState.FOUND);\n      this._highlightMatches = false;\n      this.#updateAllPages();\n    });\n  }\n  #requestMatchesCount() {\n    const {\n      pageIdx,\n      matchIdx\n    } = this._selected;\n    let current = 0,\n      total = this._matchesCountTotal;\n    if (matchIdx !== -1) {\n      for (let i = 0; i < pageIdx; i++) {\n        current += this._pageMatches[i]?.length || 0;\n      }\n      current += matchIdx + 1;\n    }\n    if (current < 1 || current > total) {\n      current = total = 0;\n    }\n    return {\n      current,\n      total\n    };\n  }\n  #updateUIResultsCount() {\n    this._eventBus.dispatch(\"updatefindmatchescount\", {\n      source: this,\n      matchesCount: this.#requestMatchesCount()\n    });\n  }\n  #updateUIState(state, previous = false) {\n    if (!this.#updateMatchesCountOnProgress && (this.#visitedPagesCount !== this._linkService.pagesCount || state === FindState.PENDING)) {\n      return;\n    }\n    this._eventBus.dispatch(\"updatefindcontrolstate\", {\n      source: this,\n      state,\n      previous,\n      entireWord: this.#state?.entireWord ?? null,\n      matchesCount: this.#requestMatchesCount(),\n      rawQuery: this.#state?.query ?? null\n    });\n  }\n}\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.json.parse.js\nvar esnext_json_parse = __webpack_require__(8335);\n;// CONCATENATED MODULE: ./web/pdf_link_service.js\n\n\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\nclass PDFLinkService {\n  externalLinkEnabled = true;\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    ignoreDestinationZoom = false\n  } = {}) {\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n  }\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n  get page() {\n    return this.pdfDocument ? this.pdfViewer.currentPageNumber : 1;\n  }\n  set page(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }\n  get rotation() {\n    return this.pdfDocument ? this.pdfViewer.pagesRotation : 0;\n  }\n  set rotation(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.pagesRotation = value;\n    }\n  }\n  get isInPresentationMode() {\n    return this.pdfDocument ? this.pdfViewer.isInPresentationMode : false;\n  }\n  async goToDestination(dest) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let namedDest, explicitDest, pageNumber;\n    if (typeof dest === \"string\") {\n      namedDest = dest;\n      explicitDest = await this.pdfDocument.getDestination(dest);\n    } else {\n      namedDest = null;\n      explicitDest = await dest;\n    }\n    if (!Array.isArray(explicitDest)) {\n      console.error(`goToDestination: \"${explicitDest}\" is not a valid destination array, for dest=\"${dest}\".`);\n      return;\n    }\n    const [destRef] = explicitDest;\n    if (destRef && typeof destRef === \"object\") {\n      pageNumber = this.pdfDocument.cachedPageNumber(destRef);\n      if (!pageNumber) {\n        try {\n          pageNumber = (await this.pdfDocument.getPageIndex(destRef)) + 1;\n        } catch {\n          console.error(`goToDestination: \"${destRef}\" is not a valid page reference, for dest=\"${dest}\".`);\n          return;\n        }\n      }\n    } else if (Number.isInteger(destRef)) {\n      pageNumber = destRef + 1;\n    }\n    if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`goToDestination: \"${pageNumber}\" is not a valid page number, for dest=\"${dest}\".`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.push({\n        namedDest,\n        explicitDest,\n        pageNumber\n      });\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber,\n      destArray: explicitDest,\n      ignoreDestinationZoom: this._ignoreDestinationZoom\n    });\n  }\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n  addLinkAttributes(link, url, newWindow = false) {\n    if (!url || typeof url !== \"string\") {\n      throw new Error('A valid \"url\" parameter must provided.');\n    }\n    const target = newWindow ? LinkTarget.BLANK : this.externalLinkTarget,\n      rel = this.externalLinkRel;\n    if (this.externalLinkEnabled) {\n      link.href = link.title = url;\n    } else {\n      link.href = \"\";\n      link.title = `Disabled: ${url}`;\n      link.onclick = () => false;\n    }\n    let targetStr = \"\";\n    switch (target) {\n      case LinkTarget.NONE:\n        break;\n      case LinkTarget.SELF:\n        targetStr = \"_self\";\n        break;\n      case LinkTarget.BLANK:\n        targetStr = \"_blank\";\n        break;\n      case LinkTarget.PARENT:\n        targetStr = \"_parent\";\n        break;\n      case LinkTarget.TOP:\n        targetStr = \"_top\";\n        break;\n    }\n    link.target = targetStr;\n    link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n  }\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n    return this.getAnchorUrl(\"\");\n  }\n  getAnchorUrl(anchor) {\n    return this.baseUrl ? this.baseUrl + anchor : anchor;\n  }\n  setHash(hash) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let pageNumber, dest;\n    if (hash.includes(\"=\")) {\n      const params = parseQueryString(hash);\n      if (params.has(\"search\")) {\n        const query = params.get(\"search\").replaceAll('\"', \"\"),\n          phrase = params.get(\"phrase\") === \"true\";\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: phrase ? query : query.match(/\\S+/g)\n        });\n      }\n      if (params.has(\"page\")) {\n        pageNumber = params.get(\"page\") | 0 || 1;\n      }\n      if (params.has(\"zoom\")) {\n        const zoomArgs = params.get(\"zoom\").split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n          dest = [null, {\n            name: zoomArg\n          }];\n        } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n          dest = [null, {\n            name: zoomArg\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n        } else if (zoomArg === \"FitR\") {\n          if (zoomArgs.length !== 5) {\n            console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n          } else {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n          }\n        } else {\n          console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n        }\n      }\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n      if (params.has(\"pagemode\")) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.get(\"pagemode\")\n        });\n      }\n      if (params.has(\"nameddest\")) {\n        this.goToDestination(params.get(\"nameddest\"));\n      }\n      return;\n    }\n    dest = unescape(hash);\n    try {\n      dest = JSON.parse(dest);\n      if (!Array.isArray(dest)) {\n        dest = dest.toString();\n      }\n    } catch {}\n    if (typeof dest === \"string\" || PDFLinkService.#isValidExplicitDest(dest)) {\n      this.goToDestination(dest);\n      return;\n    }\n    console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n  }\n  executeNamedAction(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    switch (action) {\n      case \"GoBack\":\n        this.pdfHistory?.back();\n        break;\n      case \"GoForward\":\n        this.pdfHistory?.forward();\n        break;\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n      default:\n        break;\n    }\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n  async executeSetOCGState(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pdfDocument = this.pdfDocument,\n      optionalContentConfig = await this.pdfViewer.optionalContentConfigPromise;\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n    optionalContentConfig.setOCGState(action);\n    this.pdfViewer.optionalContentConfigPromise = Promise.resolve(optionalContentConfig);\n  }\n  static #isValidExplicitDest(dest) {\n    if (!Array.isArray(dest) || dest.length < 2) {\n      return false;\n    }\n    const [page, zoom, ...args] = dest;\n    if (!(typeof page === \"object\" && Number.isInteger(page?.num) && Number.isInteger(page?.gen)) && !Number.isInteger(page)) {\n      return false;\n    }\n    if (!(typeof zoom === \"object\" && typeof zoom?.name === \"string\")) {\n      return false;\n    }\n    const argsLen = args.length;\n    let allowNull = true;\n    switch (zoom.name) {\n      case \"XYZ\":\n        if (argsLen < 2 || argsLen > 3) {\n          return false;\n        }\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        return argsLen === 0;\n      case \"FitH\":\n      case \"FitBH\":\n      case \"FitV\":\n      case \"FitBV\":\n        if (argsLen > 1) {\n          return false;\n        }\n        break;\n      case \"FitR\":\n        if (argsLen !== 4) {\n          return false;\n        }\n        allowNull = false;\n        break;\n      default:\n        return false;\n    }\n    for (const arg of args) {\n      if (!(typeof arg === \"number\" || allowNull && arg === null)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nclass SimpleLinkService extends PDFLinkService {\n  setDocument(pdfDocument, baseUrl = null) {}\n}\n\n;// CONCATENATED MODULE: ./web/pdfjs.js\nconst {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  build,\n  CMapCompressionType,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  MissingPDFException,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  setLayerDimensions,\n  shadow,\n  TextLayer,\n  UnexpectedResponseException,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer\n} = globalThis.pdfjsLib;\n\n;// CONCATENATED MODULE: ./web/annotation_layer_builder.js\n\n\nclass AnnotationLayerBuilder {\n  #onAppend = null;\n  #eventAbortController = null;\n  constructor({\n    pdfPage,\n    linkService,\n    downloadManager,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    fieldObjectsPromise = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null,\n    annotationEditorUIManager = null,\n    onAppend = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderForms = renderForms;\n    this.annotationStorage = annotationStorage;\n    this.enableScripting = enableScripting;\n    this._hasJSActionsPromise = hasJSActionsPromise || Promise.resolve(false);\n    this._fieldObjectsPromise = fieldObjectsPromise || Promise.resolve(null);\n    this._annotationCanvasMap = annotationCanvasMap;\n    this._accessibilityManager = accessibilityManager;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    this.#onAppend = onAppend;\n    this.annotationLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this._eventBus = linkService.eventBus;\n  }\n  async render(viewport, intent = \"display\") {\n    if (this.div) {\n      if (this._cancelled || !this.annotationLayer) {\n        return;\n      }\n      this.annotationLayer.update({\n        viewport: viewport.clone({\n          dontFlip: true\n        })\n      });\n      return;\n    }\n    const [annotations, hasJSActions, fieldObjects] = await Promise.all([this.pdfPage.getAnnotations({\n      intent\n    }), this._hasJSActionsPromise, this._fieldObjectsPromise]);\n    if (this._cancelled) {\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationLayer\";\n    this.#onAppend?.(div);\n    if (annotations.length === 0) {\n      this.hide();\n      return;\n    }\n    this.annotationLayer = new AnnotationLayer({\n      div,\n      accessibilityManager: this._accessibilityManager,\n      annotationCanvasMap: this._annotationCanvasMap,\n      annotationEditorUIManager: this._annotationEditorUIManager,\n      page: this.pdfPage,\n      viewport: viewport.clone({\n        dontFlip: true\n      })\n    });\n    await this.annotationLayer.render({\n      annotations,\n      imageResourcesPath: this.imageResourcesPath,\n      renderForms: this.renderForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      annotationStorage: this.annotationStorage,\n      enableScripting: this.enableScripting,\n      hasJSActions,\n      fieldObjects\n    });\n    if (this.linkService.isInPresentationMode) {\n      this.#updatePresentationModeState(PresentationModeState.FULLSCREEN);\n    }\n    if (!this.#eventAbortController) {\n      this.#eventAbortController = new AbortController();\n      this._eventBus?._on(\"presentationmodechanged\", evt => {\n        this.#updatePresentationModeState(evt.state);\n      }, {\n        signal: this.#eventAbortController.signal\n      });\n    }\n  }\n  cancel() {\n    this._cancelled = true;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  hasEditableAnnotations() {\n    return !!this.annotationLayer?.hasEditableAnnotations();\n  }\n  #updatePresentationModeState(state) {\n    if (!this.div) {\n      return;\n    }\n    let disableFormElements = false;\n    switch (state) {\n      case PresentationModeState.FULLSCREEN:\n        disableFormElements = true;\n        break;\n      case PresentationModeState.NORMAL:\n        break;\n      default:\n        return;\n    }\n    for (const section of this.div.childNodes) {\n      if (section.hasAttribute(\"data-internal-link\")) {\n        continue;\n      }\n      section.inert = disableFormElements;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./web/download_manager.js\n\n\n\n\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n  a.href = blobUrl;\n  a.target = \"_parent\";\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n  (document.body || document.documentElement).append(a);\n  a.click();\n  a.remove();\n}\nclass DownloadManager {\n  #openBlobUrls = new WeakMap();\n  downloadData(data, filename, contentType) {\n    const blobUrl = URL.createObjectURL(new Blob([data], {\n      type: contentType\n    }));\n    download(blobUrl, filename);\n  }\n  openOrDownloadData(data, filename, dest = null) {\n    const isPdfData = isPdfFile(filename);\n    const contentType = isPdfData ? \"application/pdf\" : \"\";\n    this.downloadData(data, filename, contentType);\n    return false;\n  }\n  download(data, url, filename, _options) {\n    let blobUrl;\n    if (data) {\n      blobUrl = URL.createObjectURL(new Blob([data], {\n        type: \"application/pdf\"\n      }));\n    } else {\n      if (!createValidAbsoluteUrl(url, \"http://example.com\")) {\n        console.error(`download - not a valid URL: ${url}`);\n        return;\n      }\n      blobUrl = url + \"#pdfjs.action=download\";\n    }\n    download(blobUrl, filename);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/event_utils.js\n\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nasync function waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n    throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n  }\n  const {\n    promise,\n    resolve\n  } = Promise.withResolvers();\n  const ac = new AbortController();\n  function handler(type) {\n    ac.abort();\n    clearTimeout(timeout);\n    resolve(type);\n  }\n  const evtMethod = target instanceof EventBus ? \"_on\" : \"addEventListener\";\n  target[evtMethod](name, handler.bind(null, WaitOnType.EVENT), {\n    signal: ac.signal\n  });\n  const timeout = setTimeout(handler.bind(null, WaitOnType.TIMEOUT), delay);\n  return promise;\n}\nclass EventBus {\n  #listeners = Object.create(null);\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options?.once,\n      signal: options?.signal\n    });\n  }\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener);\n  }\n  dispatch(eventName, data) {\n    const eventListeners = this.#listeners[eventName];\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n    let externalListeners;\n    for (const {\n      listener,\n      external,\n      once\n    } of eventListeners.slice(0)) {\n      if (once) {\n        this._off(eventName, listener);\n      }\n      if (external) {\n        (externalListeners ||= []).push(listener);\n        continue;\n      }\n      listener(data);\n    }\n    if (externalListeners) {\n      for (const listener of externalListeners) {\n        listener(data);\n      }\n      externalListeners = null;\n    }\n  }\n  _on(eventName, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        console.error(\"Cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this._off(eventName, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    const eventListeners = this.#listeners[eventName] ||= [];\n    eventListeners.push({\n      listener,\n      external: options?.external === true,\n      once: options?.once === true,\n      rmAbort\n    });\n  }\n  _off(eventName, listener, options = null) {\n    const eventListeners = this.#listeners[eventName];\n    if (!eventListeners) {\n      return;\n    }\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      const evt = eventListeners[i];\n      if (evt.listener === listener) {\n        evt.rmAbort?.();\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\nclass FirefoxEventBus extends EventBus {\n  #externalServices;\n  #globalEventNames;\n  #isInAutomation;\n  constructor(globalEventNames, externalServices, isInAutomation) {\n    super();\n    this.#globalEventNames = globalEventNames;\n    this.#externalServices = externalServices;\n    this.#isInAutomation = isInAutomation;\n  }\n  dispatch(eventName, data) {\n    throw new Error(\"Not implemented: FirefoxEventBus.dispatch\");\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/types.js\nclass FluentType {\n  constructor(value) {\n    this.value = value;\n  }\n  valueOf() {\n    return this.value;\n  }\n}\nclass FluentNone extends FluentType {\n  constructor(value = \"???\") {\n    super(value);\n  }\n  toString(scope) {\n    return `{${this.value}}`;\n  }\n}\nclass FluentNumber extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const nf = scope.memoizeIntlObject(Intl.NumberFormat, this.opts);\n      return nf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return this.value.toString(10);\n    }\n  }\n}\nclass FluentDateTime extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const dtf = scope.memoizeIntlObject(Intl.DateTimeFormat, this.opts);\n      return dtf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return new Date(this.value).toISOString();\n    }\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/resolver.js\n\n\nconst MAX_PLACEABLES = 100;\nconst FSI = \"\\u2068\";\nconst PDI = \"\\u2069\";\nfunction match(scope, selector, key) {\n  if (key === selector) {\n    return true;\n  }\n  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {\n    return true;\n  }\n  if (selector instanceof FluentNumber && typeof key === \"string\") {\n    let category = scope.memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);\n    if (key === category) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getDefault(scope, variants, star) {\n  if (variants[star]) {\n    return resolvePattern(scope, variants[star].value);\n  }\n  scope.reportError(new RangeError(\"No default\"));\n  return new FluentNone();\n}\nfunction getArguments(scope, args) {\n  const positional = [];\n  const named = Object.create(null);\n  for (const arg of args) {\n    if (arg.type === \"narg\") {\n      named[arg.name] = resolveExpression(scope, arg.value);\n    } else {\n      positional.push(resolveExpression(scope, arg));\n    }\n  }\n  return {\n    positional,\n    named\n  };\n}\nfunction resolveExpression(scope, expr) {\n  switch (expr.type) {\n    case \"str\":\n      return expr.value;\n    case \"num\":\n      return new FluentNumber(expr.value, {\n        minimumFractionDigits: expr.precision\n      });\n    case \"var\":\n      return resolveVariableReference(scope, expr);\n    case \"mesg\":\n      return resolveMessageReference(scope, expr);\n    case \"term\":\n      return resolveTermReference(scope, expr);\n    case \"func\":\n      return resolveFunctionReference(scope, expr);\n    case \"select\":\n      return resolveSelectExpression(scope, expr);\n    default:\n      return new FluentNone();\n  }\n}\nfunction resolveVariableReference(scope, {\n  name\n}) {\n  let arg;\n  if (scope.params) {\n    if (Object.prototype.hasOwnProperty.call(scope.params, name)) {\n      arg = scope.params[name];\n    } else {\n      return new FluentNone(`$${name}`);\n    }\n  } else if (scope.args && Object.prototype.hasOwnProperty.call(scope.args, name)) {\n    arg = scope.args[name];\n  } else {\n    scope.reportError(new ReferenceError(`Unknown variable: $${name}`));\n    return new FluentNone(`$${name}`);\n  }\n  if (arg instanceof FluentType) {\n    return arg;\n  }\n  switch (typeof arg) {\n    case \"string\":\n      return arg;\n    case \"number\":\n      return new FluentNumber(arg);\n    case \"object\":\n      if (arg instanceof Date) {\n        return new FluentDateTime(arg.getTime());\n      }\n    default:\n      scope.reportError(new TypeError(`Variable type not supported: $${name}, ${typeof arg}`));\n      return new FluentNone(`$${name}`);\n  }\n}\nfunction resolveMessageReference(scope, {\n  name,\n  attr\n}) {\n  const message = scope.bundle._messages.get(name);\n  if (!message) {\n    scope.reportError(new ReferenceError(`Unknown message: ${name}`));\n    return new FluentNone(name);\n  }\n  if (attr) {\n    const attribute = message.attributes[attr];\n    if (attribute) {\n      return resolvePattern(scope, attribute);\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${name}.${attr}`);\n  }\n  if (message.value) {\n    return resolvePattern(scope, message.value);\n  }\n  scope.reportError(new ReferenceError(`No value: ${name}`));\n  return new FluentNone(name);\n}\nfunction resolveTermReference(scope, {\n  name,\n  attr,\n  args\n}) {\n  const id = `-${name}`;\n  const term = scope.bundle._terms.get(id);\n  if (!term) {\n    scope.reportError(new ReferenceError(`Unknown term: ${id}`));\n    return new FluentNone(id);\n  }\n  if (attr) {\n    const attribute = term.attributes[attr];\n    if (attribute) {\n      scope.params = getArguments(scope, args).named;\n      const resolved = resolvePattern(scope, attribute);\n      scope.params = null;\n      return resolved;\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${id}.${attr}`);\n  }\n  scope.params = getArguments(scope, args).named;\n  const resolved = resolvePattern(scope, term.value);\n  scope.params = null;\n  return resolved;\n}\nfunction resolveFunctionReference(scope, {\n  name,\n  args\n}) {\n  let func = scope.bundle._functions[name];\n  if (!func) {\n    scope.reportError(new ReferenceError(`Unknown function: ${name}()`));\n    return new FluentNone(`${name}()`);\n  }\n  if (typeof func !== \"function\") {\n    scope.reportError(new TypeError(`Function ${name}() is not callable`));\n    return new FluentNone(`${name}()`);\n  }\n  try {\n    let resolved = getArguments(scope, args);\n    return func(resolved.positional, resolved.named);\n  } catch (err) {\n    scope.reportError(err);\n    return new FluentNone(`${name}()`);\n  }\n}\nfunction resolveSelectExpression(scope, {\n  selector,\n  variants,\n  star\n}) {\n  let sel = resolveExpression(scope, selector);\n  if (sel instanceof FluentNone) {\n    return getDefault(scope, variants, star);\n  }\n  for (const variant of variants) {\n    const key = resolveExpression(scope, variant.key);\n    if (match(scope, sel, key)) {\n      return resolvePattern(scope, variant.value);\n    }\n  }\n  return getDefault(scope, variants, star);\n}\nfunction resolveComplexPattern(scope, ptn) {\n  if (scope.dirty.has(ptn)) {\n    scope.reportError(new RangeError(\"Cyclic reference\"));\n    return new FluentNone();\n  }\n  scope.dirty.add(ptn);\n  const result = [];\n  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n  for (const elem of ptn) {\n    if (typeof elem === \"string\") {\n      result.push(scope.bundle._transform(elem));\n      continue;\n    }\n    scope.placeables++;\n    if (scope.placeables > MAX_PLACEABLES) {\n      scope.dirty.delete(ptn);\n      throw new RangeError(`Too many placeables expanded: ${scope.placeables}, ` + `max allowed is ${MAX_PLACEABLES}`);\n    }\n    if (useIsolating) {\n      result.push(FSI);\n    }\n    result.push(resolveExpression(scope, elem).toString(scope));\n    if (useIsolating) {\n      result.push(PDI);\n    }\n  }\n  scope.dirty.delete(ptn);\n  return result.join(\"\");\n}\nfunction resolvePattern(scope, value) {\n  if (typeof value === \"string\") {\n    return scope.bundle._transform(value);\n  }\n  return resolveComplexPattern(scope, value);\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/scope.js\n\nclass Scope {\n  constructor(bundle, errors, args) {\n    this.dirty = new WeakSet();\n    this.params = null;\n    this.placeables = 0;\n    this.bundle = bundle;\n    this.errors = errors;\n    this.args = args;\n  }\n  reportError(error) {\n    if (!this.errors || !(error instanceof Error)) {\n      throw error;\n    }\n    this.errors.push(error);\n  }\n  memoizeIntlObject(ctor, opts) {\n    let cache = this.bundle._intls.get(ctor);\n    if (!cache) {\n      cache = {};\n      this.bundle._intls.set(ctor, cache);\n    }\n    let id = JSON.stringify(opts);\n    if (!cache[id]) {\n      cache[id] = new ctor(this.bundle.locales, opts);\n    }\n    return cache[id];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/builtins.js\n\nfunction values(opts, allowed) {\n  const unwrapped = Object.create(null);\n  for (const [name, opt] of Object.entries(opts)) {\n    if (allowed.includes(name)) {\n      unwrapped[name] = opt.valueOf();\n    }\n  }\n  return unwrapped;\n}\nconst NUMBER_ALLOWED = [\"unitDisplay\", \"currencyDisplay\", \"useGrouping\", \"minimumIntegerDigits\", \"minimumFractionDigits\", \"maximumFractionDigits\", \"minimumSignificantDigits\", \"maximumSignificantDigits\"];\nfunction NUMBER(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`NUMBER(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentNumber(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentNumber(arg.valueOf(), {\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to NUMBER\");\n}\nconst DATETIME_ALLOWED = [\"dateStyle\", \"timeStyle\", \"fractionalSecondDigits\", \"dayPeriod\", \"hour12\", \"weekday\", \"era\", \"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"timeZoneName\"];\nfunction DATETIME(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`DATETIME(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to DATETIME\");\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/memoizer.js\nconst cache = new Map();\nfunction getMemoizerForLocale(locales) {\n  const stringLocale = Array.isArray(locales) ? locales.join(\" \") : locales;\n  let memoizer = cache.get(stringLocale);\n  if (memoizer === undefined) {\n    memoizer = new Map();\n    cache.set(stringLocale, memoizer);\n  }\n  return memoizer;\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/bundle.js\n\n\n\n\n\n\nclass FluentBundle {\n  constructor(locales, {\n    functions,\n    useIsolating = true,\n    transform = v => v\n  } = {}) {\n    this._terms = new Map();\n    this._messages = new Map();\n    this.locales = Array.isArray(locales) ? locales : [locales];\n    this._functions = {\n      NUMBER: NUMBER,\n      DATETIME: DATETIME,\n      ...functions\n    };\n    this._useIsolating = useIsolating;\n    this._transform = transform;\n    this._intls = getMemoizerForLocale(locales);\n  }\n  hasMessage(id) {\n    return this._messages.has(id);\n  }\n  getMessage(id) {\n    return this._messages.get(id);\n  }\n  addResource(res, {\n    allowOverrides = false\n  } = {}) {\n    const errors = [];\n    for (let i = 0; i < res.body.length; i++) {\n      let entry = res.body[i];\n      if (entry.id.startsWith(\"-\")) {\n        if (allowOverrides === false && this._terms.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing term: \"${entry.id}\"`));\n          continue;\n        }\n        this._terms.set(entry.id, entry);\n      } else {\n        if (allowOverrides === false && this._messages.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing message: \"${entry.id}\"`));\n          continue;\n        }\n        this._messages.set(entry.id, entry);\n      }\n    }\n    return errors;\n  }\n  formatPattern(pattern, args = null, errors = null) {\n    if (typeof pattern === \"string\") {\n      return this._transform(pattern);\n    }\n    let scope = new Scope(this, errors, args);\n    try {\n      let value = resolveComplexPattern(scope, pattern);\n      return value.toString(scope);\n    } catch (err) {\n      if (scope.errors && err instanceof Error) {\n        scope.errors.push(err);\n        return new FluentNone().toString(scope);\n      }\n      throw err;\n    }\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/resource.js\n\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */gm;\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\nconst RE_BLANK_LINES = / *\\r?\\n/g;\nconst RE_INDENT = /( *)$/;\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\nclass FluentResource {\n  constructor(source) {\n    this.body = [];\n    RE_MESSAGE_START.lastIndex = 0;\n    let cursor = 0;\n    while (true) {\n      let next = RE_MESSAGE_START.exec(source);\n      if (next === null) {\n        break;\n      }\n      cursor = RE_MESSAGE_START.lastIndex;\n      try {\n        this.body.push(parseMessage(next[1]));\n      } catch (err) {\n        if (err instanceof SyntaxError) {\n          continue;\n        }\n        throw err;\n      }\n    }\n    function test(re) {\n      re.lastIndex = cursor;\n      return re.test(source);\n    }\n    function consumeChar(char, errorClass) {\n      if (source[cursor] === char) {\n        cursor++;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${char}`);\n      }\n      return false;\n    }\n    function consumeToken(re, errorClass) {\n      if (test(re)) {\n        cursor = re.lastIndex;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${re.toString()}`);\n      }\n      return false;\n    }\n    function match(re) {\n      re.lastIndex = cursor;\n      let result = re.exec(source);\n      if (result === null) {\n        throw new SyntaxError(`Expected ${re.toString()}`);\n      }\n      cursor = re.lastIndex;\n      return result;\n    }\n    function match1(re) {\n      return match(re)[1];\n    }\n    function parseMessage(id) {\n      let value = parsePattern();\n      let attributes = parseAttributes();\n      if (value === null && Object.keys(attributes).length === 0) {\n        throw new SyntaxError(\"Expected message value or attributes\");\n      }\n      return {\n        id,\n        value,\n        attributes\n      };\n    }\n    function parseAttributes() {\n      let attrs = Object.create(null);\n      while (test(RE_ATTRIBUTE_START)) {\n        let name = match1(RE_ATTRIBUTE_START);\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected attribute value\");\n        }\n        attrs[name] = value;\n      }\n      return attrs;\n    }\n    function parsePattern() {\n      let first;\n      if (test(RE_TEXT_RUN)) {\n        first = match1(RE_TEXT_RUN);\n      }\n      if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n        return parsePatternElements(first ? [first] : [], Infinity);\n      }\n      let indent = parseIndent();\n      if (indent) {\n        if (first) {\n          return parsePatternElements([first, indent], indent.length);\n        }\n        indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n        return parsePatternElements([indent], indent.length);\n      }\n      if (first) {\n        return trim(first, RE_TRAILING_SPACES);\n      }\n      return null;\n    }\n    function parsePatternElements(elements = [], commonIndent) {\n      while (true) {\n        if (test(RE_TEXT_RUN)) {\n          elements.push(match1(RE_TEXT_RUN));\n          continue;\n        }\n        if (source[cursor] === \"{\") {\n          elements.push(parsePlaceable());\n          continue;\n        }\n        if (source[cursor] === \"}\") {\n          throw new SyntaxError(\"Unbalanced closing brace\");\n        }\n        let indent = parseIndent();\n        if (indent) {\n          elements.push(indent);\n          commonIndent = Math.min(commonIndent, indent.length);\n          continue;\n        }\n        break;\n      }\n      let lastIndex = elements.length - 1;\n      let lastElement = elements[lastIndex];\n      if (typeof lastElement === \"string\") {\n        elements[lastIndex] = trim(lastElement, RE_TRAILING_SPACES);\n      }\n      let baked = [];\n      for (let element of elements) {\n        if (element instanceof Indent) {\n          element = element.value.slice(0, element.value.length - commonIndent);\n        }\n        if (element) {\n          baked.push(element);\n        }\n      }\n      return baked;\n    }\n    function parsePlaceable() {\n      consumeToken(TOKEN_BRACE_OPEN, SyntaxError);\n      let selector = parseInlineExpression();\n      if (consumeToken(TOKEN_BRACE_CLOSE)) {\n        return selector;\n      }\n      if (consumeToken(TOKEN_ARROW)) {\n        let variants = parseVariants();\n        consumeToken(TOKEN_BRACE_CLOSE, SyntaxError);\n        return {\n          type: \"select\",\n          selector,\n          ...variants\n        };\n      }\n      throw new SyntaxError(\"Unclosed placeable\");\n    }\n    function parseInlineExpression() {\n      if (source[cursor] === \"{\") {\n        return parsePlaceable();\n      }\n      if (test(RE_REFERENCE)) {\n        let [, sigil, name, attr = null] = match(RE_REFERENCE);\n        if (sigil === \"$\") {\n          return {\n            type: \"var\",\n            name\n          };\n        }\n        if (consumeToken(TOKEN_PAREN_OPEN)) {\n          let args = parseArguments();\n          if (sigil === \"-\") {\n            return {\n              type: \"term\",\n              name,\n              attr,\n              args\n            };\n          }\n          if (RE_FUNCTION_NAME.test(name)) {\n            return {\n              type: \"func\",\n              name,\n              args\n            };\n          }\n          throw new SyntaxError(\"Function names must be all upper-case\");\n        }\n        if (sigil === \"-\") {\n          return {\n            type: \"term\",\n            name,\n            attr,\n            args: []\n          };\n        }\n        return {\n          type: \"mesg\",\n          name,\n          attr\n        };\n      }\n      return parseLiteral();\n    }\n    function parseArguments() {\n      let args = [];\n      while (true) {\n        switch (source[cursor]) {\n          case \")\":\n            cursor++;\n            return args;\n          case undefined:\n            throw new SyntaxError(\"Unclosed argument list\");\n        }\n        args.push(parseArgument());\n        consumeToken(TOKEN_COMMA);\n      }\n    }\n    function parseArgument() {\n      let expr = parseInlineExpression();\n      if (expr.type !== \"mesg\") {\n        return expr;\n      }\n      if (consumeToken(TOKEN_COLON)) {\n        return {\n          type: \"narg\",\n          name: expr.name,\n          value: parseLiteral()\n        };\n      }\n      return expr;\n    }\n    function parseVariants() {\n      let variants = [];\n      let count = 0;\n      let star;\n      while (test(RE_VARIANT_START)) {\n        if (consumeChar(\"*\")) {\n          star = count;\n        }\n        let key = parseVariantKey();\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected variant value\");\n        }\n        variants[count++] = {\n          key,\n          value\n        };\n      }\n      if (count === 0) {\n        return null;\n      }\n      if (star === undefined) {\n        throw new SyntaxError(\"Expected default variant\");\n      }\n      return {\n        variants,\n        star\n      };\n    }\n    function parseVariantKey() {\n      consumeToken(TOKEN_BRACKET_OPEN, SyntaxError);\n      let key;\n      if (test(RE_NUMBER_LITERAL)) {\n        key = parseNumberLiteral();\n      } else {\n        key = {\n          type: \"str\",\n          value: match1(RE_IDENTIFIER)\n        };\n      }\n      consumeToken(TOKEN_BRACKET_CLOSE, SyntaxError);\n      return key;\n    }\n    function parseLiteral() {\n      if (test(RE_NUMBER_LITERAL)) {\n        return parseNumberLiteral();\n      }\n      if (source[cursor] === '\"') {\n        return parseStringLiteral();\n      }\n      throw new SyntaxError(\"Invalid expression\");\n    }\n    function parseNumberLiteral() {\n      let [, value, fraction = \"\"] = match(RE_NUMBER_LITERAL);\n      let precision = fraction.length;\n      return {\n        type: \"num\",\n        value: parseFloat(value),\n        precision\n      };\n    }\n    function parseStringLiteral() {\n      consumeChar('\"', SyntaxError);\n      let value = \"\";\n      while (true) {\n        value += match1(RE_STRING_RUN);\n        if (source[cursor] === \"\\\\\") {\n          value += parseEscapeSequence();\n          continue;\n        }\n        if (consumeChar('\"')) {\n          return {\n            type: \"str\",\n            value\n          };\n        }\n        throw new SyntaxError(\"Unclosed string literal\");\n      }\n    }\n    function parseEscapeSequence() {\n      if (test(RE_STRING_ESCAPE)) {\n        return match1(RE_STRING_ESCAPE);\n      }\n      if (test(RE_UNICODE_ESCAPE)) {\n        let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);\n        let codepoint = parseInt(codepoint4 || codepoint6, 16);\n        return codepoint <= 0xd7ff || 0xe000 <= codepoint ? String.fromCodePoint(codepoint) : \"�\";\n      }\n      throw new SyntaxError(\"Unknown escape sequence\");\n    }\n    function parseIndent() {\n      let start = cursor;\n      consumeToken(TOKEN_BLANK);\n      switch (source[cursor]) {\n        case \".\":\n        case \"[\":\n        case \"*\":\n        case \"}\":\n        case undefined:\n          return false;\n        case \"{\":\n          return makeIndent(source.slice(start, cursor));\n      }\n      if (source[cursor - 1] === \" \") {\n        return makeIndent(source.slice(start, cursor));\n      }\n      return false;\n    }\n    function trim(text, re) {\n      return text.replace(re, \"\");\n    }\n    function makeIndent(blank) {\n      let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n      let length = RE_INDENT.exec(blank)[1].length;\n      return new Indent(value, length);\n    }\n  }\n}\nclass Indent {\n  constructor(value, length) {\n    this.value = value;\n    this.length = length;\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/index.js\n\n\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/overlay.js\n\nconst reOverlay = /<|&#?\\w+;/;\nconst TEXT_LEVEL_ELEMENTS = {\n  \"http://www.w3.org/1999/xhtml\": [\"em\", \"strong\", \"small\", \"s\", \"cite\", \"q\", \"dfn\", \"abbr\", \"data\", \"time\", \"code\", \"var\", \"samp\", \"kbd\", \"sub\", \"sup\", \"i\", \"b\", \"u\", \"mark\", \"bdi\", \"bdo\", \"span\", \"br\", \"wbr\"]\n};\nconst LOCALIZABLE_ATTRIBUTES = {\n  \"http://www.w3.org/1999/xhtml\": {\n    global: [\"title\", \"aria-label\", \"aria-valuetext\"],\n    a: [\"download\"],\n    area: [\"download\", \"alt\"],\n    input: [\"alt\", \"placeholder\"],\n    menuitem: [\"label\"],\n    menu: [\"label\"],\n    optgroup: [\"label\"],\n    option: [\"label\"],\n    track: [\"label\"],\n    img: [\"alt\"],\n    textarea: [\"placeholder\"],\n    th: [\"abbr\"]\n  },\n  \"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\": {\n    global: [\"accesskey\", \"aria-label\", \"aria-valuetext\", \"label\", \"title\", \"tooltiptext\"],\n    description: [\"value\"],\n    key: [\"key\", \"keycode\"],\n    label: [\"value\"],\n    textbox: [\"placeholder\", \"value\"]\n  }\n};\nfunction translateElement(element, translation) {\n  const {\n    value\n  } = translation;\n  if (typeof value === \"string\") {\n    if (element.localName === \"title\" && element.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n      element.textContent = value;\n    } else if (!reOverlay.test(value)) {\n      element.textContent = value;\n    } else {\n      const templateElement = element.ownerDocument.createElementNS(\"http://www.w3.org/1999/xhtml\", \"template\");\n      templateElement.innerHTML = value;\n      overlayChildNodes(templateElement.content, element);\n    }\n  }\n  overlayAttributes(translation, element);\n}\nfunction overlayChildNodes(fromFragment, toElement) {\n  for (const childNode of fromFragment.childNodes) {\n    if (childNode.nodeType === childNode.TEXT_NODE) {\n      continue;\n    }\n    if (childNode.hasAttribute(\"data-l10n-name\")) {\n      const sanitized = getNodeForNamedElement(toElement, childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    if (isElementAllowed(childNode)) {\n      const sanitized = createSanitizedElement(childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    console.warn(`An element of forbidden type \"${childNode.localName}\" was found in ` + \"the translation. Only safe text-level elements and elements with \" + \"data-l10n-name are allowed.\");\n    fromFragment.replaceChild(createTextNodeFromTextContent(childNode), childNode);\n  }\n  toElement.textContent = \"\";\n  toElement.appendChild(fromFragment);\n}\nfunction hasAttribute(attributes, name) {\n  if (!attributes) {\n    return false;\n  }\n  for (let attr of attributes) {\n    if (attr.name === name) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction overlayAttributes(fromElement, toElement) {\n  const explicitlyAllowed = toElement.hasAttribute(\"data-l10n-attrs\") ? toElement.getAttribute(\"data-l10n-attrs\").split(\",\").map(i => i.trim()) : null;\n  for (const attr of Array.from(toElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && !hasAttribute(fromElement.attributes, attr.name)) {\n      toElement.removeAttribute(attr.name);\n    }\n  }\n  if (!fromElement.attributes) {\n    return;\n  }\n  for (const attr of Array.from(fromElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && toElement.getAttribute(attr.name) !== attr.value) {\n      toElement.setAttribute(attr.name, attr.value);\n    }\n  }\n}\nfunction getNodeForNamedElement(sourceElement, translatedChild) {\n  const childName = translatedChild.getAttribute(\"data-l10n-name\");\n  const sourceChild = sourceElement.querySelector(`[data-l10n-name=\"${childName}\"]`);\n  if (!sourceChild) {\n    console.warn(`An element named \"${childName}\" wasn't found in the source.`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  if (sourceChild.localName !== translatedChild.localName) {\n    console.warn(`An element named \"${childName}\" was found in the translation ` + `but its type ${translatedChild.localName} didn't match the ` + `element found in the source (${sourceChild.localName}).`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  sourceElement.removeChild(sourceChild);\n  const clone = sourceChild.cloneNode(false);\n  return shallowPopulateUsing(translatedChild, clone);\n}\nfunction createSanitizedElement(element) {\n  const clone = element.ownerDocument.createElement(element.localName);\n  return shallowPopulateUsing(element, clone);\n}\nfunction createTextNodeFromTextContent(element) {\n  return element.ownerDocument.createTextNode(element.textContent);\n}\nfunction isElementAllowed(element) {\n  const allowed = TEXT_LEVEL_ELEMENTS[element.namespaceURI];\n  return allowed && allowed.includes(element.localName);\n}\nfunction isAttrNameLocalizable(name, element, explicitlyAllowed = null) {\n  if (explicitlyAllowed && explicitlyAllowed.includes(name)) {\n    return true;\n  }\n  const allowed = LOCALIZABLE_ATTRIBUTES[element.namespaceURI];\n  if (!allowed) {\n    return false;\n  }\n  const attrName = name.toLowerCase();\n  const elemName = element.localName;\n  if (allowed.global.includes(attrName)) {\n    return true;\n  }\n  if (!allowed[elemName]) {\n    return false;\n  }\n  if (allowed[elemName].includes(attrName)) {\n    return true;\n  }\n  if (element.namespaceURI === \"http://www.w3.org/1999/xhtml\" && elemName === \"input\" && attrName === \"value\") {\n    const type = element.type.toLowerCase();\n    if (type === \"submit\" || type === \"button\" || type === \"reset\") {\n      return true;\n    }\n  }\n  return false;\n}\nfunction shallowPopulateUsing(fromElement, toElement) {\n  toElement.textContent = fromElement.textContent;\n  overlayAttributes(fromElement, toElement);\n  return toElement;\n}\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.for-each.js\nvar esnext_iterator_for_each = __webpack_require__(3949);\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_iterable.mjs\nclass CachedIterable extends Array {\n  static from(iterable) {\n    if (iterable instanceof this) {\n      return iterable;\n    }\n    return new this(iterable);\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_sync_iterable.mjs\n\n\nclass CachedSyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.iterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && last.done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_async_iterable.mjs\n\n\nclass CachedAsyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.asyncIterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.asyncIterator]();\n    } else if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.asyncIterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      async next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  async touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && (await last).done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/index.mjs\n\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/localization.js\n\n\n\n\n\n\n\n\n\n\n\n\nclass Localization {\n  constructor(resourceIds = [], generateBundles) {\n    this.resourceIds = resourceIds;\n    this.generateBundles = generateBundles;\n    this.onChange(true);\n  }\n  addResourceIds(resourceIds, eager = false) {\n    this.resourceIds.push(...resourceIds);\n    this.onChange(eager);\n    return this.resourceIds.length;\n  }\n  removeResourceIds(resourceIds) {\n    this.resourceIds = this.resourceIds.filter(r => !resourceIds.includes(r));\n    this.onChange();\n    return this.resourceIds.length;\n  }\n  async formatWithFallback(keys, method) {\n    const translations = [];\n    let hasAtLeastOneBundle = false;\n    for await (const bundle of this.bundles) {\n      hasAtLeastOneBundle = true;\n      const missingIds = keysFromBundle(method, bundle, keys, translations);\n      if (missingIds.size === 0) {\n        break;\n      }\n      if (typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const ids = Array.from(missingIds).join(\", \");\n        console.warn(`[fluent] Missing translations in ${locale}: ${ids}`);\n      }\n    }\n    if (!hasAtLeastOneBundle && typeof console !== \"undefined\") {\n      console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(keys)}.\n  resourceIds: ${JSON.stringify(this.resourceIds)}.`);\n    }\n    return translations;\n  }\n  formatMessages(keys) {\n    return this.formatWithFallback(keys, messageFromBundle);\n  }\n  formatValues(keys) {\n    return this.formatWithFallback(keys, valueFromBundle);\n  }\n  async formatValue(id, args) {\n    const [val] = await this.formatValues([{\n      id,\n      args\n    }]);\n    return val;\n  }\n  handleEvent() {\n    this.onChange();\n  }\n  onChange(eager = false) {\n    this.bundles = CachedAsyncIterable.from(this.generateBundles(this.resourceIds));\n    if (eager) {\n      this.bundles.touchNext(2);\n    }\n  }\n}\nfunction valueFromBundle(bundle, errors, message, args) {\n  if (message.value) {\n    return bundle.formatPattern(message.value, args, errors);\n  }\n  return null;\n}\nfunction messageFromBundle(bundle, errors, message, args) {\n  const formatted = {\n    value: null,\n    attributes: null\n  };\n  if (message.value) {\n    formatted.value = bundle.formatPattern(message.value, args, errors);\n  }\n  let attrNames = Object.keys(message.attributes);\n  if (attrNames.length > 0) {\n    formatted.attributes = new Array(attrNames.length);\n    for (let [i, name] of attrNames.entries()) {\n      let value = bundle.formatPattern(message.attributes[name], args, errors);\n      formatted.attributes[i] = {\n        name,\n        value\n      };\n    }\n  }\n  return formatted;\n}\nfunction keysFromBundle(method, bundle, keys, translations) {\n  const messageErrors = [];\n  const missingIds = new Set();\n  keys.forEach(({\n    id,\n    args\n  }, i) => {\n    if (translations[i] !== undefined) {\n      return;\n    }\n    let message = bundle.getMessage(id);\n    if (message) {\n      messageErrors.length = 0;\n      translations[i] = method(bundle, messageErrors, message, args);\n      if (messageErrors.length > 0 && typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const errors = messageErrors.join(\", \");\n        console.warn(`[fluent][resolver] errors in ${locale}/${id}: ${errors}.`);\n      }\n    } else {\n      missingIds.add(id);\n    }\n  });\n  return missingIds;\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/dom_localization.js\n\n\n\n\n\n\n\n\n\n\n\n\nconst L10NID_ATTR_NAME = \"data-l10n-id\";\nconst L10NARGS_ATTR_NAME = \"data-l10n-args\";\nconst L10N_ELEMENT_QUERY = `[${L10NID_ATTR_NAME}]`;\nclass DOMLocalization extends Localization {\n  constructor(resourceIds, generateBundles) {\n    super(resourceIds, generateBundles);\n    this.roots = new Set();\n    this.pendingrAF = null;\n    this.pendingElements = new Set();\n    this.windowElement = null;\n    this.mutationObserver = null;\n    this.observerConfig = {\n      attributes: true,\n      characterData: false,\n      childList: true,\n      subtree: true,\n      attributeFilter: [L10NID_ATTR_NAME, L10NARGS_ATTR_NAME]\n    };\n  }\n  onChange(eager = false) {\n    super.onChange(eager);\n    if (this.roots) {\n      this.translateRoots();\n    }\n  }\n  setAttributes(element, id, args) {\n    element.setAttribute(L10NID_ATTR_NAME, id);\n    if (args) {\n      element.setAttribute(L10NARGS_ATTR_NAME, JSON.stringify(args));\n    } else {\n      element.removeAttribute(L10NARGS_ATTR_NAME);\n    }\n    return element;\n  }\n  getAttributes(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n  connectRoot(newRoot) {\n    for (const root of this.roots) {\n      if (root === newRoot || root.contains(newRoot) || newRoot.contains(root)) {\n        throw new Error(\"Cannot add a root that overlaps with existing root.\");\n      }\n    }\n    if (this.windowElement) {\n      if (this.windowElement !== newRoot.ownerDocument.defaultView) {\n        throw new Error(`Cannot connect a root:\n          DOMLocalization already has a root from a different window.`);\n      }\n    } else {\n      this.windowElement = newRoot.ownerDocument.defaultView;\n      this.mutationObserver = new this.windowElement.MutationObserver(mutations => this.translateMutations(mutations));\n    }\n    this.roots.add(newRoot);\n    this.mutationObserver.observe(newRoot, this.observerConfig);\n  }\n  disconnectRoot(root) {\n    this.roots.delete(root);\n    this.pauseObserving();\n    if (this.roots.size === 0) {\n      this.mutationObserver = null;\n      if (this.windowElement && this.pendingrAF) {\n        this.windowElement.cancelAnimationFrame(this.pendingrAF);\n      }\n      this.windowElement = null;\n      this.pendingrAF = null;\n      this.pendingElements.clear();\n      return true;\n    }\n    this.resumeObserving();\n    return false;\n  }\n  translateRoots() {\n    const roots = Array.from(this.roots);\n    return Promise.all(roots.map(root => this.translateFragment(root)));\n  }\n  pauseObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    this.translateMutations(this.mutationObserver.takeRecords());\n    this.mutationObserver.disconnect();\n  }\n  resumeObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    for (const root of this.roots) {\n      this.mutationObserver.observe(root, this.observerConfig);\n    }\n  }\n  translateMutations(mutations) {\n    for (const mutation of mutations) {\n      switch (mutation.type) {\n        case \"attributes\":\n          if (mutation.target.hasAttribute(\"data-l10n-id\")) {\n            this.pendingElements.add(mutation.target);\n          }\n          break;\n        case \"childList\":\n          for (const addedNode of mutation.addedNodes) {\n            if (addedNode.nodeType === addedNode.ELEMENT_NODE) {\n              if (addedNode.childElementCount) {\n                for (const element of this.getTranslatables(addedNode)) {\n                  this.pendingElements.add(element);\n                }\n              } else if (addedNode.hasAttribute(L10NID_ATTR_NAME)) {\n                this.pendingElements.add(addedNode);\n              }\n            }\n          }\n          break;\n      }\n    }\n    if (this.pendingElements.size > 0) {\n      if (this.pendingrAF === null) {\n        this.pendingrAF = this.windowElement.requestAnimationFrame(() => {\n          this.translateElements(Array.from(this.pendingElements));\n          this.pendingElements.clear();\n          this.pendingrAF = null;\n        });\n      }\n    }\n  }\n  translateFragment(frag) {\n    return this.translateElements(this.getTranslatables(frag));\n  }\n  async translateElements(elements) {\n    if (!elements.length) {\n      return undefined;\n    }\n    const keys = elements.map(this.getKeysForElement);\n    const translations = await this.formatMessages(keys);\n    return this.applyTranslations(elements, translations);\n  }\n  applyTranslations(elements, translations) {\n    this.pauseObserving();\n    for (let i = 0; i < elements.length; i++) {\n      if (translations[i] !== undefined) {\n        translateElement(elements[i], translations[i]);\n      }\n    }\n    this.resumeObserving();\n  }\n  getTranslatables(element) {\n    const nodes = Array.from(element.querySelectorAll(L10N_ELEMENT_QUERY));\n    if (typeof element.hasAttribute === \"function\" && element.hasAttribute(L10NID_ATTR_NAME)) {\n      nodes.push(element);\n    }\n    return nodes;\n  }\n  getKeysForElement(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/index.js\n\n\n;// CONCATENATED MODULE: ./web/l10n.js\n\n\n\n\n\n\n\n\nclass L10n {\n  #dir;\n  #elements = new Set();\n  #lang;\n  #l10n;\n  constructor({\n    lang,\n    isRTL\n  }, l10n = null) {\n    this.#lang = L10n.#fixupLangCode(lang);\n    this.#l10n = l10n;\n    this.#dir = isRTL ?? L10n.#isRTL(this.#lang) ? \"rtl\" : \"ltr\";\n  }\n  _setL10n(l10n) {\n    this.#l10n = l10n;\n  }\n  getLanguage() {\n    return this.#lang;\n  }\n  getDirection() {\n    return this.#dir;\n  }\n  async get(ids, args = null, fallback) {\n    if (Array.isArray(ids)) {\n      ids = ids.map(id => ({\n        id\n      }));\n      const messages = await this.#l10n.formatMessages(ids);\n      return messages.map(message => message.value);\n    }\n    const messages = await this.#l10n.formatMessages([{\n      id: ids,\n      args\n    }]);\n    return messages?.[0].value || fallback;\n  }\n  async translate(element) {\n    this.#elements.add(element);\n    try {\n      this.#l10n.connectRoot(element);\n      await this.#l10n.translateRoots();\n    } catch {}\n  }\n  async destroy() {\n    for (const element of this.#elements) {\n      this.#l10n.disconnectRoot(element);\n    }\n    this.#elements.clear();\n    this.#l10n.pauseObserving();\n  }\n  pause() {\n    this.#l10n.pauseObserving();\n  }\n  resume() {\n    this.#l10n.resumeObserving();\n  }\n  static #fixupLangCode(langCode) {\n    langCode = langCode?.toLowerCase() || \"en-us\";\n    const PARTIAL_LANG_CODES = {\n      en: \"en-us\",\n      es: \"es-es\",\n      fy: \"fy-nl\",\n      ga: \"ga-ie\",\n      gu: \"gu-in\",\n      hi: \"hi-in\",\n      hy: \"hy-am\",\n      nb: \"nb-no\",\n      ne: \"ne-np\",\n      nn: \"nn-no\",\n      pa: \"pa-in\",\n      pt: \"pt-pt\",\n      sv: \"sv-se\",\n      zh: \"zh-cn\"\n    };\n    return PARTIAL_LANG_CODES[langCode] || langCode;\n  }\n  static #isRTL(lang) {\n    const shortCode = lang.split(\"-\", 1)[0];\n    return [\"ar\", \"he\", \"fa\", \"ps\", \"ur\"].includes(shortCode);\n  }\n}\nconst GenericL10n = null;\n\n;// CONCATENATED MODULE: ./web/genericl10n.js\n\n\n\n\n\n\n\n\nfunction createBundle(lang, text) {\n  const resource = new FluentResource(text);\n  const bundle = new FluentBundle(lang);\n  const errors = bundle.addResource(resource);\n  if (errors.length) {\n    console.error(\"L10n errors\", errors);\n  }\n  return bundle;\n}\nclass genericl10n_GenericL10n extends L10n {\n  constructor(lang) {\n    super({\n      lang\n    });\n    const generateBundles = !lang ? genericl10n_GenericL10n.#generateBundlesFallback.bind(genericl10n_GenericL10n, this.getLanguage()) : genericl10n_GenericL10n.#generateBundles.bind(genericl10n_GenericL10n, \"en-us\", this.getLanguage());\n    this._setL10n(new DOMLocalization([], generateBundles));\n  }\n  static async *#generateBundles(defaultLang, baseLang) {\n    const {\n      baseURL,\n      paths\n    } = await this.#getPaths();\n    const langs = [baseLang];\n    if (defaultLang !== baseLang) {\n      const shortLang = baseLang.split(\"-\", 1)[0];\n      if (shortLang !== baseLang) {\n        langs.push(shortLang);\n      }\n      langs.push(defaultLang);\n    }\n    for (const lang of langs) {\n      const bundle = await this.#createBundle(lang, baseURL, paths);\n      if (bundle) {\n        yield bundle;\n      } else if (lang === \"en-us\") {\n        yield this.#createBundleFallback(lang);\n      }\n    }\n  }\n  static async #createBundle(lang, baseURL, paths) {\n    const path = paths[lang];\n    if (!path) {\n      return null;\n    }\n    const url = new URL(path, baseURL);\n    const text = await fetchData(url, \"text\");\n    return createBundle(lang, text);\n  }\n  static async #getPaths() {\n    try {\n      const {\n        href\n      } = document.querySelector(`link[type=\"application/l10n\"]`);\n      const paths = await fetchData(href, \"json\");\n      return {\n        baseURL: href.replace(/[^/]*$/, \"\") || \"./\",\n        paths\n      };\n    } catch {}\n    return {\n      baseURL: \"./\",\n      paths: Object.create(null)\n    };\n  }\n  static async *#generateBundlesFallback(lang) {\n    yield this.#createBundleFallback(lang);\n  }\n  static async #createBundleFallback(lang) {\n    const text = \"pdfjs-previous-button =\\n    .title = Previous Page\\npdfjs-previous-button-label = Previous\\npdfjs-next-button =\\n    .title = Next Page\\npdfjs-next-button-label = Next\\npdfjs-page-input =\\n    .title = Page\\npdfjs-of-pages = of { $pagesCount }\\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\\npdfjs-zoom-out-button =\\n    .title = Zoom Out\\npdfjs-zoom-out-button-label = Zoom Out\\npdfjs-zoom-in-button =\\n    .title = Zoom In\\npdfjs-zoom-in-button-label = Zoom In\\npdfjs-zoom-select =\\n    .title = Zoom\\npdfjs-presentation-mode-button =\\n    .title = Switch to Presentation Mode\\npdfjs-presentation-mode-button-label = Presentation Mode\\npdfjs-open-file-button =\\n    .title = Open File\\npdfjs-open-file-button-label = Open\\npdfjs-print-button =\\n    .title = Print\\npdfjs-print-button-label = Print\\npdfjs-save-button =\\n    .title = Save\\npdfjs-save-button-label = Save\\npdfjs-download-button =\\n    .title = Download\\npdfjs-download-button-label = Download\\npdfjs-bookmark-button =\\n    .title = Current Page (View URL from Current Page)\\npdfjs-bookmark-button-label = Current Page\\npdfjs-tools-button =\\n    .title = Tools\\npdfjs-tools-button-label = Tools\\npdfjs-first-page-button =\\n    .title = Go to First Page\\npdfjs-first-page-button-label = Go to First Page\\npdfjs-last-page-button =\\n    .title = Go to Last Page\\npdfjs-last-page-button-label = Go to Last Page\\npdfjs-page-rotate-cw-button =\\n    .title = Rotate Clockwise\\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\\npdfjs-page-rotate-ccw-button =\\n    .title = Rotate Counterclockwise\\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\\npdfjs-cursor-text-select-tool-button =\\n    .title = Enable Text Selection Tool\\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\\npdfjs-cursor-hand-tool-button =\\n    .title = Enable Hand Tool\\npdfjs-cursor-hand-tool-button-label = Hand Tool\\npdfjs-scroll-page-button =\\n    .title = Use Page Scrolling\\npdfjs-scroll-page-button-label = Page Scrolling\\npdfjs-scroll-vertical-button =\\n    .title = Use Vertical Scrolling\\npdfjs-scroll-vertical-button-label = Vertical Scrolling\\npdfjs-scroll-horizontal-button =\\n    .title = Use Horizontal Scrolling\\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\\npdfjs-scroll-wrapped-button =\\n    .title = Use Wrapped Scrolling\\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\\npdfjs-spread-none-button =\\n    .title = Do not join page spreads\\npdfjs-spread-none-button-label = No Spreads\\npdfjs-spread-odd-button =\\n    .title = Join page spreads starting with odd-numbered pages\\npdfjs-spread-odd-button-label = Odd Spreads\\npdfjs-spread-even-button =\\n    .title = Join page spreads starting with even-numbered pages\\npdfjs-spread-even-button-label = Even Spreads\\npdfjs-document-properties-button =\\n    .title = Document Properties\\u2026\\npdfjs-document-properties-button-label = Document Properties\\u2026\\npdfjs-document-properties-file-name = File name:\\npdfjs-document-properties-file-size = File size:\\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\\npdfjs-document-properties-title = Title:\\npdfjs-document-properties-author = Author:\\npdfjs-document-properties-subject = Subject:\\npdfjs-document-properties-keywords = Keywords:\\npdfjs-document-properties-creation-date = Creation Date:\\npdfjs-document-properties-modification-date = Modification Date:\\npdfjs-document-properties-date-string = { $date }, { $time }\\npdfjs-document-properties-creator = Creator:\\npdfjs-document-properties-producer = PDF Producer:\\npdfjs-document-properties-version = PDF Version:\\npdfjs-document-properties-page-count = Page Count:\\npdfjs-document-properties-page-size = Page Size:\\npdfjs-document-properties-page-size-unit-inches = in\\npdfjs-document-properties-page-size-unit-millimeters = mm\\npdfjs-document-properties-page-size-orientation-portrait = portrait\\npdfjs-document-properties-page-size-orientation-landscape = landscape\\npdfjs-document-properties-page-size-name-a-three = A3\\npdfjs-document-properties-page-size-name-a-four = A4\\npdfjs-document-properties-page-size-name-letter = Letter\\npdfjs-document-properties-page-size-name-legal = Legal\\npdfjs-document-properties-page-size-dimension-string = { $width } \\xD7 { $height } { $unit } ({ $orientation })\\npdfjs-document-properties-page-size-dimension-name-string = { $width } \\xD7 { $height } { $unit } ({ $name }, { $orientation })\\npdfjs-document-properties-linearized = Fast Web View:\\npdfjs-document-properties-linearized-yes = Yes\\npdfjs-document-properties-linearized-no = No\\npdfjs-document-properties-close-button = Close\\npdfjs-print-progress-message = Preparing document for printing\\u2026\\npdfjs-print-progress-percent = { $progress }%\\npdfjs-print-progress-close-button = Cancel\\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\\npdfjs-toggle-sidebar-button =\\n    .title = Toggle Sidebar\\npdfjs-toggle-sidebar-notification-button =\\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\\npdfjs-document-outline-button =\\n    .title = Show Document Outline (double-click to expand/collapse all items)\\npdfjs-document-outline-button-label = Document Outline\\npdfjs-attachments-button =\\n    .title = Show Attachments\\npdfjs-attachments-button-label = Attachments\\npdfjs-layers-button =\\n    .title = Show Layers (double-click to reset all layers to the default state)\\npdfjs-layers-button-label = Layers\\npdfjs-thumbs-button =\\n    .title = Show Thumbnails\\npdfjs-thumbs-button-label = Thumbnails\\npdfjs-current-outline-item-button =\\n    .title = Find Current Outline Item\\npdfjs-current-outline-item-button-label = Current Outline Item\\npdfjs-findbar-button =\\n    .title = Find in Document\\npdfjs-findbar-button-label = Find\\npdfjs-additional-layers = Additional Layers\\npdfjs-thumb-page-title =\\n    .title = Page { $page }\\npdfjs-thumb-page-canvas =\\n    .aria-label = Thumbnail of Page { $page }\\npdfjs-find-input =\\n    .title = Find\\n    .placeholder = Find in document\\u2026\\npdfjs-find-previous-button =\\n    .title = Find the previous occurrence of the phrase\\npdfjs-find-previous-button-label = Previous\\npdfjs-find-next-button =\\n    .title = Find the next occurrence of the phrase\\npdfjs-find-next-button-label = Next\\npdfjs-find-highlight-checkbox = Highlight All\\npdfjs-find-match-case-checkbox-label = Match Case\\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\\npdfjs-find-entire-word-checkbox-label = Whole Words\\npdfjs-find-reached-top = Reached top of document, continued from bottom\\npdfjs-find-reached-bottom = Reached end of document, continued from top\\npdfjs-find-match-count =\\n    { $total ->\\n        [one] { $current } of { $total } match\\n       *[other] { $current } of { $total } matches\\n    }\\npdfjs-find-match-count-limit =\\n    { $limit ->\\n        [one] More than { $limit } match\\n       *[other] More than { $limit } matches\\n    }\\npdfjs-find-not-found = Phrase not found\\npdfjs-page-scale-width = Page Width\\npdfjs-page-scale-fit = Page Fit\\npdfjs-page-scale-auto = Automatic Zoom\\npdfjs-page-scale-actual = Actual Size\\npdfjs-page-scale-percent = { $scale }%\\npdfjs-page-landmark =\\n    .aria-label = Page { $page }\\npdfjs-loading-error = An error occurred while loading the PDF.\\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\\npdfjs-missing-file-error = Missing PDF file.\\npdfjs-unexpected-response-error = Unexpected server response.\\npdfjs-rendering-error = An error occurred while rendering the page.\\npdfjs-annotation-date-string = { $date }, { $time }\\npdfjs-text-annotation-type =\\n    .alt = [{ $type } Annotation]\\npdfjs-password-label = Enter the password to open this PDF file.\\npdfjs-password-invalid = Invalid password. Please try again.\\npdfjs-password-ok-button = OK\\npdfjs-password-cancel-button = Cancel\\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\\npdfjs-editor-free-text-button =\\n    .title = Text\\npdfjs-editor-free-text-button-label = Text\\npdfjs-editor-ink-button =\\n    .title = Draw\\npdfjs-editor-ink-button-label = Draw\\npdfjs-editor-stamp-button =\\n    .title = Add or edit images\\npdfjs-editor-stamp-button-label = Add or edit images\\npdfjs-editor-highlight-button =\\n    .title = Highlight\\npdfjs-editor-highlight-button-label = Highlight\\npdfjs-highlight-floating-button1 =\\n    .title = Highlight\\n    .aria-label = Highlight\\npdfjs-highlight-floating-button-label = Highlight\\npdfjs-editor-remove-ink-button =\\n    .title = Remove drawing\\npdfjs-editor-remove-freetext-button =\\n    .title = Remove text\\npdfjs-editor-remove-stamp-button =\\n    .title = Remove image\\npdfjs-editor-remove-highlight-button =\\n    .title = Remove highlight\\npdfjs-editor-free-text-color-input = Color\\npdfjs-editor-free-text-size-input = Size\\npdfjs-editor-ink-color-input = Color\\npdfjs-editor-ink-thickness-input = Thickness\\npdfjs-editor-ink-opacity-input = Opacity\\npdfjs-editor-stamp-add-image-button =\\n    .title = Add image\\npdfjs-editor-stamp-add-image-button-label = Add image\\npdfjs-editor-free-highlight-thickness-input = Thickness\\npdfjs-editor-free-highlight-thickness-title =\\n    .title = Change thickness when highlighting items other than text\\npdfjs-free-text =\\n    .aria-label = Text Editor\\npdfjs-free-text-default-content = Start typing\\u2026\\npdfjs-ink =\\n    .aria-label = Draw Editor\\npdfjs-ink-canvas =\\n    .aria-label = User-created image\\npdfjs-editor-alt-text-button-label = Alt text\\npdfjs-editor-alt-text-edit-button-label = Edit alt text\\npdfjs-editor-alt-text-dialog-label = Choose an option\\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\\u2019t see the image or when it doesn\\u2019t load.\\npdfjs-editor-alt-text-add-description-label = Add a description\\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\\npdfjs-editor-alt-text-cancel-button = Cancel\\npdfjs-editor-alt-text-save-button = Save\\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\\npdfjs-editor-alt-text-textarea =\\n    .placeholder = For example, \\u201CA young man sits down at a table to eat a meal\\u201D\\npdfjs-editor-resizer-label-top-left = Top left corner \\u2014 resize\\npdfjs-editor-resizer-label-top-middle = Top middle \\u2014 resize\\npdfjs-editor-resizer-label-top-right = Top right corner \\u2014 resize\\npdfjs-editor-resizer-label-middle-right = Middle right \\u2014 resize\\npdfjs-editor-resizer-label-bottom-right = Bottom right corner \\u2014 resize\\npdfjs-editor-resizer-label-bottom-middle = Bottom middle \\u2014 resize\\npdfjs-editor-resizer-label-bottom-left = Bottom left corner \\u2014 resize\\npdfjs-editor-resizer-label-middle-left = Middle left \\u2014 resize\\npdfjs-editor-highlight-colorpicker-label = Highlight color\\npdfjs-editor-colorpicker-button =\\n    .title = Change color\\npdfjs-editor-colorpicker-dropdown =\\n    .aria-label = Color choices\\npdfjs-editor-colorpicker-yellow =\\n    .title = Yellow\\npdfjs-editor-colorpicker-green =\\n    .title = Green\\npdfjs-editor-colorpicker-blue =\\n    .title = Blue\\npdfjs-editor-colorpicker-pink =\\n    .title = Pink\\npdfjs-editor-colorpicker-red =\\n    .title = Red\\npdfjs-editor-highlight-show-all-button-label = Show all\\npdfjs-editor-highlight-show-all-button =\\n    .title = Show all\";\n    return createBundle(lang, text);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_history.js\n\n\nconst HASH_CHANGE_TIMEOUT = 1000;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1000;\nfunction getCurrentHash() {\n  return document.location.hash;\n}\nclass PDFHistory {\n  #eventAbortController = null;\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n      this.eventBus._on(\"pagesloaded\", evt => {\n        this._isPagesLoaded = !!evt.pagesCount;\n      }, {\n        once: true\n      });\n    });\n  }\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n    if (this._initialized) {\n      this.reset();\n    }\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n    this.#bindEvents();\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n    if (!this.#isValidState(state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = this.#parseCurrentHash(true);\n      if (!hash || reInitialized || resetHistory) {\n        this.#pushOrReplaceState(null, true);\n        return;\n      }\n      this.#pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    const destination = state.destination;\n    this.#updateInternalState(destination, state.uid, true);\n    if (destination.rotation !== undefined) {\n      this._initialRotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n  reset() {\n    if (this._initialized) {\n      this.#pageHide();\n      this._initialized = false;\n      this.#unbindEvents();\n    }\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(\"PDFHistory.push: \" + `\"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(\"PDFHistory.push: \" + `\"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!this.#isValidPage(pageNumber)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(\"PDFHistory.push: \" + `\"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n    const hash = namedDest || JSON.stringify(explicitDest);\n    if (!hash) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n      forceReplace = true;\n    }\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n    this.#pushOrReplaceState({\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushPage(pageNumber) {\n    if (!this._initialized) {\n      return;\n    }\n    if (!this.#isValidPage(pageNumber)) {\n      console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n      return;\n    }\n    if (this._destination?.page === pageNumber) {\n      return;\n    }\n    if (this._popStateInProgress) {\n      return;\n    }\n    this.#pushOrReplaceState({\n      dest: null,\n      hash: `page=${pageNumber}`,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    });\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    this.#tryPushCurrentPosition();\n  }\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (this.#isValidState(state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (this.#isValidState(state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n  #pushOrReplaceState(destination, forceReplace = false) {\n    const shouldReplace = forceReplace || !this._destination;\n    const newState = {\n      fingerprint: this._fingerprint,\n      uid: shouldReplace ? this._uid : this._uid + 1,\n      destination\n    };\n    this.#updateInternalState(destination, newState.uid);\n    let newUrl;\n    if (this._updateUrl && destination?.hash) {\n      const baseUrl = document.location.href.split(\"#\", 1)[0];\n      if (!baseUrl.startsWith(\"file://\")) {\n        newUrl = `${baseUrl}#${destination.hash}`;\n      }\n    }\n    if (shouldReplace) {\n      window.history.replaceState(newState, \"\", newUrl);\n    } else {\n      window.history.pushState(newState, \"\", newUrl);\n    }\n  }\n  #tryPushCurrentPosition(temporary = false) {\n    if (!this._position) {\n      return;\n    }\n    let position = this._position;\n    if (temporary) {\n      position = Object.assign(Object.create(null), this._position);\n      position.temporary = true;\n    }\n    if (!this._destination) {\n      this.#pushOrReplaceState(position);\n      return;\n    }\n    if (this._destination.temporary) {\n      this.#pushOrReplaceState(position, true);\n      return;\n    }\n    if (this._destination.hash === position.hash) {\n      return;\n    }\n    if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination.page >= position.first && this._destination.page <= position.page) {\n      if (this._destination.dest !== undefined || !this._destination.first) {\n        return;\n      }\n      forceReplace = true;\n    }\n    this.#pushOrReplaceState(position, forceReplace);\n  }\n  #isValidPage(val) {\n    return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n  }\n  #isValidState(state, checkReload = false) {\n    if (!state) {\n      return false;\n    }\n    if (state.fingerprint !== this._fingerprint) {\n      if (checkReload) {\n        if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n          return false;\n        }\n        const [perfEntry] = performance.getEntriesByType(\"navigation\");\n        if (perfEntry?.type !== \"reload\") {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n    if (!Number.isInteger(state.uid) || state.uid < 0) {\n      return false;\n    }\n    if (state.destination === null || typeof state.destination !== \"object\") {\n      return false;\n    }\n    return true;\n  }\n  #updateInternalState(destination, uid, removeTemporary = false) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    if (removeTemporary && destination?.temporary) {\n      delete destination.temporary;\n    }\n    this._destination = destination;\n    this._uid = uid;\n    this._maxUid = Math.max(this._maxUid, uid);\n    this._numPositionUpdates = 0;\n  }\n  #parseCurrentHash(checkNameddest = false) {\n    const hash = unescape(getCurrentHash()).substring(1);\n    const params = parseQueryString(hash);\n    const nameddest = params.get(\"nameddest\") || \"\";\n    let page = params.get(\"page\") | 0;\n    if (!this.#isValidPage(page) || checkNameddest && nameddest.length > 0) {\n      page = null;\n    }\n    return {\n      hash,\n      page,\n      rotation: this.linkService.rotation\n    };\n  }\n  #updateViewarea({\n    location\n  }) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._position = {\n      hash: location.pdfOpenParams.substring(1),\n      page: this.linkService.page,\n      first: location.pageNumber,\n      rotation: location.rotation\n    };\n    if (this._popStateInProgress) {\n      return;\n    }\n    if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n      this._numPositionUpdates++;\n    }\n    if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n      this._updateViewareaTimeout = setTimeout(() => {\n        if (!this._popStateInProgress) {\n          this.#tryPushCurrentPosition(true);\n        }\n        this._updateViewareaTimeout = null;\n      }, UPDATE_VIEWAREA_TIMEOUT);\n    }\n  }\n  #popState({\n    state\n  }) {\n    const newHash = getCurrentHash(),\n      hashChanged = this._currentHash !== newHash;\n    this._currentHash = newHash;\n    if (!state) {\n      this._uid++;\n      const {\n        hash,\n        page,\n        rotation\n      } = this.#parseCurrentHash();\n      this.#pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    if (!this.#isValidState(state)) {\n      return;\n    }\n    this._popStateInProgress = true;\n    if (hashChanged) {\n      this._blockHashChange++;\n      waitOnEventOrTimeout({\n        target: window,\n        name: \"hashchange\",\n        delay: HASH_CHANGE_TIMEOUT\n      }).then(() => {\n        this._blockHashChange--;\n      });\n    }\n    const destination = state.destination;\n    this.#updateInternalState(destination, state.uid, true);\n    if (isValidRotation(destination.rotation)) {\n      this.linkService.rotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this.linkService.goToDestination(destination.dest);\n    } else if (destination.hash) {\n      this.linkService.setHash(destination.hash);\n    } else if (destination.page) {\n      this.linkService.page = destination.page;\n    }\n    Promise.resolve().then(() => {\n      this._popStateInProgress = false;\n    });\n  }\n  #pageHide() {\n    if (!this._destination || this._destination.temporary) {\n      this.#tryPushCurrentPosition();\n    }\n  }\n  #bindEvents() {\n    if (this.#eventAbortController) {\n      return;\n    }\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    this.eventBus._on(\"updateviewarea\", this.#updateViewarea.bind(this), {\n      signal\n    });\n    window.addEventListener(\"popstate\", this.#popState.bind(this), {\n      signal\n    });\n    window.addEventListener(\"pagehide\", this.#pageHide.bind(this), {\n      signal\n    });\n  }\n  #unbindEvents() {\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n  }\n}\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n  if (destHash === pushHash) {\n    return true;\n  }\n  const nameddest = parseQueryString(destHash).get(\"nameddest\");\n  if (nameddest === pushHash) {\n    return true;\n  }\n  return false;\n}\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n;// CONCATENATED MODULE: ./web/annotation_editor_layer_builder.js\n\n\nclass AnnotationEditorLayerBuilder {\n  #annotationLayer = null;\n  #drawLayer = null;\n  #onAppend = null;\n  #textLayer = null;\n  #uiManager;\n  constructor(options) {\n    this.pdfPage = options.pdfPage;\n    this.accessibilityManager = options.accessibilityManager;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.annotationEditorLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this.#uiManager = options.uiManager;\n    this.#annotationLayer = options.annotationLayer || null;\n    this.#textLayer = options.textLayer || null;\n    this.#drawLayer = options.drawLayer || null;\n    this.#onAppend = options.onAppend || null;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent !== \"display\") {\n      return;\n    }\n    if (this._cancelled) {\n      return;\n    }\n    const clonedViewport = viewport.clone({\n      dontFlip: true\n    });\n    if (this.div) {\n      this.annotationEditorLayer.update({\n        viewport: clonedViewport\n      });\n      this.show();\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationEditorLayer\";\n    div.hidden = true;\n    div.dir = this.#uiManager.direction;\n    this.#onAppend?.(div);\n    this.annotationEditorLayer = new AnnotationEditorLayer({\n      uiManager: this.#uiManager,\n      div,\n      accessibilityManager: this.accessibilityManager,\n      pageIndex: this.pdfPage.pageNumber - 1,\n      l10n: this.l10n,\n      viewport: clonedViewport,\n      annotationLayer: this.#annotationLayer,\n      textLayer: this.#textLayer,\n      drawLayer: this.#drawLayer\n    });\n    const parameters = {\n      viewport: clonedViewport,\n      div,\n      annotations: null,\n      intent\n    };\n    this.annotationEditorLayer.render(parameters);\n    this.show();\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.div) {\n      return;\n    }\n    this.annotationEditorLayer.destroy();\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  show() {\n    if (!this.div || this.annotationEditorLayer.isInvisible) {\n      return;\n    }\n    this.div.hidden = false;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/app_options.js\n{\n  var compatParams = new Map();\n  const userAgent = navigator.userAgent || \"\";\n  const platform = navigator.platform || \"\";\n  const maxTouchPoints = navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n  (function () {\n    if (isIOS || isAndroid) {\n      compatParams.set(\"maxCanvasPixels\", 5242880);\n    }\n  })();\n  (function () {\n    if (isAndroid) {\n      compatParams.set(\"useSystemFonts\", false);\n    }\n  })();\n}\nconst OptionKind = {\n  BROWSER: 0x01,\n  VIEWER: 0x02,\n  API: 0x04,\n  WORKER: 0x08,\n  EVENT_DISPATCH: 0x10,\n  PREFERENCE: 0x80\n};\nconst Type = {\n  BOOLEAN: 0x01,\n  NUMBER: 0x02,\n  OBJECT: 0x04,\n  STRING: 0x08,\n  UNDEFINED: 0x10\n};\nconst defaultOptions = {\n  allowedGlobalEvents: {\n    value: null,\n    kind: OptionKind.BROWSER\n  },\n  canvasMaxAreaInBytes: {\n    value: -1,\n    kind: OptionKind.BROWSER + OptionKind.API\n  },\n  isInAutomation: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  localeProperties: {\n    value: {\n      lang: navigator.language || \"en-US\"\n    },\n    kind: OptionKind.BROWSER\n  },\n  nimbusDataStr: {\n    value: \"\",\n    kind: OptionKind.BROWSER\n  },\n  supportsCaretBrowsingMode: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsDocumentFonts: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsIntegratedFind: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomCtrlKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomMetaKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsPinchToZoom: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  toolbarDensity: {\n    value: 0,\n    kind: OptionKind.BROWSER + OptionKind.EVENT_DISPATCH\n  },\n  altTextLearnMoreUrl: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationEditorMode: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationMode: {\n    value: 2,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  debuggerSrc: {\n    value: \"./debugger.mjs\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomDelay: {\n    value: 400,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableAltText: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableGuessAltText: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightEditor: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightFloatingButton: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableScripting: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableUpdatedAddImage: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  highlightEditorColors: {\n    value: \"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 2 ** 25,\n    kind: OptionKind.VIEWER\n  },\n  forcePageColors: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsBackground: {\n    value: \"Canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsForeground: {\n    value: \"CanvasText\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  enableHWA: {\n    value: true,\n    kind: OptionKind.API + OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableXfa: {\n    value: true,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  isOffscreenCanvasSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  standardFontDataUrl: {\n    value: \"../web/standard_fonts/\",\n    kind: OptionKind.API\n  },\n  useSystemFonts: {\n    value: undefined,\n    kind: OptionKind.API,\n    type: Type.BOOLEAN + Type.UNDEFINED\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.mjs\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.defaultUrl = {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.sandboxBundleSrc = {\n    value: \"../build/pdf.sandbox.mjs\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.viewerCssTheme = {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  };\n}\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n}\nconst userOptions = new Map();\n{\n  for (const [name, value] of compatParams) {\n    userOptions.set(name, value);\n  }\n}\nclass AppOptions {\n  static eventBus;\n  constructor() {\n    throw new Error(\"Cannot initialize AppOptions.\");\n  }\n  static get(name) {\n    return userOptions.has(name) ? userOptions.get(name) : defaultOptions[name]?.value;\n  }\n  static getAll(kind = null, defaultOnly = false) {\n    const options = Object.create(null);\n    for (const name in defaultOptions) {\n      const defaultOpt = defaultOptions[name];\n      if (kind && !(kind & defaultOpt.kind)) {\n        continue;\n      }\n      options[name] = !defaultOnly && userOptions.has(name) ? userOptions.get(name) : defaultOpt.value;\n    }\n    return options;\n  }\n  static set(name, value) {\n    this.setAll({\n      [name]: value\n    });\n  }\n  static setAll(options, prefs = false) {\n    let events;\n    for (const name in options) {\n      const defaultOpt = defaultOptions[name],\n        userOpt = options[name];\n      if (!defaultOpt || !(typeof userOpt === typeof defaultOpt.value || Type[(typeof userOpt).toUpperCase()] & defaultOpt.type)) {\n        continue;\n      }\n      const {\n        kind\n      } = defaultOpt;\n      if (prefs && !(kind & OptionKind.BROWSER || kind & OptionKind.PREFERENCE)) {\n        continue;\n      }\n      if (this.eventBus && kind & OptionKind.EVENT_DISPATCH) {\n        (events ||= new Map()).set(name, userOpt);\n      }\n      userOptions.set(name, userOpt);\n    }\n    if (events) {\n      for (const [name, value] of events) {\n        this.eventBus.dispatch(name.toLowerCase(), {\n          source: this,\n          value\n        });\n      }\n    }\n  }\n}\n{\n  AppOptions._checkDisablePreferences = () => {\n    if (AppOptions.get(\"disablePreferences\")) {\n      return true;\n    }\n    for (const [name] of userOptions) {\n      if (compatParams.has(name)) {\n        continue;\n      }\n      console.warn(\"The Preferences may override manually set AppOptions; \" + 'please use the \"disablePreferences\"-option to prevent that.');\n      break;\n    }\n    return false;\n  };\n}\n\n;// CONCATENATED MODULE: ./web/draw_layer_builder.js\n\nclass DrawLayerBuilder {\n  #drawLayer = null;\n  constructor(options) {\n    this.pageIndex = options.pageIndex;\n  }\n  async render(intent = \"display\") {\n    if (intent !== \"display\" || this.#drawLayer || this._cancelled) {\n      return;\n    }\n    this.#drawLayer = new DrawLayer({\n      pageIndex: this.pageIndex\n    });\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.#drawLayer) {\n      return;\n    }\n    this.#drawLayer.destroy();\n    this.#drawLayer = null;\n  }\n  setParent(parent) {\n    this.#drawLayer?.setParent(parent);\n  }\n  getDrawLayer() {\n    return this.#drawLayer;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/struct_tree_layer_builder.js\n\nconst PDF_ROLE_TO_HTML_ROLE = {\n  Document: null,\n  DocumentFragment: null,\n  Part: \"group\",\n  Sect: \"group\",\n  Div: \"group\",\n  Aside: \"note\",\n  NonStruct: \"none\",\n  P: null,\n  H: \"heading\",\n  Title: null,\n  FENote: \"note\",\n  Sub: \"group\",\n  Lbl: null,\n  Span: null,\n  Em: null,\n  Strong: null,\n  Link: \"link\",\n  Annot: \"note\",\n  Form: \"form\",\n  Ruby: null,\n  RB: null,\n  RT: null,\n  RP: null,\n  Warichu: null,\n  WT: null,\n  WP: null,\n  L: \"list\",\n  LI: \"listitem\",\n  LBody: null,\n  Table: \"table\",\n  TR: \"row\",\n  TH: \"columnheader\",\n  TD: \"cell\",\n  THead: \"columnheader\",\n  TBody: null,\n  TFoot: null,\n  Caption: null,\n  Figure: \"figure\",\n  Formula: null,\n  Artifact: null\n};\nconst HEADING_PATTERN = /^H(\\d+)$/;\nclass StructTreeLayerBuilder {\n  #treeDom = undefined;\n  get renderingDone() {\n    return this.#treeDom !== undefined;\n  }\n  render(structTree) {\n    if (this.#treeDom !== undefined) {\n      return this.#treeDom;\n    }\n    const treeDom = this.#walk(structTree);\n    treeDom?.classList.add(\"structTree\");\n    return this.#treeDom = treeDom;\n  }\n  hide() {\n    if (this.#treeDom && !this.#treeDom.hidden) {\n      this.#treeDom.hidden = true;\n    }\n  }\n  show() {\n    if (this.#treeDom?.hidden) {\n      this.#treeDom.hidden = false;\n    }\n  }\n  #setAttributes(structElement, htmlElement) {\n    const {\n      alt,\n      id,\n      lang\n    } = structElement;\n    if (alt !== undefined) {\n      htmlElement.setAttribute(\"aria-label\", removeNullCharacters(alt));\n    }\n    if (id !== undefined) {\n      htmlElement.setAttribute(\"aria-owns\", id);\n    }\n    if (lang !== undefined) {\n      htmlElement.setAttribute(\"lang\", removeNullCharacters(lang, true));\n    }\n  }\n  #walk(node) {\n    if (!node) {\n      return null;\n    }\n    const element = document.createElement(\"span\");\n    if (\"role\" in node) {\n      const {\n        role\n      } = node;\n      const match = role.match(HEADING_PATTERN);\n      if (match) {\n        element.setAttribute(\"role\", \"heading\");\n        element.setAttribute(\"aria-level\", match[1]);\n      } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n        element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n      }\n    }\n    this.#setAttributes(node, element);\n    if (node.children) {\n      if (node.children.length === 1 && \"id\" in node.children[0]) {\n        this.#setAttributes(node.children[0], element);\n      } else {\n        for (const kid of node.children) {\n          element.append(this.#walk(kid));\n        }\n      }\n    }\n    return element;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_accessibility.js\n\n\n\nclass TextAccessibilityManager {\n  #enabled = false;\n  #textChildren = null;\n  #textNodes = new Map();\n  #waitingElements = new Map();\n  setTextMapping(textDivs) {\n    this.#textChildren = textDivs;\n  }\n  static #compareElementPositions(e1, e2) {\n    const rect1 = e1.getBoundingClientRect();\n    const rect2 = e2.getBoundingClientRect();\n    if (rect1.width === 0 && rect1.height === 0) {\n      return +1;\n    }\n    if (rect2.width === 0 && rect2.height === 0) {\n      return -1;\n    }\n    const top1 = rect1.y;\n    const bot1 = rect1.y + rect1.height;\n    const mid1 = rect1.y + rect1.height / 2;\n    const top2 = rect2.y;\n    const bot2 = rect2.y + rect2.height;\n    const mid2 = rect2.y + rect2.height / 2;\n    if (mid1 <= top2 && mid2 >= bot1) {\n      return -1;\n    }\n    if (mid2 <= top1 && mid1 >= bot2) {\n      return +1;\n    }\n    const centerX1 = rect1.x + rect1.width / 2;\n    const centerX2 = rect2.x + rect2.width / 2;\n    return centerX1 - centerX2;\n  }\n  enable() {\n    if (this.#enabled) {\n      throw new Error(\"TextAccessibilityManager is already enabled.\");\n    }\n    if (!this.#textChildren) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    this.#enabled = true;\n    this.#textChildren = this.#textChildren.slice();\n    this.#textChildren.sort(TextAccessibilityManager.#compareElementPositions);\n    if (this.#textNodes.size > 0) {\n      const textChildren = this.#textChildren;\n      for (const [id, nodeIndex] of this.#textNodes) {\n        const element = document.getElementById(id);\n        if (!element) {\n          this.#textNodes.delete(id);\n          continue;\n        }\n        this.#addIdToAriaOwns(id, textChildren[nodeIndex]);\n      }\n    }\n    for (const [element, isRemovable] of this.#waitingElements) {\n      this.addPointerInTextLayer(element, isRemovable);\n    }\n    this.#waitingElements.clear();\n  }\n  disable() {\n    if (!this.#enabled) {\n      return;\n    }\n    this.#waitingElements.clear();\n    this.#textChildren = null;\n    this.#enabled = false;\n  }\n  removePointerInTextLayer(element) {\n    if (!this.#enabled) {\n      this.#waitingElements.delete(element);\n      return;\n    }\n    const children = this.#textChildren;\n    if (!children || children.length === 0) {\n      return;\n    }\n    const {\n      id\n    } = element;\n    const nodeIndex = this.#textNodes.get(id);\n    if (nodeIndex === undefined) {\n      return;\n    }\n    const node = children[nodeIndex];\n    this.#textNodes.delete(id);\n    let owns = node.getAttribute(\"aria-owns\");\n    if (owns?.includes(id)) {\n      owns = owns.split(\" \").filter(x => x !== id).join(\" \");\n      if (owns) {\n        node.setAttribute(\"aria-owns\", owns);\n      } else {\n        node.removeAttribute(\"aria-owns\");\n        node.setAttribute(\"role\", \"presentation\");\n      }\n    }\n  }\n  #addIdToAriaOwns(id, node) {\n    const owns = node.getAttribute(\"aria-owns\");\n    if (!owns?.includes(id)) {\n      node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n    }\n    node.removeAttribute(\"role\");\n  }\n  addPointerInTextLayer(element, isRemovable) {\n    const {\n      id\n    } = element;\n    if (!id) {\n      return null;\n    }\n    if (!this.#enabled) {\n      this.#waitingElements.set(element, isRemovable);\n      return null;\n    }\n    if (isRemovable) {\n      this.removePointerInTextLayer(element);\n    }\n    const children = this.#textChildren;\n    if (!children || children.length === 0) {\n      return null;\n    }\n    const index = binarySearchFirstItem(children, node => TextAccessibilityManager.#compareElementPositions(element, node) < 0);\n    const nodeIndex = Math.max(0, index - 1);\n    const child = children[nodeIndex];\n    this.#addIdToAriaOwns(id, child);\n    this.#textNodes.set(id, nodeIndex);\n    const parent = child.parentNode;\n    return parent?.classList.contains(\"markedContent\") ? parent.id : null;\n  }\n  moveElementInDOM(container, element, contentElement, isRemovable) {\n    const id = this.addPointerInTextLayer(contentElement, isRemovable);\n    if (!container.hasChildNodes()) {\n      container.append(element);\n      return id;\n    }\n    const children = Array.from(container.childNodes).filter(node => node !== element);\n    if (children.length === 0) {\n      return id;\n    }\n    const elementToCompare = contentElement || element;\n    const index = binarySearchFirstItem(children, node => TextAccessibilityManager.#compareElementPositions(elementToCompare, node) < 0);\n    if (index === 0) {\n      children[0].before(element);\n    } else {\n      children[index - 1].after(element);\n    }\n    return id;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_highlighter.js\n\nclass TextHighlighter {\n  #eventAbortController = null;\n  constructor({\n    findController,\n    eventBus,\n    pageIndex\n  }) {\n    this.findController = findController;\n    this.matches = [];\n    this.eventBus = eventBus;\n    this.pageIdx = pageIndex;\n    this.textDivs = null;\n    this.textContentItemsStr = null;\n    this.enabled = false;\n  }\n  setTextMapping(divs, texts) {\n    this.textDivs = divs;\n    this.textContentItemsStr = texts;\n  }\n  enable() {\n    if (!this.textDivs || !this.textContentItemsStr) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    if (this.enabled) {\n      throw new Error(\"TextHighlighter is already enabled.\");\n    }\n    this.enabled = true;\n    if (!this.#eventAbortController) {\n      this.#eventAbortController = new AbortController();\n      this.eventBus._on(\"updatetextlayermatches\", evt => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      }, {\n        signal: this.#eventAbortController.signal\n      });\n    }\n    this._updateMatches();\n  }\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n    this.enabled = false;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this._updateMatches(true);\n  }\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n    const {\n      textContentItemsStr\n    } = this;\n    let i = 0,\n      iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const result = [];\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n      const match = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n      matchIdx += matchesLength[m];\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      match.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match);\n    }\n    return result;\n  }\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n    const {\n      findController,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: undefined\n    };\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      return appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n      if (div.nodeType === Node.TEXT_NODE) {\n        const span = document.createElement(\"span\");\n        div.before(span);\n        span.append(div);\n        textDivs[divIdx] = span;\n        div = span;\n      }\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = `${className} appended`;\n        span.append(node);\n        div.append(span);\n        return className.includes(\"selected\") ? span.offsetLeft : 0;\n      }\n      div.append(node);\n      return 0;\n    }\n    let i0 = selectedMatchIdx,\n      i1 = i0 + 1;\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n    let lastDivIdx = -1;\n    let lastOffset = -1;\n    for (let i = i0; i < i1; i++) {\n      const match = matches[i];\n      const begin = match.begin;\n      if (begin.divIdx === lastDivIdx && begin.offset === lastOffset) {\n        continue;\n      }\n      lastDivIdx = begin.divIdx;\n      lastOffset = begin.offset;\n      const end = match.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n      let selectedLeft = 0;\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n      if (begin.divIdx === end.divIdx) {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n      prevEnd = end;\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          selectedLeft,\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n    }\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n  _updateMatches(reset = false) {\n    if (!this.enabled && !reset) {\n      return;\n    }\n    const {\n      findController,\n      matches,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n    for (const match of matches) {\n      const begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n      for (let n = begin, end = match.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n      clearedUntilDivIdx = match.end.divIdx + 1;\n    }\n    if (!findController?.highlightMatches || reset) {\n      return;\n    }\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n    this._renderMatches(this.matches);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_layer_builder.js\n\n\n\n\n\n\n\n\n\n\n\nclass TextLayerBuilder {\n  #enablePermissions = false;\n  #onAppend = null;\n  #renderingDone = false;\n  #textLayer = null;\n  static #textLayers = new Map();\n  static #selectionChangeAbortController = null;\n  constructor({\n    pdfPage,\n    highlighter = null,\n    accessibilityManager = null,\n    enablePermissions = false,\n    onAppend = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.highlighter = highlighter;\n    this.accessibilityManager = accessibilityManager;\n    this.#enablePermissions = enablePermissions === true;\n    this.#onAppend = onAppend;\n    this.div = document.createElement(\"div\");\n    this.div.tabIndex = 0;\n    this.div.className = \"textLayer\";\n  }\n  async render(viewport, textContentParams = null) {\n    if (this.#renderingDone && this.#textLayer) {\n      this.#textLayer.update({\n        viewport,\n        onBefore: this.hide.bind(this)\n      });\n      this.show();\n      return;\n    }\n    this.cancel();\n    this.#textLayer = new TextLayer({\n      textContentSource: this.pdfPage.streamTextContent(textContentParams || {\n        includeMarkedContent: true,\n        disableNormalization: true\n      }),\n      container: this.div,\n      viewport\n    });\n    const {\n      textDivs,\n      textContentItemsStr\n    } = this.#textLayer;\n    this.highlighter?.setTextMapping(textDivs, textContentItemsStr);\n    this.accessibilityManager?.setTextMapping(textDivs);\n    await this.#textLayer.render();\n    this.#renderingDone = true;\n    const endOfContent = document.createElement(\"div\");\n    endOfContent.className = \"endOfContent\";\n    this.div.append(endOfContent);\n    this.#bindMouse(endOfContent);\n    this.#onAppend?.(this.div);\n    this.highlighter?.enable();\n    this.accessibilityManager?.enable();\n  }\n  hide() {\n    if (!this.div.hidden && this.#renderingDone) {\n      this.highlighter?.disable();\n      this.div.hidden = true;\n    }\n  }\n  show() {\n    if (this.div.hidden && this.#renderingDone) {\n      this.div.hidden = false;\n      this.highlighter?.enable();\n    }\n  }\n  cancel() {\n    this.#textLayer?.cancel();\n    this.#textLayer = null;\n    this.highlighter?.disable();\n    this.accessibilityManager?.disable();\n    TextLayerBuilder.#removeGlobalSelectionListener(this.div);\n  }\n  #bindMouse(end) {\n    const {\n      div\n    } = this;\n    div.addEventListener(\"mousedown\", evt => {\n      end.classList.add(\"active\");\n    });\n    div.addEventListener(\"copy\", event => {\n      if (!this.#enablePermissions) {\n        const selection = document.getSelection();\n        event.clipboardData.setData(\"text/plain\", removeNullCharacters(normalizeUnicode(selection.toString())));\n      }\n      event.preventDefault();\n      event.stopPropagation();\n    });\n    TextLayerBuilder.#textLayers.set(div, end);\n    TextLayerBuilder.#enableGlobalSelectionListener();\n  }\n  static #removeGlobalSelectionListener(textLayerDiv) {\n    this.#textLayers.delete(textLayerDiv);\n    if (this.#textLayers.size === 0) {\n      this.#selectionChangeAbortController?.abort();\n      this.#selectionChangeAbortController = null;\n    }\n  }\n  static #enableGlobalSelectionListener() {\n    if (this.#selectionChangeAbortController) {\n      return;\n    }\n    this.#selectionChangeAbortController = new AbortController();\n    const {\n      signal\n    } = this.#selectionChangeAbortController;\n    const reset = (end, textLayer) => {\n      textLayer.append(end);\n      end.style.width = \"\";\n      end.style.height = \"\";\n      end.classList.remove(\"active\");\n    };\n    document.addEventListener(\"pointerup\", () => {\n      this.#textLayers.forEach(reset);\n    }, {\n      signal\n    });\n    var isFirefox, prevRange;\n    document.addEventListener(\"selectionchange\", () => {\n      const selection = document.getSelection();\n      if (selection.rangeCount === 0) {\n        this.#textLayers.forEach(reset);\n        return;\n      }\n      const activeTextLayers = new Set();\n      for (let i = 0; i < selection.rangeCount; i++) {\n        const range = selection.getRangeAt(i);\n        for (const textLayerDiv of this.#textLayers.keys()) {\n          if (!activeTextLayers.has(textLayerDiv) && range.intersectsNode(textLayerDiv)) {\n            activeTextLayers.add(textLayerDiv);\n          }\n        }\n      }\n      for (const [textLayerDiv, endDiv] of this.#textLayers) {\n        if (activeTextLayers.has(textLayerDiv)) {\n          endDiv.classList.add(\"active\");\n        } else {\n          reset(endDiv, textLayerDiv);\n        }\n      }\n      isFirefox ??= getComputedStyle(this.#textLayers.values().next().value).getPropertyValue(\"-moz-user-select\") === \"none\";\n      if (isFirefox) {\n        return;\n      }\n      const range = selection.getRangeAt(0);\n      const modifyStart = prevRange && (range.compareBoundaryPoints(Range.END_TO_END, prevRange) === 0 || range.compareBoundaryPoints(Range.START_TO_END, prevRange) === 0);\n      let anchor = modifyStart ? range.startContainer : range.endContainer;\n      if (anchor.nodeType === Node.TEXT_NODE) {\n        anchor = anchor.parentNode;\n      }\n      const parentTextLayer = anchor.parentElement.closest(\".textLayer\");\n      const endDiv = this.#textLayers.get(parentTextLayer);\n      if (endDiv) {\n        endDiv.style.width = parentTextLayer.style.width;\n        endDiv.style.height = parentTextLayer.style.height;\n        anchor.parentElement.insertBefore(endDiv, modifyStart ? anchor : anchor.nextSibling);\n      }\n      prevRange = range.cloneRange();\n    }, {\n      signal\n    });\n  }\n}\n\n;// CONCATENATED MODULE: ./web/xfa_layer_builder.js\n\nclass XfaLayerBuilder {\n  constructor({\n    pdfPage,\n    annotationStorage = null,\n    linkService,\n    xfaHtml = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.annotationStorage = annotationStorage;\n    this.linkService = linkService;\n    this.xfaHtml = xfaHtml;\n    this.div = null;\n    this._cancelled = false;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent === \"print\") {\n      const parameters = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        xfaHtml: this.xfaHtml,\n        annotationStorage: this.annotationStorage,\n        linkService: this.linkService,\n        intent\n      };\n      this.div = document.createElement(\"div\");\n      parameters.div = this.div;\n      return XfaLayer.render(parameters);\n    }\n    const xfaHtml = await this.pdfPage.getXfa();\n    if (this._cancelled || !xfaHtml) {\n      return {\n        textDivs: []\n      };\n    }\n    const parameters = {\n      viewport: viewport.clone({\n        dontFlip: true\n      }),\n      div: this.div,\n      xfaHtml,\n      annotationStorage: this.annotationStorage,\n      linkService: this.linkService,\n      intent\n    };\n    if (this.div) {\n      return XfaLayer.update(parameters);\n    }\n    this.div = document.createElement(\"div\");\n    parameters.div = this.div;\n    return XfaLayer.render(parameters);\n  }\n  cancel() {\n    this._cancelled = true;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_page_view.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_LAYER_PROPERTIES = {\n  annotationEditorUIManager: null,\n  annotationStorage: null,\n  downloadManager: null,\n  enableScripting: false,\n  fieldObjectsPromise: null,\n  findController: null,\n  hasJSActionsPromise: null,\n  get linkService() {\n    return new SimpleLinkService();\n  }\n};\nconst LAYERS_ORDER = new Map([[\"canvasWrapper\", 0], [\"textLayer\", 1], [\"annotationLayer\", 2], [\"annotationEditorLayer\", 3], [\"xfaLayer\", 3]]);\nclass PDFPageView {\n  #annotationMode = AnnotationMode.ENABLE_FORMS;\n  #enableHWA = false;\n  #hasRestrictedScaling = false;\n  #isEditing = false;\n  #layerProperties = null;\n  #loadingId = null;\n  #previousRotation = null;\n  #renderError = null;\n  #renderingState = RenderingStates.INITIAL;\n  #textLayerMode = TextLayerMode.ENABLE;\n  #useThumbnailCanvas = {\n    directDrawing: true,\n    initialOptionalContent: true,\n    regularAnnotations: true\n  };\n  #viewportMap = new WeakMap();\n  #layers = [null, null, null, null];\n  constructor(options) {\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    this.#layerProperties = options.layerProperties || DEFAULT_LAYER_PROPERTIES;\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    this.#textLayerMode = options.textLayerMode ?? TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? AnnotationMode.ENABLE_FORMS;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.maxCanvasPixels = options.maxCanvasPixels ?? AppOptions.get(\"maxCanvasPixels\");\n    this.pageColors = options.pageColors || null;\n    this.#enableHWA = options.enableHWA || false;\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.renderTask = null;\n    this.resume = null;\n    this._isStandalone = !this.renderingQueue?.hasViewer();\n    this._container = container;\n    this._annotationCanvasMap = null;\n    this.annotationLayer = null;\n    this.annotationEditorLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    this.xfaLayer = null;\n    this.structTreeLayer = null;\n    this.drawLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.setAttribute(\"data-page-number\", this.id);\n    div.setAttribute(\"role\", \"region\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-page-landmark\");\n    div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.id\n    }));\n    this.div = div;\n    this.#setDimensions();\n    container?.append(div);\n    if (this._isStandalone) {\n      container?.style.setProperty(\"--scale-factor\", this.scale * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const {\n        optionalContentConfigPromise\n      } = options;\n      if (optionalContentConfigPromise) {\n        optionalContentConfigPromise.then(optionalContentConfig => {\n          if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n            return;\n          }\n          this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n        });\n      }\n      if (!options.l10n) {\n        this.l10n.translate(this.div);\n      }\n    }\n  }\n  #addLayer(div, name) {\n    const pos = LAYERS_ORDER.get(name);\n    const oldDiv = this.#layers[pos];\n    this.#layers[pos] = div;\n    if (oldDiv) {\n      oldDiv.replaceWith(div);\n      return;\n    }\n    for (let i = pos - 1; i >= 0; i--) {\n      const layer = this.#layers[i];\n      if (layer) {\n        layer.after(div);\n        return;\n      }\n    }\n    this.div.prepend(div);\n  }\n  get renderingState() {\n    return this.#renderingState;\n  }\n  set renderingState(state) {\n    if (state === this.#renderingState) {\n      return;\n    }\n    this.#renderingState = state;\n    if (this.#loadingId) {\n      clearTimeout(this.#loadingId);\n      this.#loadingId = null;\n    }\n    switch (state) {\n      case RenderingStates.PAUSED:\n        this.div.classList.remove(\"loading\");\n        break;\n      case RenderingStates.RUNNING:\n        this.div.classList.add(\"loadingIcon\");\n        this.#loadingId = setTimeout(() => {\n          this.div.classList.add(\"loading\");\n          this.#loadingId = null;\n        }, 0);\n        break;\n      case RenderingStates.INITIAL:\n      case RenderingStates.FINISHED:\n        this.div.classList.remove(\"loadingIcon\", \"loading\");\n        break;\n    }\n  }\n  #setDimensions() {\n    const {\n      viewport\n    } = this;\n    if (this.pdfPage) {\n      if (this.#previousRotation === viewport.rotation) {\n        return;\n      }\n      this.#previousRotation = viewport.rotation;\n    }\n    setLayerDimensions(this.div, viewport, true, false);\n  }\n  setPdfPage(pdfPage) {\n    if (this._isStandalone && (this.pageColors?.foreground === \"CanvasText\" || this.pageColors?.background === \"Canvas\")) {\n      this._container?.style.setProperty(\"--hcm-highlight-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n      this._container?.style.setProperty(\"--hcm-highlight-selected-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n    }\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.#setDimensions();\n    this.reset();\n  }\n  destroy() {\n    this.reset();\n    this.pdfPage?.cleanup();\n  }\n  hasEditableAnnotations() {\n    return !!this.annotationLayer?.hasEditableAnnotations();\n  }\n  get _textHighlighter() {\n    return shadow(this, \"_textHighlighter\", new TextHighlighter({\n      pageIndex: this.id - 1,\n      eventBus: this.eventBus,\n      findController: this.#layerProperties.findController\n    }));\n  }\n  #dispatchLayerRendered(name, error) {\n    this.eventBus.dispatch(name, {\n      source: this,\n      pageNumber: this.id,\n      error\n    });\n  }\n  async #renderAnnotationLayer() {\n    let error = null;\n    try {\n      await this.annotationLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      console.error(`#renderAnnotationLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.#dispatchLayerRendered(\"annotationlayerrendered\", error);\n    }\n  }\n  async #renderAnnotationEditorLayer() {\n    let error = null;\n    try {\n      await this.annotationEditorLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      console.error(`#renderAnnotationEditorLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.#dispatchLayerRendered(\"annotationeditorlayerrendered\", error);\n    }\n  }\n  async #renderDrawLayer() {\n    try {\n      await this.drawLayer.render(\"display\");\n    } catch (ex) {\n      console.error(`#renderDrawLayer: \"${ex}\".`);\n    }\n  }\n  async #renderXfaLayer() {\n    let error = null;\n    try {\n      const result = await this.xfaLayer.render(this.viewport, \"display\");\n      if (result?.textDivs && this._textHighlighter) {\n        this.#buildXfaTextContentItems(result.textDivs);\n      }\n    } catch (ex) {\n      console.error(`#renderXfaLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      if (this.xfaLayer?.div) {\n        this.l10n.pause();\n        this.#addLayer(this.xfaLayer.div, \"xfaLayer\");\n        this.l10n.resume();\n      }\n      this.#dispatchLayerRendered(\"xfalayerrendered\", error);\n    }\n  }\n  async #renderTextLayer() {\n    if (!this.textLayer) {\n      return;\n    }\n    let error = null;\n    try {\n      await this.textLayer.render(this.viewport);\n    } catch (ex) {\n      if (ex instanceof AbortException) {\n        return;\n      }\n      console.error(`#renderTextLayer: \"${ex}\".`);\n      error = ex;\n    }\n    this.#dispatchLayerRendered(\"textlayerrendered\", error);\n    this.#renderStructTreeLayer();\n  }\n  async #renderStructTreeLayer() {\n    if (!this.textLayer) {\n      return;\n    }\n    this.structTreeLayer ||= new StructTreeLayerBuilder();\n    const tree = await (!this.structTreeLayer.renderingDone ? this.pdfPage.getStructTree() : null);\n    const treeDom = this.structTreeLayer?.render(tree);\n    if (treeDom) {\n      this.l10n.pause();\n      this.canvas?.append(treeDom);\n      this.l10n.resume();\n    }\n    this.structTreeLayer?.show();\n  }\n  async #buildXfaTextContentItems(textDivs) {\n    const text = await this.pdfPage.getTextContent();\n    const items = [];\n    for (const item of text.items) {\n      items.push(item.str);\n    }\n    this._textHighlighter.setTextMapping(textDivs, items);\n    this._textHighlighter.enable();\n  }\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    this.#viewportMap.delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n    this.zoomLayer = null;\n  }\n  reset({\n    keepZoomLayer = false,\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false\n  } = {}) {\n    this.cancelRendering({\n      keepAnnotationLayer,\n      keepAnnotationEditorLayer,\n      keepXfaLayer,\n      keepTextLayer\n    });\n    this.renderingState = RenderingStates.INITIAL;\n    const div = this.div;\n    const childNodes = div.childNodes,\n      zoomLayerNode = keepZoomLayer && this.zoomLayer || null,\n      annotationLayerNode = keepAnnotationLayer && this.annotationLayer?.div || null,\n      annotationEditorLayerNode = keepAnnotationEditorLayer && this.annotationEditorLayer?.div || null,\n      xfaLayerNode = keepXfaLayer && this.xfaLayer?.div || null,\n      textLayerNode = keepTextLayer && this.textLayer?.div || null;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n      switch (node) {\n        case zoomLayerNode:\n        case annotationLayerNode:\n        case annotationEditorLayerNode:\n        case xfaLayerNode:\n        case textLayerNode:\n          continue;\n      }\n      node.remove();\n      const layerIndex = this.#layers.indexOf(node);\n      if (layerIndex >= 0) {\n        this.#layers[layerIndex] = null;\n      }\n    }\n    div.removeAttribute(\"data-loaded\");\n    if (annotationLayerNode) {\n      this.annotationLayer.hide();\n    }\n    if (annotationEditorLayerNode) {\n      this.annotationEditorLayer.hide();\n    }\n    if (xfaLayerNode) {\n      this.xfaLayer.hide();\n    }\n    if (textLayerNode) {\n      this.textLayer.hide();\n    }\n    this.structTreeLayer?.hide();\n    if (!zoomLayerNode) {\n      if (this.canvas) {\n        this.#viewportMap.delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n      this._resetZoomLayer();\n    }\n  }\n  toggleEditingMode(isEditing) {\n    if (!this.hasEditableAnnotations()) {\n      return;\n    }\n    this.#isEditing = isEditing;\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n  update({\n    scale = 0,\n    rotation = null,\n    optionalContentConfigPromise = null,\n    drawingDelay = -1\n  }) {\n    this.scale = scale || this.scale;\n    if (typeof rotation === \"number\") {\n      this.rotation = rotation;\n    }\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      optionalContentConfigPromise.then(optionalContentConfig => {\n        if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n          return;\n        }\n        this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n      });\n    }\n    this.#useThumbnailCanvas.directDrawing = true;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.#setDimensions();\n    if (this._isStandalone) {\n      this._container?.style.setProperty(\"--scale-factor\", this.viewport.scale);\n    }\n    if (this.canvas) {\n      let onlyCssZoom = false;\n      if (this.#hasRestrictedScaling) {\n        if (this.maxCanvasPixels === 0) {\n          onlyCssZoom = true;\n        } else if (this.maxCanvasPixels > 0) {\n          const {\n            width,\n            height\n          } = this.viewport;\n          const {\n            sx,\n            sy\n          } = this.outputScale;\n          onlyCssZoom = (Math.floor(width) * sx | 0) * (Math.floor(height) * sy | 0) > this.maxCanvasPixels;\n        }\n      }\n      const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1000;\n      if (postponeDrawing || onlyCssZoom) {\n        if (postponeDrawing && !onlyCssZoom && this.renderingState !== RenderingStates.FINISHED) {\n          this.cancelRendering({\n            keepZoomLayer: true,\n            keepAnnotationLayer: true,\n            keepAnnotationEditorLayer: true,\n            keepXfaLayer: true,\n            keepTextLayer: true,\n            cancelExtraDelay: drawingDelay\n          });\n          this.renderingState = RenderingStates.FINISHED;\n          this.#useThumbnailCanvas.directDrawing = false;\n        }\n        this.cssTransform({\n          target: this.canvas,\n          redrawAnnotationLayer: true,\n          redrawAnnotationEditorLayer: true,\n          redrawXfaLayer: true,\n          redrawTextLayer: !postponeDrawing,\n          hideTextLayer: postponeDrawing\n        });\n        if (postponeDrawing) {\n          return;\n        }\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: this.#renderError\n        });\n        return;\n      }\n      if (!this.zoomLayer && !this.canvas.hidden) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n    if (this.zoomLayer) {\n      this.cssTransform({\n        target: this.zoomLayer.firstChild\n      });\n    }\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n  cancelRendering({\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false,\n    cancelExtraDelay = 0\n  } = {}) {\n    if (this.renderTask) {\n      this.renderTask.cancel(cancelExtraDelay);\n      this.renderTask = null;\n    }\n    this.resume = null;\n    if (this.textLayer && (!keepTextLayer || !this.textLayer.div)) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n    if (this.structTreeLayer && !this.textLayer) {\n      this.structTreeLayer = null;\n    }\n    if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n      this._annotationCanvasMap = null;\n    }\n    if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n      if (this.drawLayer) {\n        this.drawLayer.cancel();\n        this.drawLayer = null;\n      }\n      this.annotationEditorLayer.cancel();\n      this.annotationEditorLayer = null;\n    }\n    if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n      this.xfaLayer.cancel();\n      this.xfaLayer = null;\n      this._textHighlighter?.disable();\n    }\n  }\n  cssTransform({\n    target,\n    redrawAnnotationLayer = false,\n    redrawAnnotationEditorLayer = false,\n    redrawXfaLayer = false,\n    redrawTextLayer = false,\n    hideTextLayer = false\n  }) {\n    if (!target.hasAttribute(\"zooming\")) {\n      target.setAttribute(\"zooming\", true);\n      const {\n        style\n      } = target;\n      style.width = style.height = \"\";\n    }\n    const originalViewport = this.#viewportMap.get(target);\n    if (this.viewport !== originalViewport) {\n      const relativeRotation = this.viewport.rotation - originalViewport.rotation;\n      const absRotation = Math.abs(relativeRotation);\n      let scaleX = 1,\n        scaleY = 1;\n      if (absRotation === 90 || absRotation === 270) {\n        const {\n          width,\n          height\n        } = this.viewport;\n        scaleX = height / width;\n        scaleY = width / height;\n      }\n      target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n    }\n    if (redrawAnnotationLayer && this.annotationLayer) {\n      this.#renderAnnotationLayer();\n    }\n    if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n      if (this.drawLayer) {\n        this.#renderDrawLayer();\n      }\n      this.#renderAnnotationEditorLayer();\n    }\n    if (redrawXfaLayer && this.xfaLayer) {\n      this.#renderXfaLayer();\n    }\n    if (this.textLayer) {\n      if (hideTextLayer) {\n        this.textLayer.hide();\n        this.structTreeLayer?.hide();\n      } else if (redrawTextLayer) {\n        this.#renderTextLayer();\n      }\n    }\n  }\n  get width() {\n    return this.viewport.width;\n  }\n  get height() {\n    return this.viewport.height;\n  }\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n  async #finishRenderTask(renderTask, error = null) {\n    if (renderTask === this.renderTask) {\n      this.renderTask = null;\n    }\n    if (error instanceof RenderingCancelledException) {\n      this.#renderError = null;\n      return;\n    }\n    this.#renderError = error;\n    this.renderingState = RenderingStates.FINISHED;\n    this._resetZoomLayer(true);\n    this.#useThumbnailCanvas.regularAnnotations = !renderTask.separateAnnots;\n    this.eventBus.dispatch(\"pagerendered\", {\n      source: this,\n      pageNumber: this.id,\n      cssTransform: false,\n      timestamp: performance.now(),\n      error: this.#renderError\n    });\n    if (error) {\n      throw error;\n    }\n  }\n  async draw() {\n    if (this.renderingState !== RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n    const {\n      div,\n      l10n,\n      pageColors,\n      pdfPage,\n      viewport\n    } = this;\n    if (!pdfPage) {\n      this.renderingState = RenderingStates.FINISHED;\n      throw new Error(\"pdfPage is not loaded\");\n    }\n    this.renderingState = RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.classList.add(\"canvasWrapper\");\n    this.#addLayer(canvasWrapper, \"canvasWrapper\");\n    if (!this.textLayer && this.#textLayerMode !== TextLayerMode.DISABLE && !pdfPage.isPureXfa) {\n      this._accessibilityManager ||= new TextAccessibilityManager();\n      this.textLayer = new TextLayerBuilder({\n        pdfPage,\n        highlighter: this._textHighlighter,\n        accessibilityManager: this._accessibilityManager,\n        enablePermissions: this.#textLayerMode === TextLayerMode.ENABLE_PERMISSIONS,\n        onAppend: textLayerDiv => {\n          this.l10n.pause();\n          this.#addLayer(textLayerDiv, \"textLayer\");\n          this.l10n.resume();\n        }\n      });\n    }\n    if (!this.annotationLayer && this.#annotationMode !== AnnotationMode.DISABLE) {\n      const {\n        annotationStorage,\n        annotationEditorUIManager,\n        downloadManager,\n        enableScripting,\n        fieldObjectsPromise,\n        hasJSActionsPromise,\n        linkService\n      } = this.#layerProperties;\n      this._annotationCanvasMap ||= new Map();\n      this.annotationLayer = new AnnotationLayerBuilder({\n        pdfPage,\n        annotationStorage,\n        imageResourcesPath: this.imageResourcesPath,\n        renderForms: this.#annotationMode === AnnotationMode.ENABLE_FORMS,\n        linkService,\n        downloadManager,\n        enableScripting,\n        hasJSActionsPromise,\n        fieldObjectsPromise,\n        annotationCanvasMap: this._annotationCanvasMap,\n        accessibilityManager: this._accessibilityManager,\n        annotationEditorUIManager,\n        onAppend: annotationLayerDiv => {\n          this.#addLayer(annotationLayerDiv, \"annotationLayer\");\n        }\n      });\n    }\n    const renderContinueCallback = cont => {\n      showCanvas?.(false);\n      if (this.renderingQueue && !this.renderingQueue.isHighestPriority(this)) {\n        this.renderingState = RenderingStates.PAUSED;\n        this.resume = () => {\n          this.renderingState = RenderingStates.RUNNING;\n          cont();\n        };\n        return;\n      }\n      cont();\n    };\n    const {\n      width,\n      height\n    } = viewport;\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"presentation\");\n    canvas.hidden = true;\n    const hasHCM = !!(pageColors?.background && pageColors?.foreground);\n    let showCanvas = isLastShow => {\n      if (!hasHCM || isLastShow) {\n        canvas.hidden = false;\n        showCanvas = null;\n      }\n    };\n    canvasWrapper.append(canvas);\n    this.canvas = canvas;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !this.#enableHWA\n    });\n    const outputScale = this.outputScale = new OutputScale();\n    if (this.maxCanvasPixels === 0) {\n      const invScale = 1 / this.scale;\n      outputScale.sx *= invScale;\n      outputScale.sy *= invScale;\n      this.#hasRestrictedScaling = true;\n    } else if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = width * height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        this.#hasRestrictedScaling = true;\n      } else {\n        this.#hasRestrictedScaling = false;\n      }\n    }\n    const sfx = approximateFraction(outputScale.sx);\n    const sfy = approximateFraction(outputScale.sy);\n    canvas.width = floorToDivide(width * outputScale.sx, sfx[0]);\n    canvas.height = floorToDivide(height * outputScale.sy, sfy[0]);\n    const {\n      style\n    } = canvas;\n    style.width = floorToDivide(width, sfx[1]) + \"px\";\n    style.height = floorToDivide(height, sfy[1]) + \"px\";\n    this.#viewportMap.set(canvas, viewport);\n    const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport,\n      annotationMode: this.#annotationMode,\n      optionalContentConfigPromise: this._optionalContentConfigPromise,\n      annotationCanvasMap: this._annotationCanvasMap,\n      pageColors,\n      isEditing: this.#isEditing\n    };\n    const renderTask = this.renderTask = pdfPage.render(renderContext);\n    renderTask.onContinue = renderContinueCallback;\n    const resultPromise = renderTask.promise.then(async () => {\n      showCanvas?.(true);\n      await this.#finishRenderTask(renderTask);\n      this.#renderTextLayer();\n      if (this.annotationLayer) {\n        await this.#renderAnnotationLayer();\n      }\n      const {\n        annotationEditorUIManager\n      } = this.#layerProperties;\n      if (!annotationEditorUIManager) {\n        return;\n      }\n      this.drawLayer ||= new DrawLayerBuilder({\n        pageIndex: this.id\n      });\n      await this.#renderDrawLayer();\n      this.drawLayer.setParent(canvasWrapper);\n      if (!this.annotationEditorLayer) {\n        this.annotationEditorLayer = new AnnotationEditorLayerBuilder({\n          uiManager: annotationEditorUIManager,\n          pdfPage,\n          l10n,\n          accessibilityManager: this._accessibilityManager,\n          annotationLayer: this.annotationLayer?.annotationLayer,\n          textLayer: this.textLayer,\n          drawLayer: this.drawLayer.getDrawLayer(),\n          onAppend: annotationEditorLayerDiv => {\n            this.#addLayer(annotationEditorLayerDiv, \"annotationEditorLayer\");\n          }\n        });\n      }\n      this.#renderAnnotationEditorLayer();\n    }, error => {\n      if (!(error instanceof RenderingCancelledException)) {\n        showCanvas?.(true);\n      }\n      return this.#finishRenderTask(renderTask, error);\n    });\n    if (pdfPage.isPureXfa) {\n      if (!this.xfaLayer) {\n        const {\n          annotationStorage,\n          linkService\n        } = this.#layerProperties;\n        this.xfaLayer = new XfaLayerBuilder({\n          pdfPage,\n          annotationStorage,\n          linkService\n        });\n      }\n      this.#renderXfaLayer();\n    }\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.pageLabel ?? this.id\n    }));\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n  get thumbnailCanvas() {\n    const {\n      directDrawing,\n      initialOptionalContent,\n      regularAnnotations\n    } = this.#useThumbnailCanvas;\n    return directDrawing && initialOptionalContent && regularAnnotations ? this.canvas : null;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/generic_scripting.js\n\nasync function docProperties(pdfDocument) {\n  const url = \"\",\n    baseUrl = url.split(\"#\", 1)[0];\n  let {\n    info,\n    metadata,\n    contentDispositionFilename,\n    contentLength\n  } = await pdfDocument.getMetadata();\n  if (!contentLength) {\n    const {\n      length\n    } = await pdfDocument.getDownloadInfo();\n    contentLength = length;\n  }\n  return {\n    ...info,\n    baseURL: baseUrl,\n    filesize: contentLength,\n    filename: contentDispositionFilename || getPdfFilenameFromUrl(url),\n    metadata: metadata?.getRaw(),\n    authors: metadata?.get(\"dc:creator\"),\n    numPages: pdfDocument.numPages,\n    URL: url\n  };\n}\nclass GenericScripting {\n  constructor(sandboxBundleSrc) {\n    this._ready = new Promise((resolve, reject) => {\n      const sandbox = import( /*webpackIgnore: true*/sandboxBundleSrc);\n      sandbox.then(pdfjsSandbox => {\n        resolve(pdfjsSandbox.QuickJSSandbox());\n      }).catch(reject);\n    });\n  }\n  async createSandbox(data) {\n    const sandbox = await this._ready;\n    sandbox.create(data);\n  }\n  async dispatchEventInSandbox(event) {\n    const sandbox = await this._ready;\n    setTimeout(() => sandbox.dispatchEvent(event), 0);\n  }\n  async destroySandbox() {\n    const sandbox = await this._ready;\n    sandbox.nukeSandbox();\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_scripting_manager.js\n\n\n\n\n\n\n\n\n\n\nclass PDFScriptingManager {\n  #closeCapability = null;\n  #destroyCapability = null;\n  #docProperties = null;\n  #eventAbortController = null;\n  #eventBus = null;\n  #externalServices = null;\n  #pdfDocument = null;\n  #pdfViewer = null;\n  #ready = false;\n  #scripting = null;\n  #willPrintCapability = null;\n  constructor({\n    eventBus,\n    externalServices = null,\n    docProperties = null\n  }) {\n    this.#eventBus = eventBus;\n    this.#externalServices = externalServices;\n    this.#docProperties = docProperties;\n  }\n  setViewer(pdfViewer) {\n    this.#pdfViewer = pdfViewer;\n  }\n  async setDocument(pdfDocument) {\n    if (this.#pdfDocument) {\n      await this.#destroyScripting();\n    }\n    this.#pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const [objects, calculationOrder, docActions] = await Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n    if (!objects && !docActions) {\n      await this.#destroyScripting();\n      return;\n    }\n    if (pdfDocument !== this.#pdfDocument) {\n      return;\n    }\n    try {\n      this.#scripting = this.#initScripting();\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await this.#destroyScripting();\n      return;\n    }\n    const eventBus = this.#eventBus;\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    eventBus._on(\"updatefromsandbox\", event => {\n      if (event?.source === window) {\n        this.#updateFromSandbox(event.detail);\n      }\n    }, {\n      signal\n    });\n    eventBus._on(\"dispatcheventinsandbox\", event => {\n      this.#scripting?.dispatchEventInSandbox(event.detail);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagechanging\", ({\n      pageNumber,\n      previous\n    }) => {\n      if (pageNumber === previous) {\n        return;\n      }\n      this.#dispatchPageClose(previous);\n      this.#dispatchPageOpen(pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagerendered\", ({\n      pageNumber\n    }) => {\n      if (!this._pageOpenPending.has(pageNumber)) {\n        return;\n      }\n      if (pageNumber !== this.#pdfViewer.currentPageNumber) {\n        return;\n      }\n      this.#dispatchPageOpen(pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagesdestroy\", async () => {\n      await this.#dispatchPageClose(this.#pdfViewer.currentPageNumber);\n      await this.#scripting?.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillClose\"\n      });\n      this.#closeCapability?.resolve();\n    }, {\n      signal\n    });\n    try {\n      const docProperties = await this.#docProperties(pdfDocument);\n      if (pdfDocument !== this.#pdfDocument) {\n        return;\n      }\n      await this.#scripting.createSandbox({\n        objects,\n        calculationOrder,\n        appInfo: {\n          platform: navigator.platform,\n          language: navigator.language\n        },\n        docInfo: {\n          ...docProperties,\n          actions: docActions\n        }\n      });\n      eventBus.dispatch(\"sandboxcreated\", {\n        source: this\n      });\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await this.#destroyScripting();\n      return;\n    }\n    await this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"Open\"\n    });\n    await this.#dispatchPageOpen(this.#pdfViewer.currentPageNumber, true);\n    Promise.resolve().then(() => {\n      if (pdfDocument === this.#pdfDocument) {\n        this.#ready = true;\n      }\n    });\n  }\n  async dispatchWillSave() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"WillSave\"\n    });\n  }\n  async dispatchDidSave() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidSave\"\n    });\n  }\n  async dispatchWillPrint() {\n    if (!this.#scripting) {\n      return;\n    }\n    await this.#willPrintCapability?.promise;\n    this.#willPrintCapability = Promise.withResolvers();\n    try {\n      await this.#scripting.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillPrint\"\n      });\n    } catch (ex) {\n      this.#willPrintCapability.resolve();\n      this.#willPrintCapability = null;\n      throw ex;\n    }\n    await this.#willPrintCapability.promise;\n  }\n  async dispatchDidPrint() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidPrint\"\n    });\n  }\n  get destroyPromise() {\n    return this.#destroyCapability?.promise || null;\n  }\n  get ready() {\n    return this.#ready;\n  }\n  get _pageOpenPending() {\n    return shadow(this, \"_pageOpenPending\", new Set());\n  }\n  get _visitedPages() {\n    return shadow(this, \"_visitedPages\", new Map());\n  }\n  async #updateFromSandbox(detail) {\n    const pdfViewer = this.#pdfViewer;\n    const isInPresentationMode = pdfViewer.isInPresentationMode || pdfViewer.isChangingPresentationMode;\n    const {\n      id,\n      siblings,\n      command,\n      value\n    } = detail;\n    if (!id) {\n      switch (command) {\n        case \"clear\":\n          console.clear();\n          break;\n        case \"error\":\n          console.error(value);\n          break;\n        case \"layout\":\n          if (!isInPresentationMode) {\n            const modes = apiPageLayoutToViewerModes(value);\n            pdfViewer.spreadMode = modes.spreadMode;\n          }\n          break;\n        case \"page-num\":\n          pdfViewer.currentPageNumber = value + 1;\n          break;\n        case \"print\":\n          await pdfViewer.pagesPromise;\n          this.#eventBus.dispatch(\"print\", {\n            source: this\n          });\n          break;\n        case \"println\":\n          console.log(value);\n          break;\n        case \"zoom\":\n          if (!isInPresentationMode) {\n            pdfViewer.currentScaleValue = value;\n          }\n          break;\n        case \"SaveAs\":\n          this.#eventBus.dispatch(\"download\", {\n            source: this\n          });\n          break;\n        case \"FirstPage\":\n          pdfViewer.currentPageNumber = 1;\n          break;\n        case \"LastPage\":\n          pdfViewer.currentPageNumber = pdfViewer.pagesCount;\n          break;\n        case \"NextPage\":\n          pdfViewer.nextPage();\n          break;\n        case \"PrevPage\":\n          pdfViewer.previousPage();\n          break;\n        case \"ZoomViewIn\":\n          if (!isInPresentationMode) {\n            pdfViewer.increaseScale();\n          }\n          break;\n        case \"ZoomViewOut\":\n          if (!isInPresentationMode) {\n            pdfViewer.decreaseScale();\n          }\n          break;\n        case \"WillPrintFinished\":\n          this.#willPrintCapability?.resolve();\n          this.#willPrintCapability = null;\n          break;\n      }\n      return;\n    }\n    if (isInPresentationMode && detail.focus) {\n      return;\n    }\n    delete detail.id;\n    delete detail.siblings;\n    const ids = siblings ? [id, ...siblings] : [id];\n    for (const elementId of ids) {\n      const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n      if (element) {\n        element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n          detail\n        }));\n      } else {\n        this.#pdfDocument?.annotationStorage.setValue(elementId, detail);\n      }\n    }\n  }\n  async #dispatchPageOpen(pageNumber, initialize = false) {\n    const pdfDocument = this.#pdfDocument,\n      visitedPages = this._visitedPages;\n    if (initialize) {\n      this.#closeCapability = Promise.withResolvers();\n    }\n    if (!this.#closeCapability) {\n      return;\n    }\n    const pageView = this.#pdfViewer.getPageView(pageNumber - 1);\n    if (pageView?.renderingState !== RenderingStates.FINISHED) {\n      this._pageOpenPending.add(pageNumber);\n      return;\n    }\n    this._pageOpenPending.delete(pageNumber);\n    const actionsPromise = (async () => {\n      const actions = await (!visitedPages.has(pageNumber) ? pageView.pdfPage?.getJSActions() : null);\n      if (pdfDocument !== this.#pdfDocument) {\n        return;\n      }\n      await this.#scripting?.dispatchEventInSandbox({\n        id: \"page\",\n        name: \"PageOpen\",\n        pageNumber,\n        actions\n      });\n    })();\n    visitedPages.set(pageNumber, actionsPromise);\n  }\n  async #dispatchPageClose(pageNumber) {\n    const pdfDocument = this.#pdfDocument,\n      visitedPages = this._visitedPages;\n    if (!this.#closeCapability) {\n      return;\n    }\n    if (this._pageOpenPending.has(pageNumber)) {\n      return;\n    }\n    const actionsPromise = visitedPages.get(pageNumber);\n    if (!actionsPromise) {\n      return;\n    }\n    visitedPages.set(pageNumber, null);\n    await actionsPromise;\n    if (pdfDocument !== this.#pdfDocument) {\n      return;\n    }\n    await this.#scripting?.dispatchEventInSandbox({\n      id: \"page\",\n      name: \"PageClose\",\n      pageNumber\n    });\n  }\n  #initScripting() {\n    this.#destroyCapability = Promise.withResolvers();\n    if (this.#scripting) {\n      throw new Error(\"#initScripting: Scripting already exists.\");\n    }\n    return this.#externalServices.createScripting();\n  }\n  async #destroyScripting() {\n    if (!this.#scripting) {\n      this.#pdfDocument = null;\n      this.#destroyCapability?.resolve();\n      return;\n    }\n    if (this.#closeCapability) {\n      await Promise.race([this.#closeCapability.promise, new Promise(resolve => {\n        setTimeout(resolve, 1000);\n      })]).catch(() => {});\n      this.#closeCapability = null;\n    }\n    this.#pdfDocument = null;\n    try {\n      await this.#scripting.destroySandbox();\n    } catch {}\n    this.#willPrintCapability?.reject(new Error(\"Scripting destroyed.\"));\n    this.#willPrintCapability = null;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this._pageOpenPending.clear();\n    this._visitedPages.clear();\n    this.#scripting = null;\n    this.#ready = false;\n    this.#destroyCapability?.resolve();\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_scripting_manager.component.js\n\n\nclass PDFScriptingManagerComponents extends PDFScriptingManager {\n  constructor(options) {\n    if (!options.externalServices) {\n      window.addEventListener(\"updatefromsandbox\", event => {\n        options.eventBus.dispatch(\"updatefromsandbox\", {\n          source: window,\n          detail: event.detail\n        });\n      });\n    }\n    options.externalServices ||= {\n      createScripting: () => new GenericScripting(options.sandboxBundleSrc)\n    };\n    options.docProperties ||= pdfDocument => docProperties(pdfDocument);\n    super(options);\n  }\n}\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.every.js\nvar esnext_iterator_every = __webpack_require__(3215);\n;// CONCATENATED MODULE: ./web/pdf_rendering_queue.js\n\n\nconst CLEANUP_TIMEOUT = 30000;\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n    Object.defineProperty(this, \"hasViewer\", {\n      value: () => !!this.pdfViewer\n    });\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n  renderHighestPriority(currentlyVisiblePages) {\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n    if (this.isThumbnailViewEnabled && this.pdfThumbnailViewer?.forceRendering()) {\n      return;\n    }\n    if (this.printing) {\n      return;\n    }\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n  getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n    const visibleViews = visible.views,\n      numVisible = visibleViews.length;\n    if (numVisible === 0) {\n      return null;\n    }\n    for (let i = 0; i < numVisible; i++) {\n      const view = visibleViews[i].view;\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n    const firstId = visible.first.id,\n      lastId = visible.last.id;\n    if (lastId - firstId + 1 > numVisible) {\n      const visibleIds = visible.ids;\n      for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n        const holeId = scrolledDown ? firstId + i : lastId - i;\n        if (visibleIds.has(holeId)) {\n          continue;\n        }\n        const holeView = views[holeId - 1];\n        if (!this.isViewFinished(holeView)) {\n          return holeView;\n        }\n      }\n    }\n    let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n    let preRenderView = views[preRenderIndex];\n    if (preRenderView && !this.isViewFinished(preRenderView)) {\n      return preRenderView;\n    }\n    if (preRenderExtra) {\n      preRenderIndex += scrolledDown ? 1 : -1;\n      preRenderView = views[preRenderIndex];\n      if (preRenderView && !this.isViewFinished(preRenderView)) {\n        return preRenderView;\n      }\n    }\n    return null;\n  }\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch(reason => {\n          if (reason instanceof RenderingCancelledException) {\n            return;\n          }\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n    return true;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_viewer.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_CACHE_SIZE = 10;\nconst PagesCountLimit = {\n  FORCE_SCROLL_MODE_PAGE: 10000,\n  FORCE_LAZY_PAGE_INIT: 5000,\n  PAUSE_EAGER_PAGE_INIT: 250\n};\nfunction isValidAnnotationEditorMode(mode) {\n  return Object.values(AnnotationEditorType).includes(mode) && mode !== AnnotationEditorType.DISABLE;\n}\nclass PDFPageViewBuffer {\n  #buf = new Set();\n  #size = 0;\n  constructor(size) {\n    this.#size = size;\n  }\n  push(view) {\n    const buf = this.#buf;\n    if (buf.has(view)) {\n      buf.delete(view);\n    }\n    buf.add(view);\n    if (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n  resize(newSize, idsToKeep = null) {\n    this.#size = newSize;\n    const buf = this.#buf;\n    if (idsToKeep) {\n      const ii = buf.size;\n      let i = 1;\n      for (const view of buf) {\n        if (idsToKeep.has(view.id)) {\n          buf.delete(view);\n          buf.add(view);\n        }\n        if (++i > ii) {\n          break;\n        }\n      }\n    }\n    while (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n  has(view) {\n    return this.#buf.has(view);\n  }\n  [Symbol.iterator]() {\n    return this.#buf.keys();\n  }\n  #destroyFirstView() {\n    const firstView = this.#buf.keys().next().value;\n    firstView?.destroy();\n    this.#buf.delete(firstView);\n  }\n}\nclass PDFViewer {\n  #buffer = null;\n  #altTextManager = null;\n  #annotationEditorHighlightColors = null;\n  #annotationEditorMode = AnnotationEditorType.NONE;\n  #annotationEditorUIManager = null;\n  #annotationMode = AnnotationMode.ENABLE_FORMS;\n  #containerTopLeft = null;\n  #enableHWA = false;\n  #enableHighlightFloatingButton = false;\n  #enablePermissions = false;\n  #enableUpdatedAddImage = false;\n  #eventAbortController = null;\n  #mlManager = null;\n  #onPageRenderedCallback = null;\n  #switchAnnotationEditorModeTimeoutId = null;\n  #getAllTextInProgress = false;\n  #hiddenCopyElement = null;\n  #interruptCopyCondition = false;\n  #previousContainerHeight = 0;\n  #resizeObserver = new ResizeObserver(this.#resizeObserverCallback.bind(this));\n  #scrollModePageState = null;\n  #scaleTimeoutId = null;\n  #textLayerMode = TextLayerMode.ENABLE;\n  constructor(options) {\n    const viewerVersion = \"4.5.136\";\n    if (version !== viewerVersion) {\n      throw new Error(`The API version \"${version}\" does not match the Viewer version \"${viewerVersion}\".`);\n    }\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    if (this.container?.tagName !== \"DIV\" || this.viewer?.tagName !== \"DIV\") {\n      throw new Error(\"Invalid `container` and/or `viewer` option.\");\n    }\n    if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n      throw new Error(\"The `container` must be absolutely positioned.\");\n    }\n    this.#resizeObserver.observe(this.container);\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    this.#altTextManager = options.altTextManager || null;\n    if (this.findController) {\n      this.findController.onIsPageVisible = pageNumber => this._getVisiblePages().ids.has(pageNumber);\n    }\n    this._scriptingManager = options.scriptingManager || null;\n    this.#textLayerMode = options.textLayerMode ?? TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? AnnotationMode.ENABLE_FORMS;\n    this.#annotationEditorMode = options.annotationEditorMode ?? AnnotationEditorType.NONE;\n    this.#annotationEditorHighlightColors = options.annotationEditorHighlightColors || null;\n    this.#enableHighlightFloatingButton = options.enableHighlightFloatingButton === true;\n    this.#enableUpdatedAddImage = options.enableUpdatedAddImage === true;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.removePageBorders = options.removePageBorders || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.#enablePermissions = options.enablePermissions || false;\n    this.pageColors = options.pageColors || null;\n    this.#mlManager = options.mlManager || null;\n    this.#enableHWA = options.enableHWA || false;\n    this.defaultRenderingQueue = !options.renderingQueue;\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n    const {\n      abortSignal\n    } = options;\n    abortSignal?.addEventListener(\"abort\", () => {\n      this.#resizeObserver.disconnect();\n      this.#resizeObserver = null;\n    }, {\n      once: true\n    });\n    this.scroll = watchScroll(this.container, this._scrollUpdate.bind(this), abortSignal);\n    this.presentationModeState = PresentationModeState.UNKNOWN;\n    this._resetView();\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n    this.#updateContainerHeightCss();\n    this.eventBus._on(\"thumbnailrendered\", ({\n      pageNumber,\n      pdfPage\n    }) => {\n      const pageView = this._pages[pageNumber - 1];\n      if (!this.#buffer.has(pageView)) {\n        pdfPage?.cleanup();\n      }\n    });\n    if (!options.l10n) {\n      this.l10n.translate(this.container);\n    }\n  }\n  get pagesCount() {\n    return this._pages.length;\n  }\n  getPageView(index) {\n    return this._pages[index];\n  }\n  getCachedPageViews() {\n    return new Set(this.#buffer);\n  }\n  get pageViewsReady() {\n    return this._pages.every(pageView => pageView?.pdfPage);\n  }\n  get renderForms() {\n    return this.#annotationMode === AnnotationMode.ENABLE_FORMS;\n  }\n  get enableScripting() {\n    return !!this._scriptingManager;\n  }\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        this.#resetCurrentPageView();\n      }\n      return true;\n    }\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n    const previous = this._currentPageNumber;\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: this._pageLabels?.[val - 1] ?? null,\n      previous\n    });\n    if (resetCurrentPageView) {\n      this.#resetCurrentPageView();\n    }\n    return true;\n  }\n  get currentPageLabel() {\n    return this._pageLabels?.[this._currentPageNumber - 1] ?? null;\n  }\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let page = val | 0;\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n  get currentScale() {\n    return this._currentScale !== UNKNOWN_SCALE ? this._currentScale : DEFAULT_SCALE;\n  }\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    this.#setScale(val, {\n      noScroll: false\n    });\n  }\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    this.#setScale(val, {\n      noScroll: false\n    });\n  }\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n  set pagesRotation(rotation) {\n    if (!isValidRotation(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n    this.refresh(true, {\n      rotation\n    });\n    if (this._currentScaleValue) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n  get _layerProperties() {\n    const self = this;\n    return shadow(this, \"_layerProperties\", {\n      get annotationEditorUIManager() {\n        return self.#annotationEditorUIManager;\n      },\n      get annotationStorage() {\n        return self.pdfDocument?.annotationStorage;\n      },\n      get downloadManager() {\n        return self.downloadManager;\n      },\n      get enableScripting() {\n        return !!self._scriptingManager;\n      },\n      get fieldObjectsPromise() {\n        return self.pdfDocument?.getFieldObjects();\n      },\n      get findController() {\n        return self.findController;\n      },\n      get hasJSActionsPromise() {\n        return self.pdfDocument?.hasJSActions();\n      },\n      get linkService() {\n        return self.linkService;\n      }\n    });\n  }\n  #initializePermissions(permissions) {\n    const params = {\n      annotationEditorMode: this.#annotationEditorMode,\n      annotationMode: this.#annotationMode,\n      textLayerMode: this.#textLayerMode\n    };\n    if (!permissions) {\n      return params;\n    }\n    if (!permissions.includes(PermissionFlag.COPY) && this.#textLayerMode === TextLayerMode.ENABLE) {\n      params.textLayerMode = TextLayerMode.ENABLE_PERMISSIONS;\n    }\n    if (!permissions.includes(PermissionFlag.MODIFY_CONTENTS)) {\n      params.annotationEditorMode = AnnotationEditorType.DISABLE;\n    }\n    if (!permissions.includes(PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(PermissionFlag.FILL_INTERACTIVE_FORMS) && this.#annotationMode === AnnotationMode.ENABLE_FORMS) {\n      params.annotationMode = AnnotationMode.ENABLE;\n    }\n    return params;\n  }\n  async #onePageRenderedOrForceFetch(signal) {\n    if (document.visibilityState === \"hidden\" || !this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n      return;\n    }\n    const hiddenCapability = Promise.withResolvers();\n    function onVisibilityChange() {\n      if (document.visibilityState === \"hidden\") {\n        hiddenCapability.resolve();\n      }\n    }\n    document.addEventListener(\"visibilitychange\", onVisibilityChange, {\n      signal\n    });\n    await Promise.race([this._onePageRenderedCapability.promise, hiddenCapability.promise]);\n    document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n  }\n  async getAllText() {\n    const texts = [];\n    const buffer = [];\n    for (let pageNum = 1, pagesCount = this.pdfDocument.numPages; pageNum <= pagesCount; ++pageNum) {\n      if (this.#interruptCopyCondition) {\n        return null;\n      }\n      buffer.length = 0;\n      const page = await this.pdfDocument.getPage(pageNum);\n      const {\n        items\n      } = await page.getTextContent();\n      for (const item of items) {\n        if (item.str) {\n          buffer.push(item.str);\n        }\n        if (item.hasEOL) {\n          buffer.push(\"\\n\");\n        }\n      }\n      texts.push(removeNullCharacters(buffer.join(\"\")));\n    }\n    return texts.join(\"\\n\");\n  }\n  #copyCallback(textLayerMode, event) {\n    const selection = document.getSelection();\n    const {\n      focusNode,\n      anchorNode\n    } = selection;\n    if (anchorNode && focusNode && selection.containsNode(this.#hiddenCopyElement)) {\n      if (this.#getAllTextInProgress || textLayerMode === TextLayerMode.ENABLE_PERMISSIONS) {\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n      this.#getAllTextInProgress = true;\n      const {\n        classList\n      } = this.viewer;\n      classList.add(\"copyAll\");\n      const ac = new AbortController();\n      window.addEventListener(\"keydown\", ev => this.#interruptCopyCondition = ev.key === \"Escape\", {\n        signal: ac.signal\n      });\n      this.getAllText().then(async text => {\n        if (text !== null) {\n          await navigator.clipboard.writeText(text);\n        }\n      }).catch(reason => {\n        console.warn(`Something goes wrong when extracting the text: ${reason.message}`);\n      }).finally(() => {\n        this.#getAllTextInProgress = false;\n        this.#interruptCopyCondition = false;\n        ac.abort();\n        classList.remove(\"copyAll\");\n      });\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setDocument(pdfDocument) {\n    if (this.pdfDocument) {\n      this.eventBus.dispatch(\"pagesdestroy\", {\n        source: this\n      });\n      this._cancelRendering();\n      this._resetView();\n      this.findController?.setDocument(null);\n      this._scriptingManager?.setDocument(null);\n      if (this.#annotationEditorUIManager) {\n        this.#annotationEditorUIManager.destroy();\n        this.#annotationEditorUIManager = null;\n      }\n    }\n    this.pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n    const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig({\n      intent: \"display\"\n    });\n    const permissionsPromise = this.#enablePermissions ? pdfDocument.getPermissions() : Promise.resolve();\n    const {\n      eventBus,\n      pageColors,\n      viewer\n    } = this;\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n      const mode = this._scrollMode = ScrollMode.PAGE;\n      eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode\n      });\n    }\n    this._pagesCapability.promise.then(() => {\n      eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    }, () => {});\n    const onBeforeDraw = evt => {\n      const pageView = this._pages[evt.pageNumber - 1];\n      if (!pageView) {\n        return;\n      }\n      this.#buffer.push(pageView);\n    };\n    eventBus._on(\"pagerender\", onBeforeDraw, {\n      signal\n    });\n    const onAfterDraw = evt => {\n      if (evt.cssTransform) {\n        return;\n      }\n      this._onePageRenderedCapability.resolve({\n        timestamp: evt.timestamp\n      });\n      eventBus._off(\"pagerendered\", onAfterDraw);\n    };\n    eventBus._on(\"pagerendered\", onAfterDraw, {\n      signal\n    });\n    Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n      if (pdfDocument !== this.pdfDocument) {\n        return;\n      }\n      this._firstPageCapability.resolve(firstPdfPage);\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      const {\n        annotationEditorMode,\n        annotationMode,\n        textLayerMode\n      } = this.#initializePermissions(permissions);\n      if (textLayerMode !== TextLayerMode.DISABLE) {\n        const element = this.#hiddenCopyElement = document.createElement(\"div\");\n        element.id = \"hiddenCopyElement\";\n        viewer.before(element);\n      }\n      if (annotationEditorMode !== AnnotationEditorType.DISABLE) {\n        const mode = annotationEditorMode;\n        if (pdfDocument.isPureXfa) {\n          console.warn(\"Warning: XFA-editing is not implemented.\");\n        } else if (isValidAnnotationEditorMode(mode)) {\n          this.#annotationEditorUIManager = new AnnotationEditorUIManager(this.container, viewer, this.#altTextManager, eventBus, pdfDocument, pageColors, this.#annotationEditorHighlightColors, this.#enableHighlightFloatingButton, this.#enableUpdatedAddImage, this.#mlManager);\n          eventBus.dispatch(\"annotationeditoruimanager\", {\n            source: this,\n            uiManager: this.#annotationEditorUIManager\n          });\n          if (mode !== AnnotationEditorType.NONE) {\n            this.#annotationEditorUIManager.updateMode(mode);\n          }\n        } else {\n          console.error(`Invalid AnnotationEditor mode: ${mode}`);\n        }\n      }\n      const viewerElement = this._scrollMode === ScrollMode.PAGE ? null : viewer;\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      viewer.style.setProperty(\"--scale-factor\", viewport.scale);\n      if (pageColors?.foreground === \"CanvasText\" || pageColors?.background === \"Canvas\") {\n        viewer.style.setProperty(\"--hcm-highlight-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n        viewer.style.setProperty(\"--hcm-highlight-selected-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"ButtonText\"));\n      }\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new PDFPageView({\n          container: viewerElement,\n          eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          optionalContentConfigPromise,\n          renderingQueue: this.renderingQueue,\n          textLayerMode,\n          annotationMode,\n          imageResourcesPath: this.imageResourcesPath,\n          maxCanvasPixels: this.maxCanvasPixels,\n          pageColors,\n          l10n: this.l10n,\n          layerProperties: this._layerProperties,\n          enableHWA: this.#enableHWA\n        });\n        this._pages.push(pageView);\n      }\n      this._pages[0]?.setPdfPage(firstPdfPage);\n      if (this._scrollMode === ScrollMode.PAGE) {\n        this.#ensurePageViewVisible();\n      } else if (this._spreadMode !== SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n      this.#onePageRenderedOrForceFetch(signal).then(async () => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        this.findController?.setDocument(pdfDocument);\n        this._scriptingManager?.setDocument(pdfDocument);\n        if (this.#hiddenCopyElement) {\n          document.addEventListener(\"copy\", this.#copyCallback.bind(this, textLayerMode), {\n            signal\n          });\n        }\n        if (this.#annotationEditorUIManager) {\n          eventBus.dispatch(\"annotationeditormodechanged\", {\n            source: this,\n            mode: this.#annotationEditorMode\n          });\n        }\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        let getPagesLeft = pagesCount - 1;\n        if (getPagesLeft <= 0) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          const promise = pdfDocument.getPage(pageNum).then(pdfPage => {\n            const pageView = this._pages[pageNum - 1];\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          }, reason => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          });\n          if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n            await promise;\n          }\n        }\n      });\n      eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n      pdfDocument.getMetadata().then(({\n        info\n      }) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        if (info.Language) {\n          viewer.lang = info.Language;\n        }\n      });\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch(reason => {\n      console.error(\"Unable to initialize viewer\", reason);\n      this._pagesCapability.reject(reason);\n    });\n  }\n  setPageLabels(labels) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].setPageLabel(this._pageLabels?.[i] ?? null);\n    }\n  }\n  _resetView() {\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    this.#buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n    this._location = null;\n    this._pagesRotation = 0;\n    this._optionalContentConfigPromise = null;\n    this._firstPageCapability = Promise.withResolvers();\n    this._onePageRenderedCapability = Promise.withResolvers();\n    this._pagesCapability = Promise.withResolvers();\n    this._scrollMode = ScrollMode.VERTICAL;\n    this._previousScrollMode = ScrollMode.UNKNOWN;\n    this._spreadMode = SpreadMode.NONE;\n    this.#scrollModePageState = {\n      previousPageNumber: 1,\n      scrollDown: true,\n      pages: []\n    };\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this.viewer.textContent = \"\";\n    this._updateScrollMode();\n    this.viewer.removeAttribute(\"lang\");\n    this.#hiddenCopyElement?.remove();\n    this.#hiddenCopyElement = null;\n    this.#cleanupSwitchAnnotationEditorMode();\n  }\n  #ensurePageViewVisible() {\n    if (this._scrollMode !== ScrollMode.PAGE) {\n      throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n    }\n    const pageNumber = this._currentPageNumber,\n      state = this.#scrollModePageState,\n      viewer = this.viewer;\n    viewer.textContent = \"\";\n    state.pages.length = 0;\n    if (this._spreadMode === SpreadMode.NONE && !this.isInPresentationMode) {\n      const pageView = this._pages[pageNumber - 1];\n      viewer.append(pageView.div);\n      state.pages.push(pageView);\n    } else {\n      const pageIndexSet = new Set(),\n        parity = this._spreadMode - 1;\n      if (parity === -1) {\n        pageIndexSet.add(pageNumber - 1);\n      } else if (pageNumber % 2 !== parity) {\n        pageIndexSet.add(pageNumber - 1);\n        pageIndexSet.add(pageNumber);\n      } else {\n        pageIndexSet.add(pageNumber - 2);\n        pageIndexSet.add(pageNumber - 1);\n      }\n      const spread = document.createElement(\"div\");\n      spread.className = \"spread\";\n      if (this.isInPresentationMode) {\n        const dummyPage = document.createElement(\"div\");\n        dummyPage.className = \"dummyPage\";\n        spread.append(dummyPage);\n      }\n      for (const i of pageIndexSet) {\n        const pageView = this._pages[i];\n        if (!pageView) {\n          continue;\n        }\n        spread.append(pageView.div);\n        state.pages.push(pageView);\n      }\n      viewer.append(spread);\n    }\n    state.scrollDown = pageNumber >= state.previousPageNumber;\n    state.previousPageNumber = pageNumber;\n  }\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n    this.update();\n  }\n  #scrollIntoView(pageView, pageSpot = null) {\n    const {\n      div,\n      id\n    } = pageView;\n    if (this._currentPageNumber !== id) {\n      this._setCurrentPageNumber(id);\n    }\n    if (this._scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n      this.update();\n    }\n    if (!pageSpot && !this.isInPresentationMode) {\n      const left = div.offsetLeft + div.clientLeft,\n        right = left + div.clientWidth;\n      const {\n        scrollLeft,\n        clientWidth\n      } = this.container;\n      if (this._scrollMode === ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n        pageSpot = {\n          left: 0,\n          top: 0\n        };\n      }\n    }\n    scrollIntoView(div, pageSpot);\n    if (!this._currentScaleValue && this._location) {\n      this._location = null;\n    }\n  }\n  #isSameScale(newScale) {\n    return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n  }\n  #setScaleUpdatePages(newScale, newValue, {\n    noScroll = false,\n    preset = false,\n    drawingDelay = -1,\n    origin = null\n  }) {\n    this._currentScaleValue = newValue.toString();\n    if (this.#isSameScale(newScale)) {\n      if (preset) {\n        this.eventBus.dispatch(\"scalechanging\", {\n          source: this,\n          scale: newScale,\n          presetValue: newValue\n        });\n      }\n      return;\n    }\n    this.viewer.style.setProperty(\"--scale-factor\", newScale * PixelsPerInch.PDF_TO_CSS_UNITS);\n    const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1000;\n    this.refresh(true, {\n      scale: newScale,\n      drawingDelay: postponeDrawing ? drawingDelay : -1\n    });\n    if (postponeDrawing) {\n      this.#scaleTimeoutId = setTimeout(() => {\n        this.#scaleTimeoutId = null;\n        this.refresh();\n      }, drawingDelay);\n    }\n    const previousScale = this._currentScale;\n    this._currentScale = newScale;\n    if (!noScroll) {\n      let page = this._currentPageNumber,\n        dest;\n      if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n        page = this._location.pageNumber;\n        dest = [null, {\n          name: \"XYZ\"\n        }, this._location.left, this._location.top, null];\n      }\n      this.scrollPageIntoView({\n        pageNumber: page,\n        destArray: dest,\n        allowNegativeOffset: true\n      });\n      if (Array.isArray(origin)) {\n        const scaleDiff = newScale / previousScale - 1;\n        const [top, left] = this.containerTopLeft;\n        this.container.scrollLeft += (origin[0] - left) * scaleDiff;\n        this.container.scrollTop += (origin[1] - top) * scaleDiff;\n      }\n    }\n    this.eventBus.dispatch(\"scalechanging\", {\n      source: this,\n      scale: newScale,\n      presetValue: preset ? newValue : undefined\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get #pageWidthScaleFactor() {\n    if (this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL) {\n      return 2;\n    }\n    return 1;\n  }\n  #setScale(value, options) {\n    let scale = parseFloat(value);\n    if (scale > 0) {\n      options.preset = false;\n      this.#setScaleUpdatePages(scale, value, options);\n    } else {\n      const currentPage = this._pages[this._currentPageNumber - 1];\n      if (!currentPage) {\n        return;\n      }\n      let hPadding = SCROLLBAR_PADDING,\n        vPadding = VERTICAL_PADDING;\n      if (this.isInPresentationMode) {\n        hPadding = vPadding = 4;\n        if (this._spreadMode !== SpreadMode.NONE) {\n          hPadding *= 2;\n        }\n      } else if (this.removePageBorders) {\n        hPadding = vPadding = 0;\n      } else if (this._scrollMode === ScrollMode.HORIZONTAL) {\n        [hPadding, vPadding] = [vPadding, hPadding];\n      }\n      const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / this.#pageWidthScaleFactor;\n      const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n      switch (value) {\n        case \"page-actual\":\n          scale = 1;\n          break;\n        case \"page-width\":\n          scale = pageWidthScale;\n          break;\n        case \"page-height\":\n          scale = pageHeightScale;\n          break;\n        case \"page-fit\":\n          scale = Math.min(pageWidthScale, pageHeightScale);\n          break;\n        case \"auto\":\n          const horizontalScale = isPortraitOrientation(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n          scale = Math.min(MAX_AUTO_SCALE, horizontalScale);\n          break;\n        default:\n          console.error(`#setScale: \"${value}\" is an unknown zoom value.`);\n          return;\n      }\n      options.preset = true;\n      this.#setScaleUpdatePages(scale, value, options);\n    }\n  }\n  #resetCurrentPageView() {\n    const pageView = this._pages[this._currentPageNumber - 1];\n    if (this.isInPresentationMode) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.#scrollIntoView(pageView);\n  }\n  pageLabelToPageNumber(label) {\n    if (!this._pageLabels) {\n      return null;\n    }\n    const i = this._pageLabels.indexOf(label);\n    if (i < 0) {\n      return null;\n    }\n    return i + 1;\n  }\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n    if (!pageView) {\n      console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n      return;\n    }\n    let x = 0,\n      y = 0;\n    let width = 0,\n      height = 0,\n      widthScale,\n      heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    let scale = 0;\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        } else if (typeof y !== \"number\" || y < 0) {\n          y = pageHeight;\n        }\n        break;\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        let hPadding = SCROLLBAR_PADDING,\n          vPadding = VERTICAL_PADDING;\n        if (this.removePageBorders) {\n          hPadding = vPadding = 0;\n        }\n        widthScale = (this.container.clientWidth - hPadding) / width / PixelsPerInch.PDF_TO_CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / PixelsPerInch.PDF_TO_CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n      default:\n        console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === UNKNOWN_SCALE) {\n        this.currentScaleValue = DEFAULT_SCALE_VALUE;\n      }\n    }\n    if (scale === \"page-fit\" && !destArray[4]) {\n      this.#scrollIntoView(pageView);\n      return;\n    }\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n    this.#scrollIntoView(pageView, {\n      left,\n      top\n    });\n  }\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    let pdfOpenParams = `#page=${pageNumber}`;\n    if (!this.isInPresentationMode) {\n      pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n    }\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n  update() {\n    const visible = this._getVisiblePages();\n    const visiblePages = visible.views,\n      numVisiblePages = visiblePages.length;\n    if (numVisiblePages === 0) {\n      return;\n    }\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n    this.#buffer.resize(newCacheSize, visible.ids);\n    this.renderingQueue.renderHighestPriority(visible);\n    const isSimpleLayout = this._spreadMode === SpreadMode.NONE && (this._scrollMode === ScrollMode.PAGE || this._scrollMode === ScrollMode.VERTICAL);\n    const currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n      if (page.id === currentId && isSimpleLayout) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n    this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n    this._updateLocation(visible.first);\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n  #switchToEditAnnotationMode() {\n    const visible = this._getVisiblePages();\n    const pagesToRefresh = [];\n    const {\n      ids,\n      views\n    } = visible;\n    for (const page of views) {\n      const {\n        view\n      } = page;\n      if (!view.hasEditableAnnotations()) {\n        ids.delete(view.id);\n        continue;\n      }\n      pagesToRefresh.push(page);\n    }\n    if (pagesToRefresh.length === 0) {\n      return null;\n    }\n    this.renderingQueue.renderHighestPriority({\n      first: pagesToRefresh[0],\n      last: pagesToRefresh.at(-1),\n      views: pagesToRefresh,\n      ids\n    });\n    return ids;\n  }\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n  focus() {\n    this.container.focus();\n  }\n  get _isContainerRtl() {\n    return getComputedStyle(this.container).direction === \"rtl\";\n  }\n  get isInPresentationMode() {\n    return this.presentationModeState === PresentationModeState.FULLSCREEN;\n  }\n  get isChangingPresentationMode() {\n    return this.presentationModeState === PresentationModeState.CHANGING;\n  }\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n  _getVisiblePages() {\n    const views = this._scrollMode === ScrollMode.PAGE ? this.#scrollModePageState.pages : this._pages,\n      horizontal = this._scrollMode === ScrollMode.HORIZONTAL,\n      rtl = horizontal && this._isContainerRtl;\n    return getVisibleElements({\n      scrollEl: this.container,\n      views,\n      sortByVisibility: true,\n      horizontal,\n      rtl\n    });\n  }\n  cleanup() {\n    for (const pageView of this._pages) {\n      if (pageView.renderingState !== RenderingStates.FINISHED) {\n        pageView.reset();\n      }\n    }\n  }\n  _cancelRendering() {\n    for (const pageView of this._pages) {\n      pageView.cancelRendering();\n    }\n  }\n  async #ensurePdfPageLoaded(pageView) {\n    if (pageView.pdfPage) {\n      return pageView.pdfPage;\n    }\n    try {\n      const pdfPage = await this.pdfDocument.getPage(pageView.id);\n      if (!pageView.pdfPage) {\n        pageView.setPdfPage(pdfPage);\n      }\n      return pdfPage;\n    } catch (reason) {\n      console.error(\"Unable to get page for page view\", reason);\n      return null;\n    }\n  }\n  #getScrollAhead(visible) {\n    if (visible.first?.id === 1) {\n      return true;\n    } else if (visible.last?.id === this.pagesCount) {\n      return false;\n    }\n    switch (this._scrollMode) {\n      case ScrollMode.PAGE:\n        return this.#scrollModePageState.scrollDown;\n      case ScrollMode.HORIZONTAL:\n        return this.scroll.right;\n    }\n    return this.scroll.down;\n  }\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n    const scrollAhead = this.#getScrollAhead(visiblePages);\n    const preRenderExtra = this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n    if (pageView) {\n      this.#ensurePdfPageLoaded(pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n    return false;\n  }\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n    return true;\n  }\n  getPagesOverview() {\n    let initialOrientation;\n    return this._pages.map(pageView => {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n      const orientation = isPortraitOrientation(viewport);\n      if (initialOrientation === undefined) {\n        initialOrientation = orientation;\n      } else if (this.enablePrintAutoRotate && orientation !== initialOrientation) {\n        return {\n          width: viewport.height,\n          height: viewport.width,\n          rotation: (viewport.rotation - 90) % 360\n        };\n      }\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation\n      };\n    });\n  }\n  get optionalContentConfigPromise() {\n    if (!this.pdfDocument) {\n      return Promise.resolve(null);\n    }\n    if (!this._optionalContentConfigPromise) {\n      console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n      return this.pdfDocument.getOptionalContentConfig({\n        intent: \"display\"\n      });\n    }\n    return this._optionalContentConfigPromise;\n  }\n  set optionalContentConfigPromise(promise) {\n    if (!(promise instanceof Promise)) {\n      throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._optionalContentConfigPromise) {\n      return;\n    }\n    this._optionalContentConfigPromise = promise;\n    this.refresh(false, {\n      optionalContentConfigPromise: promise\n    });\n    this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n      source: this,\n      promise\n    });\n  }\n  get scrollMode() {\n    return this._scrollMode;\n  }\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n    if (!isValidScrollMode(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n    if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      return;\n    }\n    this._previousScrollMode = this._scrollMode;\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateScrollMode(this._currentPageNumber);\n  }\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode,\n      viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === ScrollMode.WRAPPED);\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n    if (scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else if (this._previousScrollMode === ScrollMode.PAGE) {\n      this._updateSpreadMode();\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  get spreadMode() {\n    return this._spreadMode;\n  }\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n    if (!isValidSpreadMode(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const viewer = this.viewer,\n      pages = this._pages;\n    if (this._scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else {\n      viewer.textContent = \"\";\n      if (this._spreadMode === SpreadMode.NONE) {\n        for (const pageView of this._pages) {\n          viewer.append(pageView.div);\n        }\n      } else {\n        const parity = this._spreadMode - 1;\n        let spread = null;\n        for (let i = 0, ii = pages.length; i < ii; ++i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.append(spread);\n          } else if (i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.append(spread);\n          }\n          spread.append(pages[i].div);\n        }\n      }\n    }\n    if (!pageNumber) {\n      return;\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  _getPageAdvance(currentPageNumber, previous = false) {\n    switch (this._scrollMode) {\n      case ScrollMode.WRAPPED:\n        {\n          const {\n              views\n            } = this._getVisiblePages(),\n            pageLayout = new Map();\n          for (const {\n            id,\n            y,\n            percent,\n            widthPercent\n          } of views) {\n            if (percent === 0 || widthPercent < 100) {\n              continue;\n            }\n            let yArray = pageLayout.get(y);\n            if (!yArray) {\n              pageLayout.set(y, yArray ||= []);\n            }\n            yArray.push(id);\n          }\n          for (const yArray of pageLayout.values()) {\n            const currentIndex = yArray.indexOf(currentPageNumber);\n            if (currentIndex === -1) {\n              continue;\n            }\n            const numPages = yArray.length;\n            if (numPages === 1) {\n              break;\n            }\n            if (previous) {\n              for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n                const currentId = yArray[i],\n                  expectedId = yArray[i + 1] - 1;\n                if (currentId < expectedId) {\n                  return currentPageNumber - expectedId;\n                }\n              }\n            } else {\n              for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n                const currentId = yArray[i],\n                  expectedId = yArray[i - 1] + 1;\n                if (currentId > expectedId) {\n                  return expectedId - currentPageNumber;\n                }\n              }\n            }\n            if (previous) {\n              const firstId = yArray[0];\n              if (firstId < currentPageNumber) {\n                return currentPageNumber - firstId + 1;\n              }\n            } else {\n              const lastId = yArray[numPages - 1];\n              if (lastId > currentPageNumber) {\n                return lastId - currentPageNumber + 1;\n              }\n            }\n            break;\n          }\n          break;\n        }\n      case ScrollMode.HORIZONTAL:\n        {\n          break;\n        }\n      case ScrollMode.PAGE:\n      case ScrollMode.VERTICAL:\n        {\n          if (this._spreadMode === SpreadMode.NONE) {\n            break;\n          }\n          const parity = this._spreadMode - 1;\n          if (previous && currentPageNumber % 2 !== parity) {\n            break;\n          } else if (!previous && currentPageNumber % 2 === parity) {\n            break;\n          }\n          const {\n              views\n            } = this._getVisiblePages(),\n            expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n          for (const {\n            id,\n            percent,\n            widthPercent\n          } of views) {\n            if (id !== expectedId) {\n              continue;\n            }\n            if (percent > 0 && widthPercent === 100) {\n              return 2;\n            }\n            break;\n          }\n          break;\n        }\n    }\n    return 1;\n  }\n  nextPage() {\n    const currentPageNumber = this._currentPageNumber,\n      pagesCount = this.pagesCount;\n    if (currentPageNumber >= pagesCount) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n    this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n    return true;\n  }\n  previousPage() {\n    const currentPageNumber = this._currentPageNumber;\n    if (currentPageNumber <= 1) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n    this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n    return true;\n  }\n  updateScale({\n    drawingDelay,\n    scaleFactor = null,\n    steps = null,\n    origin\n  }) {\n    if (steps === null && scaleFactor === null) {\n      throw new Error(\"Invalid updateScale options: either `steps` or `scaleFactor` must be provided.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    let newScale = this._currentScale;\n    if (scaleFactor > 0 && scaleFactor !== 1) {\n      newScale = Math.round(newScale * scaleFactor * 100) / 100;\n    } else if (steps) {\n      const delta = steps > 0 ? DEFAULT_SCALE_DELTA : 1 / DEFAULT_SCALE_DELTA;\n      const round = steps > 0 ? Math.ceil : Math.floor;\n      steps = Math.abs(steps);\n      do {\n        newScale = round((newScale * delta).toFixed(2) * 10) / 10;\n      } while (--steps > 0);\n    }\n    newScale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, newScale));\n    this.#setScale(newScale, {\n      noScroll: false,\n      drawingDelay,\n      origin\n    });\n  }\n  increaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: options.steps ?? 1\n    });\n  }\n  decreaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: -(options.steps ?? 1)\n    });\n  }\n  #updateContainerHeightCss(height = this.container.clientHeight) {\n    if (height !== this.#previousContainerHeight) {\n      this.#previousContainerHeight = height;\n      docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n    }\n  }\n  #resizeObserverCallback(entries) {\n    for (const entry of entries) {\n      if (entry.target === this.container) {\n        this.#updateContainerHeightCss(Math.floor(entry.borderBoxSize[0].blockSize));\n        this.#containerTopLeft = null;\n        break;\n      }\n    }\n  }\n  get containerTopLeft() {\n    return this.#containerTopLeft ||= [this.container.offsetTop, this.container.offsetLeft];\n  }\n  #cleanupSwitchAnnotationEditorMode() {\n    if (this.#onPageRenderedCallback) {\n      this.eventBus._off(\"pagerendered\", this.#onPageRenderedCallback);\n      this.#onPageRenderedCallback = null;\n    }\n    if (this.#switchAnnotationEditorModeTimeoutId !== null) {\n      clearTimeout(this.#switchAnnotationEditorModeTimeoutId);\n      this.#switchAnnotationEditorModeTimeoutId = null;\n    }\n  }\n  get annotationEditorMode() {\n    return this.#annotationEditorUIManager ? this.#annotationEditorMode : AnnotationEditorType.DISABLE;\n  }\n  set annotationEditorMode({\n    mode,\n    editId = null,\n    isFromKeyboard = false\n  }) {\n    if (!this.#annotationEditorUIManager) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    if (this.#annotationEditorMode === mode) {\n      return;\n    }\n    if (!isValidAnnotationEditorMode(mode)) {\n      throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    const {\n      eventBus\n    } = this;\n    const updater = () => {\n      this.#cleanupSwitchAnnotationEditorMode();\n      this.#annotationEditorMode = mode;\n      this.#annotationEditorUIManager.updateMode(mode, editId, isFromKeyboard);\n      eventBus.dispatch(\"annotationeditormodechanged\", {\n        source: this,\n        mode\n      });\n    };\n    if (mode === AnnotationEditorType.NONE || this.#annotationEditorMode === AnnotationEditorType.NONE) {\n      const isEditing = mode !== AnnotationEditorType.NONE;\n      if (!isEditing) {\n        this.pdfDocument.annotationStorage.resetModifiedIds();\n      }\n      for (const pageView of this._pages) {\n        pageView.toggleEditingMode(isEditing);\n      }\n      const idsToRefresh = this.#switchToEditAnnotationMode();\n      if (isEditing && idsToRefresh) {\n        this.#cleanupSwitchAnnotationEditorMode();\n        this.#onPageRenderedCallback = ({\n          pageNumber\n        }) => {\n          idsToRefresh.delete(pageNumber);\n          if (idsToRefresh.size === 0) {\n            this.#switchAnnotationEditorModeTimeoutId = setTimeout(updater, 0);\n          }\n        };\n        const {\n          signal\n        } = this.#eventAbortController;\n        eventBus._on(\"pagerendered\", this.#onPageRenderedCallback, {\n          signal\n        });\n        return;\n      }\n    }\n    updater();\n  }\n  set annotationEditorParams({\n    type,\n    value\n  }) {\n    if (!this.#annotationEditorUIManager) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    this.#annotationEditorUIManager.updateParams(type, value);\n  }\n  refresh(noUpdate = false, updateArgs = Object.create(null)) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n    if (this.#scaleTimeoutId !== null) {\n      clearTimeout(this.#scaleTimeoutId);\n      this.#scaleTimeoutId = null;\n    }\n    if (!noUpdate) {\n      this.update();\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_single_page_viewer.js\n\n\nclass PDFSinglePageViewer extends PDFViewer {\n  _resetView() {\n    super._resetView();\n    this._scrollMode = ScrollMode.PAGE;\n    this._spreadMode = SpreadMode.NONE;\n  }\n  set scrollMode(mode) {}\n  _updateScrollMode() {}\n  set spreadMode(mode) {}\n  _updateSpreadMode() {}\n}\n\n;// CONCATENATED MODULE: ./web/pdf_viewer.component.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = \"4.5.136\";\nconst pdfjsBuild = \"3a21f03b0\";\n\nvar __webpack_exports__AnnotationLayerBuilder = __webpack_exports__.AnnotationLayerBuilder;\nvar __webpack_exports__DownloadManager = __webpack_exports__.DownloadManager;\nvar __webpack_exports__EventBus = __webpack_exports__.EventBus;\nvar __webpack_exports__FindState = __webpack_exports__.FindState;\nvar __webpack_exports__GenericL10n = __webpack_exports__.GenericL10n;\nvar __webpack_exports__LinkTarget = __webpack_exports__.LinkTarget;\nvar __webpack_exports__PDFFindController = __webpack_exports__.PDFFindController;\nvar __webpack_exports__PDFHistory = __webpack_exports__.PDFHistory;\nvar __webpack_exports__PDFLinkService = __webpack_exports__.PDFLinkService;\nvar __webpack_exports__PDFPageView = __webpack_exports__.PDFPageView;\nvar __webpack_exports__PDFScriptingManager = __webpack_exports__.PDFScriptingManager;\nvar __webpack_exports__PDFSinglePageViewer = __webpack_exports__.PDFSinglePageViewer;\nvar __webpack_exports__PDFViewer = __webpack_exports__.PDFViewer;\nvar __webpack_exports__ProgressBar = __webpack_exports__.ProgressBar;\nvar __webpack_exports__RenderingStates = __webpack_exports__.RenderingStates;\nvar __webpack_exports__ScrollMode = __webpack_exports__.ScrollMode;\nvar __webpack_exports__SimpleLinkService = __webpack_exports__.SimpleLinkService;\nvar __webpack_exports__SpreadMode = __webpack_exports__.SpreadMode;\nvar __webpack_exports__StructTreeLayerBuilder = __webpack_exports__.StructTreeLayerBuilder;\nvar __webpack_exports__TextLayerBuilder = __webpack_exports__.TextLayerBuilder;\nvar __webpack_exports__XfaLayerBuilder = __webpack_exports__.XfaLayerBuilder;\nvar __webpack_exports__parseQueryString = __webpack_exports__.parseQueryString;\nexport { __webpack_exports__AnnotationLayerBuilder as AnnotationLayerBuilder, __webpack_exports__DownloadManager as DownloadManager, __webpack_exports__EventBus as EventBus, __webpack_exports__FindState as FindState, __webpack_exports__GenericL10n as GenericL10n, __webpack_exports__LinkTarget as LinkTarget, __webpack_exports__PDFFindController as PDFFindController, __webpack_exports__PDFHistory as PDFHistory, __webpack_exports__PDFLinkService as PDFLinkService, __webpack_exports__PDFPageView as PDFPageView, __webpack_exports__PDFScriptingManager as PDFScriptingManager, __webpack_exports__PDFSinglePageViewer as PDFSinglePageViewer, __webpack_exports__PDFViewer as PDFViewer, __webpack_exports__ProgressBar as ProgressBar, __webpack_exports__RenderingStates as RenderingStates, __webpack_exports__ScrollMode as ScrollMode, __webpack_exports__SimpleLinkService as SimpleLinkService, __webpack_exports__SpreadMode as SpreadMode, __webpack_exports__StructTreeLayerBuilder as StructTreeLayerBuilder, __webpack_exports__TextLayerBuilder as TextLayerBuilder, __webpack_exports__XfaLayerBuilder as XfaLayerBuilder, __webpack_exports__parseQueryString as parseQueryString };\n\n//# sourceMappingURL=pdf_viewer.mjs.map","import {\r\n    build, getDocument, GlobalWorkerOptions, InvalidPDFException, MissingPDFException,\r\n    PDFDocumentProxy, shadow, UnexpectedResponseException, version\r\n} from \"pdfjs-dist\";\r\nimport * as pdfjsViewer from \"pdfjs-dist/legacy/web/pdf_viewer.mjs\";\r\n\r\nconst TEXT_LAYER_MODE = 0; // DISABLE\r\nconst MAX_IMAGE_SIZE = 1024 * 1024;\r\n// const CMAP_URL = \"../../node_modules/pdfjs-dist/cmaps/\";\r\n// const CMAP_PACKED = true;\r\n\r\nconst DEFAULT_SCALE_DELTA = 1.1;\r\nconst MIN_SCALE = 0.25;\r\nconst MAX_SCALE = 10.0;\r\nconst DEFAULT_SCALE_VALUE = \"auto\";\r\n\r\nclass PDFViewerApplication {\r\n  pdfLoadingTask: any;\r\n  pdfDocument: PDFDocumentProxy;\r\n  pdfViewer: pdfjsViewer.PDFViewer;\r\n  pdfHistory: any;\r\n  pdfLinkService: any;\r\n  eventBus: any;\r\n  value: number;\r\n  l10n: pdfjsViewer.GenericL10n;\r\n  previous: HTMLElement;\r\n  next: HTMLElement;\r\n  zoomInBtn: HTMLElement;\r\n  zoomOutBtn: HTMLElement;\r\n  container: HTMLDivElement;\r\n  viewerDiv: HTMLElement;\r\n  pagination: HTMLElement;\r\n  maxCanvasPixels: number;\r\n  startDistance = 0;\r\n\r\n  _zoomIn = () => this.zoomIn();\r\n\r\n  _zoomOut = () => this.zoomOut();\r\n\r\n  _previousClick = () => this.page--;\r\n\r\n  _nextClick = () => this.page++;\r\n\r\n  _touchstart = (e: TouchEvent) => {\r\n    if (e.touches.length === 2) {\r\n      this.startDistance = getDistance(e.touches);\r\n      console.log(\"touchstart startDistance\", this.startDistance);\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  _touchmove = (e: TouchEvent) => {\r\n    if (e.touches.length === 2) {\r\n      const currentDistance = getDistance(e.touches);\r\n      if (Math.abs(currentDistance - this.startDistance) > 10) {\r\n        const scaleChange = currentDistance / this.startDistance;\r\n        this.startDistance = currentDistance;\r\n        const origin = getCenter(e.touches);\r\n        if (scaleChange > 1) {\r\n          this.zoomIn(origin);\r\n        } else {\r\n          this.zoomOut(origin);\r\n        }\r\n      }\r\n\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  _wheel = (e: WheelEvent) => {\r\n    if (e.ctrlKey) {\r\n      e.preventDefault();\r\n\r\n      const origin = [e.clientX, e.clientY];\r\n\r\n      if (e.deltaY < 0) {\r\n        this.zoomIn(origin);\r\n      } else {\r\n        this.zoomOut(origin);\r\n      }\r\n    }\r\n  };\r\n\r\n  constructor(container: HTMLDivElement, maxCanvasPixels: number) {\r\n    this.container = container;\r\n    this.maxCanvasPixels = maxCanvasPixels;\r\n    this.previous = container.querySelector(\".previous\");\r\n    this.next = container.querySelector(\".next\");\r\n    this.zoomInBtn = container.querySelector(\".zoomIn\");\r\n    this.zoomOutBtn = container.querySelector(\".zoomOut\");\r\n    this.viewerDiv = this.container.firstElementChild as HTMLElement;\r\n    this.pagination = container.querySelector(\".pagination\");\r\n\r\n    this.pdfLoadingTask = null;\r\n    this.pdfDocument = null;\r\n    this.pdfViewer = null;\r\n    this.pdfHistory = null;\r\n    this.pdfLinkService = null;\r\n    this.eventBus = null;\r\n    this.value = 0;\r\n  }\r\n\r\n  async open(url: string) {\r\n    if (this.pdfLoadingTask) {\r\n      // We need to destroy already opened document\r\n      return this.close().then(\r\n        function () {\r\n          // ... and repeat the open() call.\r\n          return this.open(url);\r\n        }.bind(this)\r\n      );\r\n    }\r\n\r\n    const self = this;\r\n\r\n    // Loading document.\r\n    const loadingTask = getDocument({\r\n      url,\r\n      maxImageSize: MAX_IMAGE_SIZE,\r\n    });\r\n    this.pdfLoadingTask = loadingTask;\r\n\r\n    loadingTask.onProgress = function (progressData) {\r\n      self.progress(progressData.loaded / progressData.total);\r\n    };\r\n\r\n    try {\r\n      const pdfDocument = await loadingTask.promise;\r\n      this.pdfDocument = pdfDocument;\r\n      this.pdfViewer.setDocument(pdfDocument);\r\n      this.pdfLinkService.setDocument(pdfDocument);\r\n      this.pdfHistory.initialize({\r\n        fingerprint: pdfDocument.fingerprints[0],\r\n      });\r\n      // this.loadingBar.hide();\r\n    } catch (reason) {\r\n      let key = \"pdfjs-loading-error\";\r\n      if (reason instanceof InvalidPDFException) {\r\n        key = \"pdfjs-invalid-file-error\";\r\n      } else if (reason instanceof MissingPDFException) {\r\n        key = \"pdfjs-missing-file-error\";\r\n      } else if (reason instanceof UnexpectedResponseException) {\r\n        key = \"pdfjs-unexpected-response-error\";\r\n      }\r\n      self.l10n.get(key, null, null).then((msg) => {\r\n        self.error(msg, { message: reason?.message });\r\n      });\r\n      // self.loadingBar.hide();\r\n    }\r\n  }\r\n\r\n  async close() {\r\n    if (!this.pdfLoadingTask) {\r\n      return;\r\n    }\r\n\r\n    await this.pdfLoadingTask.destroy();\r\n    this.pdfLoadingTask = null;\r\n\r\n    if (this.pdfDocument) {\r\n      this.pdfDocument = null;\r\n\r\n      this.pdfViewer.setDocument(null);\r\n      this.pdfLinkService.setDocument(null, null);\r\n\r\n      if (this.pdfHistory) {\r\n        this.pdfHistory.reset();\r\n      }\r\n    }\r\n  }\r\n\r\n  // get loadingBar() {\r\n  //   const bar = document.getElementById(\"loadingBar\");\r\n  //   return shadow(this, \"loadingBar\", new pdfjsViewer.ProgressBar(bar));\r\n  // }\r\n\r\n  error(message, moreInfo) {\r\n    const moreInfoText = [`PDF.js v${version || \"?\"} (build: ${build || \"?\"})`];\r\n    if (moreInfo) {\r\n      moreInfoText.push(`Message: ${moreInfo.message}`);\r\n\r\n      if (moreInfo.stack) {\r\n        moreInfoText.push(`Stack: ${moreInfo.stack}`);\r\n      } else {\r\n        if (moreInfo.filename) {\r\n          moreInfoText.push(`File: ${moreInfo.filename}`);\r\n        }\r\n        if (moreInfo.lineNumber) {\r\n          moreInfoText.push(`Line: ${moreInfo.lineNumber}`);\r\n        }\r\n      }\r\n    }\r\n\r\n    console.error(`${message}\\n\\n${moreInfoText.join(\"\\n\")}`);\r\n  }\r\n\r\n  progress(level) {\r\n    const percent = Math.round(level * 100);\r\n    // Updating the bar if value increases.\r\n    // if (percent > this.loadingBar.percent || isNaN(percent)) {\r\n    //   this.loadingBar.percent = percent;\r\n    // }\r\n  }\r\n\r\n  get pagesCount() {\r\n    return this.pdfDocument.numPages;\r\n  }\r\n\r\n  get page() {\r\n    return this.pdfViewer.currentPageNumber;\r\n  }\r\n\r\n  set page(val) {\r\n    this.pdfViewer.currentPageNumber = val;\r\n  }\r\n\r\n  zoomIn(origin: any[] = null) {\r\n    this.pdfViewer.updateScale({\r\n      scaleFactor: 1.1,\r\n      origin,\r\n    });\r\n  }\r\n\r\n  zoomOut(origin: any[] = null) {\r\n    this.pdfViewer.updateScale({\r\n      scaleFactor: 0.9,\r\n      origin,\r\n    });\r\n  }\r\n\r\n  initUI() {\r\n    const eventBus = new pdfjsViewer.EventBus();\r\n    this.eventBus = eventBus;\r\n\r\n    const linkService = new pdfjsViewer.PDFLinkService({\r\n      eventBus,\r\n    });\r\n    this.pdfLinkService = linkService;\r\n\r\n    this.l10n = new pdfjsViewer.GenericL10n(null);\r\n\r\n    const pdfViewer = new pdfjsViewer.PDFViewer({\r\n      container: this.container,\r\n      eventBus,\r\n      linkService,\r\n      l10n: this.l10n,\r\n      maxCanvasPixels: this.maxCanvasPixels,\r\n      textLayerMode: TEXT_LAYER_MODE,\r\n    });\r\n    this.pdfViewer = pdfViewer;\r\n    linkService.setViewer(pdfViewer);\r\n\r\n    this.pdfHistory = new pdfjsViewer.PDFHistory({\r\n      eventBus,\r\n      linkService,\r\n    });\r\n    linkService.setHistory(this.pdfHistory);\r\n\r\n    eventBus.on(\"pagesinit\", () => {\r\n      // We can use pdfViewer now, e.g. let's change default scale.\r\n      pdfViewer.currentScaleValue = DEFAULT_SCALE_VALUE;\r\n      if (this.pagination) {\r\n        this.pagination.textContent = `${pdfViewer.currentPageNumber} / ${this.pagesCount}`;\r\n      }\r\n    });\r\n\r\n    eventBus.on(\r\n      \"pagechanging\",\r\n      (evt) => {\r\n        const page = evt.pageNumber;\r\n        const numPages = this.pagesCount;\r\n        if (this.pagination) {\r\n          this.pagination.textContent = `${page} / ${numPages}`;\r\n        }\r\n      },\r\n      true\r\n    );\r\n\r\n    this.container.addEventListener(\"touchstart\", this._touchstart, {\r\n      passive: false,\r\n    });\r\n\r\n    this.container.addEventListener(\"touchmove\", this._touchmove, {\r\n      passive: false,\r\n    });\r\n\r\n    this.viewerDiv.addEventListener(\"wheel\", this._wheel);\r\n    this.previous &&\r\n      this.previous.addEventListener(\"click\", this._previousClick);\r\n    this.next && this.next.addEventListener(\"click\", this._nextClick);\r\n    this.zoomInBtn && this.zoomInBtn.addEventListener(\"click\", this._zoomIn);\r\n    this.zoomOutBtn && this.zoomOutBtn.addEventListener(\"click\", this._zoomOut);\r\n  }\r\n\r\n  destroy() {\r\n    this.container.removeEventListener(\"touchstart\", this._touchstart);\r\n    this.container.removeEventListener(\"touchmove\", this._touchstart);\r\n    this.viewerDiv.removeEventListener(\"wheel\", this._wheel);\r\n\r\n    this.previous &&\r\n      this.previous.removeEventListener(\"click\", this._previousClick);\r\n    this.next && this.next.removeEventListener(\"click\", this._nextClick);\r\n    this.zoomInBtn && this.zoomInBtn.removeEventListener(\"click\", this._zoomIn);\r\n    this.zoomOutBtn &&\r\n      this.zoomOutBtn.removeEventListener(\"click\", this._zoomOut);\r\n  }\r\n}\r\n\r\nfunction getCenter(touches: TouchList) {\r\n  const centerX = (touches[0].clientX + touches[1].clientX) / 2;\r\n  const centerY = (touches[0].clientY + touches[1].clientY) / 2;\r\n  return [centerX, centerY];\r\n}\r\n\r\nfunction getDistance(touches: TouchList) {\r\n  const dx = touches[0].pageX - touches[1].pageX;\r\n  const dy = touches[0].pageY - touches[1].pageY;\r\n  return Math.sqrt(dx * dx + dy * dy);\r\n}\r\n\r\nfunction init(\r\n  viewerContainer: HTMLDivElement,\r\n  url: string,\r\n  maxCanvasPixels: number = 0\r\n) {\r\n  const pdfViewerApp = new PDFViewerApplication(\r\n    viewerContainer,\r\n    maxCanvasPixels\r\n  );\r\n\r\n  GlobalWorkerOptions.workerSrc = new URL(\r\n    \"./pdf.worker.min.js\",\r\n    import.meta.url\r\n  ).toString();\r\n  pdfViewerApp.initUI();\r\n  pdfViewerApp.open(url);\r\n\r\n  return pdfViewerApp;\r\n}\r\n\r\nexport { init };\r\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","__webpack_exports__","globalThis","pdfjsLib","d","AbortException","AnnotationEditorLayer","AnnotationEditorParamsType","AnnotationEditorType","AnnotationEditorUIManager","AnnotationLayer","AnnotationMode","CMapCompressionType","ColorPicker","DOMSVGFactory","DrawLayer","FeatureTest","GlobalWorkerOptions","ImageKind","InvalidPDFException","MissingPDFException","OPS","PDFDataRangeTransport","PDFDateString","PDFWorker","PasswordResponses","PermissionFlag","PixelsPerInch","RenderingCancelledException","TextLayer","UnexpectedResponseException","Util","VerbosityLevel","XfaLayer","build","createValidAbsoluteUrl","fetchData","getDocument","getFilenameFromUrl","getPdfFilenameFromUrl","getXfaPageViewport","isDataScheme","isPdfFile","noContextMenu","normalizeUnicode","setLayerDimensions","shadow","version","isNodeJS","process","versions","nw","electron","type","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","LINE_FACTOR","RenderingIntentFlag","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","NONE","FREETEXT","HIGHLIGHT","STAMP","INK","RESIZE","CREATE","FREETEXT_SIZE","FREETEXT_COLOR","FREETEXT_OPACITY","INK_COLOR","INK_THICKNESS","INK_OPACITY","HIGHLIGHT_COLOR","HIGHLIGHT_DEFAULT_COLOR","HIGHLIGHT_THICKNESS","HIGHLIGHT_FREE","HIGHLIGHT_SHOW_ALL","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","util_ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","AnnotationBorderStyleType","ERRORS","WARNINGS","INFOS","BINARY","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotation","endAnnotation","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","setStrokeTransparent","setFillTransparent","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","msg","console","log","warn","unreachable","Error","assert","cond","url","baseUrl","options","addDefaultProtocol","startsWith","dots","match","length","tryConvertEncoding","decodeURIComponent","escape","absoluteUrl","URL","protocol","_isValidProtocol","nonSerializable","configurable","writable","BaseException","message","name","this","constructor","PasswordException","code","super","UnknownErrorException","details","status","FormatError","bytesToString","bytes","undefined","MAX_ARGUMENT_COUNT","String","fromCharCode","strBuf","i","chunkEnd","Math","min","chunk","subarray","push","join","stringToBytes","str","Uint8Array","charCodeAt","objectFromMap","map","create","util_FeatureTest","isLittleEndian","buffer8","Uint32Array","buffer","isEvalSupported","Function","isOffscreenCanvasSupported","OffscreenCanvas","platform","navigator","isMac","includes","isCSSRoundSupported","CSS","supports","hexNumbers","Array","from","keys","n","toString","padStart","static","r","g","b","minMax","temp","m1","m2","p","m","p1","applyTransform","p2","slice","p3","p4","max","transpose","a","c","first","second","sqrt","sx","sy","rect","rect1","rect2","xLow","xHigh","yLow","yHigh","x0","x1","x2","x3","y0","y1","y2","y3","t","mt","tt","ttt","x","y","abs","getExtremumOnCurve","delta","sqrtDelta","a2","getExtremum","NormalizeRegex","NormalizationMap","Map","replaceAll","_","normalize","AnnotationPrefix","FontRenderOps","BaseFilterFactory","addFilter","maps","addHCMFilter","fgColor","bgColor","addAlphaFilter","addLuminosityFilter","addHighlightHCMFilter","filterName","newFgColor","newBgColor","destroy","keepHCM","BaseCanvasFactory","enableHWA","width","height","canvas","_createCanvas","context","getContext","willReadFrequently","reset","canvasAndContext","BaseCMapReaderFactory","isCompressed","async","compressionType","_fetchData","catch","reason","BaseStandardFontDataFactory","filename","BaseSVGFactory","skipDimensions","svg","_createSVG","setAttribute","createElement","SVG_NS","PDF","isValidFetchUrl","document","baseURI","response","fetch","ok","statusText","arrayBuffer","blob","json","text","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","responseText","send","DOMCMapReaderFactory","data","cMapData","ArrayBuffer","DOMStandardFontDataFactory","createElementNS","PageViewport","viewBox","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","rawDims","pageWidth","pageHeight","pageX","pageY","clone","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","applyInverseTransform","extraDelay","ii","trim","substring","toLowerCase","test","split","lastIndexOf","defaultFilename","reFilename","splitURI","exec","suggestedFilename","StatTimer","started","times","time","Date","now","timeEnd","start","end","outBuf","longest","padEnd","preventDefault","pdfDateStringRegex","input","RegExp","matches","year","parseInt","month","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","UTC","xfaPage","attributes","style","getRGB","color","colorRGB","getCurrentTransform","ctx","f","getTransform","getCurrentTransformInverse","invertSelf","div","viewport","mustFlip","mustRotate","useRound","w","h","widthStr","heightStr","EditorToolbar","toolbar","colorPicker","editor","buttons","render","editToolbar","className","signal","_uiManager","_signal","addEventListener","pointerDown","append","position","toolbarPosition","direction","insetInlineEnd","top","addDeleteButton","stopPropagation","focusIn","_focusEventsAllowed","focusOut","addListenersToElement","element","bind","capture","hide","classList","add","hideDropdown","show","remove","button","tabIndex","editorType","delete","divider","addAltTextButton","prepend","addColorPicker","renderButton","HighlightToolbar","uiManager","addHighlightButton","getLastPoint","boxes","isLTR","lastY","lastX","box","parent","span","highlightSelection","bindEvents","names","IdManager","id","ImageManager","baseId","crypto","randomUUID","buf","getRandomValues","floor","random","getUuid","cache","_isSVGFittingCanvas","image","Image","src","decode","drawImage","getImageData","rawData","bitmap","refCounter","isSvg","file","mustRemoveAspectRatioPromise","fileReader","FileReader","imageElement","imagePromise","onload","svgUrl","onerror","readAsDataURL","createImageBitmap","error","set","lastModified","size","getFromFile","getFromUrl","getSvgUrl","deleteId","isValidId","CommandManager","commands","locked","maxSize","cmd","undo","post","mustExec","NaN","overwriteIfSameType","keepUndo","splice","redo","hasSomethingToUndo","hasSomethingToRedo","KeyboardManager","callbacks","allKeys","Set","callback","isMacKey","at","serialize","event","altKey","ctrlKey","metaKey","shiftKey","self","has","bubbles","args","checker","ColorManager","_colors","colors","visibility","body","computedColor","window","getComputedStyle","getColorValues","convert","rgb","matchMedia","RGB","every","_colorsMapping","getHexCode","makeHexColor","abortController","AbortController","activeEditor","allEditors","allLayers","altTextManager","annotationStorage","changedExistingAnnotations","commandManager","currentPageIndex","deletedAnnotationsElementIds","draggingEditors","editorTypes","editorsToRescale","enableHighlightFloatingButton","enableUpdatedAddImage","filterFactory","focusMainContainerTimeoutId","highlightColors","highlightWhenShiftUp","highlightToolbar","idManager","isEnabled","isWaiting","lastActiveElement","mainHighlightColorPicker","mlManager","mode","selectedEditors","selectedTextNode","pageColors","showAllStates","boundBlur","blur","boundFocus","focus","boundCopy","copy","boundCut","cut","boundPaste","paste","boundKeydown","keydown","boundKeyup","keyup","boundOnEditingAction","onEditingAction","boundOnPageChanging","onPageChanging","boundOnScaleChanging","onScaleChanging","boundOnRotationChanging","onRotationChanging","previousStates","isEditing","isEmpty","hasSelectedEditor","hasSelectedText","translation","translationTimeoutId","container","viewer","_keyboardManager","proto","arrowChecker","contains","activeElement","tagName","hasSomethingToControl","textInputChecker","_self","target","el","HTMLInputElement","small","TRANSLATE_SMALL","big","TRANSLATE_BIG","selectAll","addNewEditorFromKeyboard","HTMLButtonElement","isEnterHandled","unselectAll","translateSelectedEditors","eventBus","pdfDocument","_eventBus","_on","addSelectionListener","addDragAndDropListeners","addKeyboardManager","viewParameters","realScale","PDF_TO_CSS_UNITS","isShiftKeyDown","abort","_off","layer","values","clear","clearTimeout","guess","isEnabledFor","useNewAltTextFlow","hcmFilter","foreground","background","pair","highlightColorNames","reverse","setMainHighlightColorPicker","editAltText","switchToMode","on","once","dispatch","source","setPreference","pageNumber","focusMainContainer","findParent","layerX","layerY","getBoundingClientRect","disableUserSelect","toggle","addShouldRescale","removeShouldRescale","commitOrRemove","pagesRotation","getAnchorElementForSelection","anchorNode","nodeType","Node","TEXT_NODE","parentElement","getLayerForTextLayer","textLayer","currentLayer","hasTextLayer","methodOfCreation","selection","getSelection","isCollapsed","anchorOffset","focusNode","focusOffset","closest","getSelectionBoxes","empty","isNoneMode","createAndAddNewEditor","showAllEditors","displayHighlightToolbar","addToAnnotationStorage","setValue","selectionChange","dispatchUpdateStates","activeLayer","toggleDrawing","pointerup","removeEventListener","onSelectEnd","addFocusManager","removeFocusManager","hasSelection","lastEditor","removeKeyboardManager","addCopyPasteListeners","removeCopyPasteListeners","dragOver","drop","addEditListeners","removeEditListeners","dataTransfer","items","isHandlingMimeForPasting","dropEffect","item","editors","serialized","clipboardData","setData","JSON","stringify","getData","parse","ex","isArray","newEditors","deserializedEditor","deserialize","addEditorToLayer","selectEditors","addCommands","isEditorHandlingKeyboard","entries","some","assign","dispatchUpdateUI","setEditingState","registerEditorTypes","types","defaultPropertiesToUpdate","getId","getLayer","pageIndex","addLayer","enable","disable","removeLayer","updateMode","editId","isFromKeyboard","disableAll","enableAll","annotationElementId","setSelected","enterInEditMode","canCreateNewEmptyEditor","addNewEditor","updateToolbar","updateParams","updateColor","action","updateDefaultParams","visible","updateButton","enableWaiting","mustWait","disableClick","enableClick","getEditors","getEditor","addEditor","removeEditor","setTimeout","unselect","addDeletedAnnotationElement","addChangedExistingAnnotation","deleted","isDeletedAnnotationElement","removeDeletedAnnotationElement","removeChangedExistingAnnotation","addOrRebuild","setActiveEditor","propertiesToUpdate","lastSelectedEditor","ed","updateUI","toggleSelected","select","isSelected","firstSelectedEditor","params","commit","noCommit","totalX","totalY","translateInPage","setUpDragSession","savedX","savedY","savedPageIndex","newX","newY","newPageIndex","endDragSession","mustBeAddedInUndoStack","move","_setParentAndPosition","dragSelectedEditors","tx","ty","drag","rebuild","changeParent","getActive","shouldGetKeyboardEvents","isActive","getMode","imageManager","rangeCount","getRangeAt","commonAncestorContainer","parentWidth","parentHeight","rotator","getAttribute","range","collapsed","getClientRects","renderAnnotationElement","annotation","editorId","getRawValue","hasBeenModified","AltText","altText","altTextDecorative","altTextButton","altTextTooltip","altTextTooltipTimeout","altTextWasFromKeyBoard","l10nPromise","_l10nPromise","textContent","onClick","setState","finish","focusVisible","decorative","enabled","disabled","tooltip","DELAY_TO_SHOW_TOOLTIP","_reportTelemetry","innerText","parentNode","getImageForAltText","AnnotationEditor","accessibilityData","allResizerDivs","keepAspectRatio","resizersDiv","savedDimensions","boundFocusin","focusin","boundFocusout","focusout","focusedResizerName","hasBeenClicked","initialPosition","isInEditMode","isResizerEnabledForKeyboard","moveInDOMTimeout","prevDragX","prevDragY","telemetryTimeouts","_initialOptions","_isVisible","isDraggable","zIndex","_zIndex","_resizerKeyboardManager","resize","_resizeWithKeyboard","_stopResizingWithKeyboard","parameters","_willKeepAspectRatio","isCentered","_structTreeParentId","pageRotation","pageDimensions","pageTranslation","parentDimensions","isAttachedToDOM","getPrototypeOf","_type","_defaultLineColor","_colorManager","fakeEditor","FakeEditor","getNextId","l10n","strings","_borderLineWidth","documentElement","parseFloat","getPropertyValue","_value","mime","_isDraggable","center","parentRotation","fixAndSetPosition","setInBackground","setInForeground","setParent","stopResizing","relatedTarget","isMultipleSelection","setAt","screenToPageTranslation","translate","scrollIntoView","block","findNewParent","bx","by","getBaseTranslation","left","toFixed","_hasBeenMoved","_mustFixPosition","moveInDOM","angle","rotatePoint","pageTranslationToScreen","getRotationMatrix","parentScale","scaledWidth","scaledHeight","round","setDims","fixDims","widthPercent","endsWith","heightPercent","getInitialTranslation","createResizers","classes","resizerPointerdown","boundResizerPointermove","resizerPointermove","savedDraggable","pointerMoveOptions","passive","togglePointerEvents","savedWidth","savedHeight","savedParentCursor","cursor","savedCursor","pointerUpCallback","addResizeToUndoStack","newWidth","newHeight","minWidth","MIN_SIZE","minHeight","rotationMatrix","transf","invRotationMatrix","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","ratioX","ratioY","deltaX","deltaY","movementX","movementY","oldDiag","hypot","altTextFinish","removeEditToolbar","getClientDimensions","initialize","addEditToolbar","altTextData","hasAltText","maxWidth","maxHeight","pointerdown","selectOnPointerEvent","pointerMoveCallback","clientX","clientY","moveEditorInDOM","getRect","shiftX","shiftY","getRectInCurrentCoords","onceAdded","enableEditMode","disableEditMode","needsToBeRebuilt","rotate","_angle","isForCopying","timeout","isResizable","makeResizable","children","boundResizerKeydown","resizerKeydown","boundResizerBlur","resizerBlur","resizerFocus","firstPosition","nextFirstPosition","firstChild","before","lastChild","child","setResizerTabIndex","stopImmediatePropagation","preventScroll","disableEditing","enableEditing","contentDiv","setAspectRatio","aspectRatio","telemetryInitialData","telemetryFinalData","_telemetryTimeout","content","querySelector","nodeName","resetAnnotationElement","SEED","MASK_HIGH","MASK_LOW","MurmurHash3_64","seed","h1","h2","update","isView","byteLength","blockCounts","tailLength","dataUint32","k1","k2","C1","C2","C1_LOW","C2_LOW","hexdigest","SerializableEmpty","freeze","hash","transfer","AnnotationStorage","modified","modifiedIds","storage","onSetModified","onResetModified","onAnnotationEditor","getValue","defaultValue","resetModified","entry","val","setModified","getAll","setAll","print","PrintAnnotationStorage","serializable","hasBitmap","editorStats","stats","typeToEditor","counters","count","computeTelemetryFinalData","resetModifiedIds","ids","structuredClone","FontLoader","systemFonts","ownerDocument","styleElement","_document","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","rule","getElementsByTagName","styleSheet","sheet","cssRules","systemFontInfo","_inspectFont","loadedName","disableFontFace","isFontLoadingAPISupported","fontFace","FontFace","load","baseFontName","font","attached","missingFile","loadSystemFont","createNativeFontFace","loaded","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","supported","userAgent","complete","otherRequest","shift","_loadTestFont","atob","int32","offset","spliceString","s","insert","called","XXXX_VALUE","checksum","btoa","fontFamily","isFontReady","fillText","FontFaceObject","translatedData","inspectFont","compiledGlyphs","cssFontInfo","css","weight","fontWeight","italicAngle","mimetype","getPathGenerator","objs","character","cmds","bezierCurveTo","quadraticCurveTo","packageCapability","withResolvers","packageMap","fs","import","http","https","path2d","loadPackages","NodePackages","promise","node_utils_fetchData","promises","readFile","PathType","applyBoundingBox","bbox","region","Path2D","BaseShadingPattern","getPattern","RadialAxialShadingPattern","IR","_bbox","_colorStops","_p0","_p1","_r0","_r1","matrix","_createGradient","grad","createLinearGradient","createRadialGradient","colorStop","addColorStop","owner","inverse","pathType","pattern","ownerBBox","current","getClippedPathBoundingBox","ceil","tmpCanvas","cachedCanvases","getCanvas","tmpCtx","clearRect","beginPath","baseTransform","fillStyle","createPattern","domMatrix","DOMMatrix","setTransform","drawTriangle","c1","c2","c3","coords","rowSize","tmp","scaleX","scaleY","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","k","x1_","x2_","j","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","MeshShadingPattern","_coords","_figures","_bounds","_background","_createMeshCanvas","combinedScale","backgroundColor","boundsWidth","boundsHeight","paddedWidth","BORDER_SIZE","paddedHeight","createImageData","putImageData","singularValueDecompose2dScale","matrixScale","temporaryPatternCanvas","DummyShadingPattern","PaintType","TilingPattern","canvasGraphicsFactory","operatorList","xstep","ystep","paintType","tilingType","createPatternCanvas","curMatrixScale","dimx","getSizeAndScale","dimy","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","adjustedX0","adjustedY0","adjustedX1","adjustedY1","clipBbox","executeOperatorList","endDrawing","realOutputSize","MAX_PATTERN_SIZE","bboxWidth","bboxHeight","updateRectMinMax","strokeStyle","fillColor","strokeColor","cssColor","convertBlackAndWhiteToRGBA","srcPos","dest","nonBlackColor","inverseDecode","black","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","elem","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","CachedCanvases","canvasFactory","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","sign","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","patternFill","fillAlpha","strokeAlpha","lineWidth","activeSMask","transferMaps","startNewPathAndClipBox","clipBox","setCurrentPoint","updatePathMinMax","minX","maxX","updateScalingPathMinMax","scaleMinMax","updateCurvePathMinMax","bezierBoundingBox","getPathBoundingBox","xStrokePad","yStrokePad","updateClipFromPath","intersect","isEmptyClip","Infinity","putBinaryImageData","imgData","ImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","kind","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","mask","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","property","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","filter","getImageSmoothingEnabled","interpolate","fround","actualScale","devicePixelRatio","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","CanvasGraphics","canvasCtx","commonObjs","optionalContentConfig","markedContentStack","annotationCanvasMap","stateStack","pendingClip","pendingEOFill","res","xobjs","groupStack","processingType3","baseTransformStack","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","fallback","beginDrawing","transparency","savedFillStyle","fillRect","transparentCanvas","compositeCtx","executionStartIdx","continueCallback","stepper","argsArray","fnArray","argsArrayLen","chunkOperations","endTime","steps","fnId","nextBreakPoint","breakIt","depObjId","objsPool","restoreInitialState","inSMaskMode","HTMLCanvasElement","drawFilter","hcmFilterId","savedFilter","_scaleImage","img","inverseTransform","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","_createMaskCanvas","isPatternFill","currentTransform","cacheKey","scaled","maskCanvas","mainKey","cachedImage","maskToCanvas","getAxialAlignedBoundingBox","drawnWidth","drawnHeight","fillCanvas","fillCtx","imageSmoothingEnabled","limit","dashArray","dashPhase","intent","flatness","states","checkSMaskState","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","__originalLineTo","__originalBezierCurveTo","__originalRect","__originalClosePath","__originalBeginPath","cp1x","cp1y","cp2x","cp2y","mirrorContextOperations","compose","dirtyBox","smask","composeSMask","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","genericComposeSMask","subtype","backdrop","transferMap","maskCtx","maskOffsetX","maskOffsetY","maskX","maskY","old","pop","ops","startX","startY","isScalingMatrix","minMaxForBezier","xw","yh","consumePath","rescaleAndStroke","needRestore","paths","pendingTextPaths","path","addToPath","spacing","fontRefName","fontObj","fontDirection","isType3Font","typeface","fallbackName","bold","italic","browserFontSize","rise","paintChar","patternTransform","fillStrokeMode","isAddToPathSet","strokeText","isFontSubpixelAAEnabled","glyphs","showType3Text","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","getSinglePixelWidth","isInvalidPDFjsFont","chars","glyph","unicode","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","remeasure","measuredWidth","measureText","characterScaleX","isInFont","scaledAccentX","scaledAccentY","spacingLength","charProcOperatorList","operatorListId","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","_getPattern","arguments","objId","getShadingPattern","inv","group","currentCtx","isolated","knockout","bounds","canvasBounds","groupCtx","startTransformInverse","currentMtx","hasOwnCanvas","canvasWidth","canvasHeight","annotationCanvas","savedCtx","compiled","POINT_TYPES","width1","j0","points","lineSize","pos","sum","Int32Array","p0","pp","compileType3Glyph","skewX","skewY","positions","trans","images","applyTransferMapsToCanvas","applyTransferMapsToBitmap","imgToPaint","HTMLElement","tag","isVisible","isContentVisible","absDet","normX","normY","getScaleForStroking","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","op","workerPort","port","Worker","workerSrc","CallbackKind","StreamKind","wrapReason","MessageHandler","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","_onComObjOnMessage","stream","processStreamMessage","capability","cbSourceName","cbTargetName","postMessage","createStreamSink","actionName","handler","ah","transfers","sendWithPromise","sendWithStream","queueingStrategy","ReadableStream","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancel","cancelCapability","streamSink","enqueue","isCancelled","lastDesiredSize","sinkCapability","ready","close","onPull","onCancel","success","streamController","deleteStreamController","allSettled","Metadata","metadataMap","parsedData","getRaw","INTERNAL","Symbol","OptionalContentGroup","isDisplay","isPrint","userSet","renderingIntent","usage","view","viewState","printState","_setVisible","internal","OptionalContentConfig","cachedGetHash","groups","initialHash","order","creator","baseState","off","getHash","evaluateVisibilityExpression","array","operator","state","expression","policy","setVisibility","setOCGState","preserveRB","hasInitialVisibility","getOrder","getGroups","getGroup","PDFDataTransportStream","pdfDataRangeTransport","disableRange","disableStream","initialData","progressiveDone","contentDispositionFilename","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","addRangeListener","begin","_onReceiveData","addProgressListener","total","_onProgress","addProgressiveReadListener","addProgressiveDoneListener","_onProgressiveDone","transportReady","_enqueue","rangeReader","_begin","_progressiveDataLength","_loaded","evt","onProgress","_removeRangeReader","reader","indexOf","getFullReader","queuedChunks","PDFDataTransportStreamReader","getRangeReader","PDFDataTransportStreamRangeReader","requestDataRange","cancelAllRequests","_stream","_done","_filename","_requests","_headersReady","headersReady","isRangeSupported","isStreamingSupported","contentLength","requestCapability","_end","_queuedChunk","validateRangeRequestCapabilities","getResponseHeader","isHttp","rangeChunkSize","returnValues","allowRangeRequests","suggestedLength","extractFilenameFromHeader","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","unescape","rfc5987decode","rfc2047decode","fixupEncoding","contentDispositionStr","iter","quot","part","parts","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","TextDecoder","fatal","quotindex","extvalue","encodingend","replace","charset","hex","getFilenameFromContentDispositionHeader","createResponseStatusError","validateResponseStatus","createFetchOptions","headers","withCredentials","method","credentials","redirect","createHeaders","httpHeaders","Headers","getArrayBuffer","PDFFetchStream","_rangeRequestReaders","PDFFetchStreamReader","PDFFetchStreamRangeReader","_reader","_withCredentials","_headersCapability","_disableRange","_rangeChunkSize","_abortController","_headers","getReader","read","_readCapability","NetworkManager","currXhrId","pendingRequests","requestRange","listeners","requestFull","xhr","xhrId","pendingRequest","setRequestHeader","expectedStatus","onError","onStateChange","onprogress","onHeadersReceived","onDone","xhrStatus","network_getArrayBuffer","rangeHeader","getRequestXhr","isPendingRequest","abortRequest","PDFNetworkStream","_source","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","manager","_onHeadersReceived","_onDone","_onError","_url","_fullRequestId","_headersReceivedCapability","_cachedChunks","_storedError","fullRequestXhrId","fullRequestXhr","lengthComputable","_requestId","_close","fileUriRegex","PDFNodeStream","sourceUrl","parsedUrl","host","parseUrl","isFsUrl","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","BaseFullReader","_readableStream","_error","_setReadableStream","readableStream","BaseRangeReader","createRequestOptions","auth","hostname","handleResponse","statusCode","_request","_httpHeaders","Range","href","lstat","stat","createReadStream","DEFAULT_FONT_SIZE","disableProcessItems","fontInspectorEnabled","FontInspector","lang","layoutTextParams","rootContainer","styleCache","textContentItemsStr","textContentSource","textDivs","textDivProperties","WeakMap","prevFontSize","prevFontFamily","ensureMinFontSizeComputed","pendingTextLayers","pump","styles","processItems","onBefore","getCtx","layout","abortEx","appendText","geom","textDiv","hasText","hasEOL","atan2","fontName","PI","fontSubstitution","fontHeight","fontAscent","getAscent","sin","cos","scaleFactorStr","divStyle","minFontSize","dir","dataset","fontSubstitutionLoadedName","shouldScaleText","absScaleX","absScaleY","br","ascentCache","canvasContexts","canvasContext","alpha","opacity","lineHeight","cachedAscent","savedFont","metrics","ascent","fontBoundingBoxAscent","descent","fontBoundingBoxDescent","ratio","pixels","XfaText","xfa","output","walk","node","shouldBuildText","DEFAULT_RANGE_CHUNK_SIZE","DefaultCanvasFactory","createCanvas","DefaultCMapReaderFactory","DefaultFilterFactory","_cache","_defs","docId","_hcmCache","hcmCache","defs","contain","createTables","mapR","table","mapG","mapB","bufferR","bufferG","bufferB","createUrl","tableR","tableG","tableB","createFilter","addTransferMapConversion","fgRGB","bgRGB","addGrayConversion","getSteps","arr","tableA","addTransferMapAlphaConversion","addLuminosityConversion","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","newStart","newStep","prev","feColorMatrix","appendFeFunc","feComponentTransfer","func","feFunc","rTable","gTable","bTable","aTable","DefaultStandardFontDataFactory","task","PDFDocumentLoadingTask","location","getUrlProp","Buffer","isNaN","getDataProp","password","rangeTransport","worker","docBaseUrl","cMapUrl","cMapPacked","CMapReaderFactory","standardFontDataUrl","StandardFontDataFactory","ignoreErrors","stopAtErrors","maxImageSize","canvasMaxAreaInBytes","fontExtraProperties","enableXfa","disableAutoFetch","pdfBug","useSystemFonts","useWorkerFetch","transportFactory","cMapReaderFactory","standardFontDataFactory","workerParams","fromPort","_worker","docParams","apiVersion","evaluatorOptions","transportParams","loadingParams","destroyed","workerIdPromise","messageHandler","networkStream","Response","isFetchSupported","createPDFNetworkStream","workerId","transport","WorkerTransport","_transport","_capability","isRefProxy","ref","num","gen","onPassword","_pendingDestroy","_rangeListeners","_progressListeners","_progressiveReadListeners","_progressiveDoneListeners","_readyCapability","listener","onDataRange","onDataProgress","onDataProgressiveRead","onDataProgressiveDone","PDFDocumentProxy","pdfInfo","_pdfInfo","numPages","fingerprints","isPureXfa","_htmlForXfa","allXfaHtml","getPage","getPageIndex","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJSActions","getDocJSActions","getOutline","getOptionalContentConfig","getRenderingIntent","getPermissions","getMetadata","getMarkInfo","saveDocument","getDownloadInfo","downloadInfoCapability","cleanup","keepLoadedFonts","startCleanup","loadingTask","cachedPageNumber","getFieldObjects","hasJSActions","getCalculationOrderIds","PDFPageProxy","delayedCleanupTimeout","pendingCleanup","pageInfo","_pageIndex","_pageInfo","_stats","_pdfBug","PDFObjects","_maybeCleanupAfterRender","_intentStates","userUnit","getViewport","getAnnotations","getPageJSActions","annotationMode","optionalContentConfigPromise","printAnnotationStorage","intentArgs","abortDelayedCleanup","intentState","streamReaderCancelTimeout","intentPrint","displayReadyCapability","lastChunk","separateAnnots","_pumpOperatorList","renderTasks","internalRenderTask","tryCleanup","_abortOperatorList","Stats","InternalRenderTask","useRequestAnimationFrame","renderTask","all","initializeGraphics","operatorListChanged","getOperatorList","opListTask","opListReadCapability","streamTextContent","includeMarkedContent","disableNormalization","highWaterMark","getTextContent","getXfa","getStructTree","_destroy","waitOn","force","completed","resetStats","delayed","_startRenderPage","_renderPageChunk","operatorListChunk","annotationStorageSerializable","streamReader","delay","curCacheKey","curIntentState","LoopbackPort","deferred","terminate","PDFWorkerUtil","isWorkerDisabled","fakeWorkerId","isSameOrigin","otherUrl","base","origin","other","createCDNWrapper","wrapper","createObjectURL","Blob","_port","_webWorker","_messageHandler","workerPorts","_initializeFromPort","_initialize","mainThreadWorkerMessageHandler","_setupFakeWorker","terminateEarly","ac","sendTest","testObj","_setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","setup","cachedPort","pdfjsWorker","loader","methodPromises","pageCache","pagePromises","pageRefCache","passwordCapability","factory","fontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","cacheSimpleMethod","cachedPromise","isOpList","modifiedIdsHash","page","terminated","sink","readyReason","headersCapability","fullReader","_numPages","htmlForXfa","exception","updatePassword","exportedData","exportedError","fontAdded","finally","imageRef","pageProxy","dataLen","imageData","refStr","results","metadata","INITIAL_DATA","ensureObj","iterator","RenderTask","onContinue","form","rAF","WeakSet","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","canvasInUse","StepperManager","init","getNextBreakPoint","gfx","cancelAnimationFrame","updateOperatorList","requestAnimationFrame","makeColorComp","scaleAndClamp","ColorConverters","G","components","CMYK_RGB","RGB_HTML","html","storedData","xfaOn","xfaOff","removeAttribute","checked","option","selected","selectedIndex","linkService","isHTMLAnchorElement","HTMLAnchorElement","addLinkAttributes","newWindow","dataId","setupStorage","root","xfaHtml","rootHtml","setAttributes","isNotForRichText","rootDiv","createTextNode","stack","childHtml","xmlns","querySelectorAll","hidden","DEFAULT_TAB_INDEX","GetElementsByNameSet","getRectDims","AnnotationElementFactory","annotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","updates","hasBorder","popupElement","isRenderable","ignoreBorder","createQuadrilaterals","downloadManager","imageResourcesPath","renderForms","svgFactory","enableScripting","_fieldObjects","fieldObjects","_createContainer","_createQuadrilaterals","titleObj","contentsObj","richText","_isEditable","isEditable","hasPopupData","_hasPopupData","updateEdited","setRectEdited","popup","resetEdited","currentRect","setRotation","popupRef","alternativeText","title","noRotate","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","borderBottomStyle","borderColor","normalizeRect","elementWidth","elementHeight","_commonActions","setColor","jsName","styleName","detail","colorType","colorArray","display","noView","noPrint","userName","readonly","required","_setRequired","textColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","_setDefaultPropertiesFromJS","quadPoints","rectBlX","rectBlY","rectTrX","rectTrY","trX","trY","blX","blY","svgBuffer","clipPath","rectWidth","rectHeight","backgroundImage","_createPopup","modificationDate","parentRect","elements","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","domElement","getElementsByName","maybeShow","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","_editOnDoubleClick","annotationEditorType","isTooltipOnly","link","isBound","_bindNamedAction","attachment","bindAttachment","attachmentDest","bindSetOCGState","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","setInternalLink","destination","getDestinationHash","onclick","goToDestination","getAnchorUrl","executeNamedAction","description","openOrDownloadData","executeSetOCGState","otherClickAction","resetFormFields","refs","resetFormRefs","include","allFields","fieldIds","fieldName","field","allIds","dispatchEvent","Event","showElementAndHideCanvas","previousSibling","_getKeyModifier","_setEventListener","elementData","baseName","eventName","valueGetter","modifier","focused","_setEventListeners","getter","Blur","Focus","_setBackgroundColor","_setTextStyle","TEXT_ALIGNMENT","fontColor","defaultAppearanceData","computedFontSize","roundToOneDecimal","multiLine","textAlignment","textAlign","isRequired","hasAppearance","fieldValue","setPropertyOnSiblings","keyInStorage","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","maxLength","defaultFieldValue","blurListener","scrollLeft","selRange","setSelectionRange","willCommit","selStart","selectionStart","selEnd","selectionEnd","_blurListener","Keystroke","inputType","change","combWidth","letterSpacing","verticalAlign","checkbox","curChecked","buttonValue","radio","pdfButtonValue","linkElement","selectElement","addAnEmptyEntry","combo","multiSelect","multiple","optionElement","displayValue","removeEmptyEntry","noneOptionElement","isExport","selectedValues","getItems","multipleSelection","index","findIndex","selectChild","indices","editable","changeEx","keyDown","PopupElement","elementIds","boundKeyDown","boundHide","boundShow","boundToggle","dateObj","pinned","wasVisible","toDateObject","trigger","flatMap","baseColor","outlineColor","BACKGROUND_ENLIGHT","header","date","toLocaleDateString","toLocaleTimeString","contents","_formatContents","makePopupContent","popupLines","popupContent","lineAttributes","line","lines","setPosition","useParentRect","normalizedRect","popupLeft","popupTop","textPosition","lineSpan","lineCoordinates","square","circle","polyline","containerClassName","svgElementName","vertices","polylines","inkLists","inkList","download","accessibilityManager","editableAnnotations","annotationEditorUIManager","_annotationEditorUIManager","hasEditableAnnotations","appendElement","contentElement","moveElementInDOM","annotations","popupToElements","elementParams","noHTML","isPopupAnnotation","rendered","setAnnotationCanvasMap","replaceWith","after","getEditableAnnotations","getEditableAnnotation","EOL_PATTERN","FreeTextEditor","boundEditorDivBlur","editorDivBlur","boundEditorDivFocus","editorDivFocus","boundEditorDivInput","editorDivInput","boundEditorDivKeydown","editorDivKeydown","boundEditorDivPaste","editorDivPaste","editorDivId","_translateEmpty","_defaultColor","_defaultFontSize","_internalPadding","updateFontSize","setFontsize","editorDiv","setEditorDimensions","savedFontsize","col","savedColor","overlayDiv","contentEditable","extractText","childNodes","getNodeContent","savedDisplay","savedVisibility","savedText","newText","trimEnd","setText","setContent","dblclick","baseX","baseY","posX","posY","nodeValue","deserializeContent","deleteFromDocument","insertNode","collapseToStart","startContainer","startOffset","bufferBefore","bufferAfter","newRange","beforeLength","reduce","acc","setStart","setEnd","removeAllRanges","addRange","replaceChildren","serializeContent","padding","structTreeParentId","hasElementChanged","Outliner","verticalEdges","intervals","innerMargin","EPSILON","right","shiftedMinX","shiftedMinY","lastEdge","lastPoint","edge","getOutlines","sort","outlineVerticalEdges","breakEdge","edges","allEdges","edge1","edge2","outlines","outline","lastPointX","lastPointY","HighlightOutline","binarySearch","middle","jj","y4","Outline","toSVGPath","_rotation","free","FreeHighlightOutline","polygon","prevX","prevY","FreeOutliner","bottom","last","Float64Array","min_dist","scaleFactor","thickness","MIN_DIST","MIN_DIFF","MIN","getLastCoords","lastTop","lastBottom","diffX","diffY","diffD","K","nY","thX","thY","lastTopX","lastTopY","lastBottomX","lastBottomY","N","computeMinMax","rescale","rescaleAndSwap","ltrCallback","getNewOutline","outliner","boundPointerDown","buttonSwatch","defaultColor","dropdown","dropdownWasFromKeyboard","isMainColorPicker","_hideDropdownFromKeyboard","_colorSelectFromKeyboard","_moveToNext","_moveToPrevious","_moveToBeginning","_moveToEnd","openDropdown","swatch","renderMainDropdown","getDropdownRoot","role","colorSelect","isDropdownVisible","nextSibling","HighlightEditor","clipPathId","focusOutlines","highlightDiv","highlightOutlines","isFreeHighlight","outlineId","_moveCaret","_defaultThickness","_defaultOpacity","highlightId","createFreeOutlines","addToDrawLayer","createOutlines","numberOfColors","outlinerForOutline","drawLayer","finalizeLine","highlightOutline","updateLine","updateBox","rotateBbox","updateThickness","changeColor","savedThickness","setThickness","th","changeThickness","getRotation","addUndoableEditor","cleanDrawLayer","mustBeSelected","highlight","pointerover","addClass","pointerleave","removeClass","setCaret","serializeBoxes","Float32Array","serializeOutlines","pointerMove","highlightMove","pointerDownOptions","endHighlight","_freeHighlight","_freeHighlightId","_freeHighlightClipId","updatePath","removeFreeHighlight","InkEditor","baseHeight","baseWidth","boundCanvasPointermove","canvasPointermove","boundCanvasPointerleave","canvasPointerleave","boundCanvasPointerup","canvasPointerup","boundCanvasPointerdown","canvasPointerdown","canvasContextMenuTimeoutId","currentPath2D","hasSomethingToDraw","isCanvasInitialized","observer","realWidth","realHeight","requestFrameCallback","bezierPath2D","allRawPaths","currentPath","translationX","translationY","updateOpacity","fitToContent","redraw","setOpacity","savedOpacity","createObserver","setCanvasDims","disconnect","setDimensions","getInitialBBox","setStroke","opacityToHex","startDrawing","drawPoints","draw","path2D","makeBezierCurve","stopDrawing","bezier","generateBezierPoints","xy","lastPoints","bezierPoints","control1","control2","updateTransform","addInkEditorIfNeeded","ResizeObserver","contentRect","observe","roundedWidth","roundedHeight","setScaleFactor","getPadding","scaleFactorW","scaleFactorH","serializePaths","p10","p11","p20","p21","p30","p31","p40","p41","toPDFCoordinates","getBbox","xMin","xMax","yMin","yMax","firstTime","prevTranslationX","prevTranslationY","unscaledPadding","fromPDFCoordinates","buildPath2D","StampEditor","bitmapId","bitmapPromise","bitmapUrl","bitmapFile","bitmapFileName","hasMLBeenQueried","resizeTimeoutId","hasBeenAddedInUndoStack","supportedTypes","supportedTypesStr","pasteEditor","getAsFile","getBitmapFetched","fromId","getBitmapDone","getBitmap","getFromId","accept","files","click","MAX_RATIO","factor","drawBitmap","scaleBitmap","bitmapWidth","bitmapHeight","prevWidth","prevHeight","offscreen","transferToImageBitmap","isMLEnabledFor","mlGuess","service","channels","mlGuessAltText","serializeBitmap","toUrl","toDataURL","alt","stamps","area","prevData","allowClick","annotationLayer","boundPointerup","boundPointerdown","boundTextLayerPointerDown","editorFocusTimeoutId","hadPointerDown","isCleaningUp","isDisabling","_editorType","_initialized","isInvisible","disableTextSelection","toggleAnnotationLayerPointerEvents","enableTextSelection","isCommitting","annotationElementIds","editables","changedAnnotations","resetAnnotations","textLayerPointerDown","startHighlighting","attach","detach","removePointerInTextLayer","deleteAnnotationElement","currentEditorType","createNewEditor","getCenterPoint","innerWidth","innerHeight","oldRotation","mapping","toUpdate","_svgFactory","createSVG","setBox","createClipPath","pathId","clipPathUse","isPathUpdatable","use","maskId","use1","use2","cloneNode","changeOpacity","__webpack_exports__GlobalWorkerOptions","__webpack_exports__InvalidPDFException","__webpack_exports__MissingPDFException","__webpack_exports__UnexpectedResponseException","__webpack_exports__build","__webpack_exports__getDocument","__webpack_exports__version","__webpack_modules__","module","__unused_webpack_exports","isCallable","tryToString","$TypeError","TypeError","argument","it","isPrototypeOf","Prototype","isObject","$String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","fromIndex","O","DESCRIPTORS","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","anObject","iteratorClose","fn","ENTRIES","uncurryThis","stringSlice","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","wellKnownSymbol","$Object","CORRECT_ARGUMENTS","tryGet","callee","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","exceptions","fails","F","createPropertyDescriptor","object","makeBuiltIn","descriptor","setter","defineGlobalProperty","simple","global","unsafe","nonConfigurable","nonWritable","defineBuiltIn","EXISTS","Deno","v8","createNonEnumerableProperty","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","dontCallGetSet","forced","sham","aCallable","NATIVE_BIND","that","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","uncurryThisWithBind","namespace","classof","getMethod","isNullOrUndefined","Iterators","ITERATOR","getIteratorMethod","usingIterator","iteratorMethod","V","toIntegerOrInfinity","getIteratorDirect","INVALID_SIZE","$RangeError","RangeError","SetRecord","intSize","getIterator","numSize","check","toObject","getBuiltIn","propertyIsEnumerable","store","functionToString","inspectSource","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","facade","STATE","enforce","getterFor","TYPE","ArrayPrototype","documentAll","replacement","feature","detection","POLYFILL","NATIVE","string","USE_SYMBOL_AS_UID","$Symbol","record","ITERATOR_INSTEAD_OF_RECORD","isArrayIteratorMethod","Result","stopped","ResultPrototype","iterable","unboundFunction","iterFn","AS_ENTRIES","IS_RECORD","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","innerResult","innerError","defineBuiltIns","InternalStateModule","IteratorPrototype","createIterResultObject","ITERATOR_HELPER","WRAP_FOR_VALID_ITERATOR","setInternalState","createIteratorProxyPrototype","getInternalState","nextHandler","return","returnMethod","inner","WrapForValidIteratorPrototype","IteratorHelperPrototype","IteratorProxy","counter","createIteratorProxy","callWithSafeIterationClosing","mapper","PrototypeOfArrayIteratorPrototype","arrayIterator","IS_PURE","BUGGY_SAFARI_ITERATORS","toLength","CONFIGURABLE_FUNCTION_NAME","enforceInternalState","CONFIGURABLE_LENGTH","TEMPLATE","arity","trunc","PromiseCapability","C","$$resolve","$$reject","activeXDocument","definePropertiesModule","enumBugKeys","documentCreateElement","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObjectViaActiveX","write","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","JS","domain","appendChild","contentWindow","Properties","__unused_webpack_module","V8_PROTOTYPE_DEFINE_BUG","objectKeys","defineProperties","props","IE8_DOM_DEFINE","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","propertyIsEnumerableModule","internalObjectKeys","concat","getOwnPropertyNames","getOwnPropertySymbols","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","$propertyIsEnumerable","NASHORN_BUG","pref","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","$SyntaxError","SyntaxError","$parseInt","charAt","codePoints","IS_4_HEX_DIGITS","IS_C0_CONTROL_CODE","unterminated","chr","twoChars","fourHexDigits","SetHelpers","iterate","aSet","getSetRecord","iterateSet","iterateSimple","otherRec","SetPrototype","forEach","interruptible","createSetLike","error2","uncurryThisAccessor","keysIter","uid","SHARED","copyright","license","V8_VERSION","symbol","integer","IndexedObject","requireObjectCoercible","number","len","isSymbol","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","postfix","NATIVE_SYMBOL","passed","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","setArrayLength","doesNotExceedSafeInteger","properErrorOnNonWritableLength","argCount","newPromiseCapabilityModule","promiseCapability","difference","real","setMethodAcceptSetLike","intersection","isDisjointFrom","isSubsetOf","isSupersetOf","symmetricDifference","union","anInstance","defineBuiltInAccessor","createProperty","CONSTRUCTOR","NativeIterator","FORCED","IteratorConstructor","defineIteratorPrototypeAccessor","Iterator","predicate","parseJSONString","nativeParse","enumerableOwnProperties","IS_DIGIT","IS_NON_ZERO_DIGIT","IS_NUMBER_START","IS_WHITESPACE","internalize","holder","reviver","elementRecordsLen","unmodified","nodeIsArray","nodes","internalizeProperty","Context","fork","nextIndex","skip","keyword","expectKeypair","until","expectElement","parsed","startIndex","endIndex","regex","NO_SOURCE_SUPPORT","unsafeInt","PROPER_BASE_PARSE","$parse","validateArgumentsLength","$URLSearchParams","URLSearchParams","URLSearchParamsPrototype","$delete","$value","v","dindex","found","entriesLength","$has","__webpack_module_cache__","moduleId","cachedModule","pdfjsViewer","AnnotationLayerBuilder","DownloadManager","EventBus","FindState","GenericL10n","LinkTarget","PDFFindController","PDFHistory","PDFLinkService","PDFPageView","PDFScriptingManager","PDFSinglePageViewer","PDFViewer","ProgressBar","RenderingStates","ScrollMode","SimpleLinkService","SpreadMode","StructTreeLayerBuilder","TextLayerBuilder","XfaLayerBuilder","parseQueryString","INITIAL","RUNNING","PAUSED","FINISHED","PresentationModeState","TextLayerMode","UNKNOWN","VERTICAL","HORIZONTAL","WRAPPED","PAGE","ODD","EVEN","OutputScale","pixelRatio","spot","scrollMatches","offsetParent","offsetTop","clientTop","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","overflow","scrollTop","query","InvisibleCharsRegExp","removeNullCharacters","replaceInvisible","binarySearchFirstItem","minIndex","maxIndex","currentIndex","approximateFraction","xinv","x_","floorToDivide","isValidRotation","isPortraitOrientation","docStyle","disableAutoFetchTimeout","percent","bar","setProperty","setWidth","scrollbarWidth","offsetWidth","setDisableAutoFetch","CharacterType","SPACE","ALPHA_LETTER","PUNCT","HAN_LETTER","KATAKANA_LETTER","HIRAGANA_LETTER","HALFWIDTH_KATAKANA_LETTER","THAI_LETTER","getCharacterType","charCode","isAlphabeticalScript","isAscii","isAsciiSpace","isAsciiAlpha","isAsciiDigit","isThai","isHan","isKatakana","isHiragana","isHalfwidthKatakana","NormalizeWithNFKC","FOUND","NOT_FOUND","PENDING","CHARACTERS_TO_NORMALIZE","DIACRITICS_EXCEPTION","DIACRITICS_EXCEPTION_STR","DIACRITICS_REG_EXP","SPECIAL_CHARS_REG_EXP","NOT_DIACRITIC_FROM_END_REG_EXP","NOT_DIACRITIC_FROM_START_REG_EXP","SYLLABLES_REG_EXP","SYLLABLES_LENGTHS","FIRST_CHAR_SYLLABLES_REG_EXP","NFKC_CHARS_TO_NORMALIZE","noSyllablesRegExp","withSyllablesRegExp","syllablePositions","normalizationRegex","char","regexp","rawDiacriticsPositions","normalized","rawDiacriticsIndex","syllableIndex","shiftOrigin","eol","hasDiacritics","p5","p6","p7","p8","hasTrailingDashEOL","newCharLen","getOriginalIndex","diffs","oldStart","updateMatchesCountOnProgress","visitedPagesCount","_linkService","onIsPageVisible","onFind","onFindBarClose","highlightMatches","_highlightMatches","pageMatches","_pageMatches","pageMatchesLength","_pageMatchesLength","_selected","setDocument","_pdfDocument","_firstPageCapability","shouldDirtyMatch","_dirtyMatch","updateUIState","findbarClosed","pendingTimeout","_findTimeout","nextMatch","highlightAll","updateAllPages","scrollMatchIntoView","selectedLeft","matchIndex","_scrollMatches","matchIdx","pageIdx","_offset","wrapped","_extractTextPromises","_pageContents","_pageDiffs","_hasDiacritics","_matchesCountTotal","_pagesToSearch","_pendingFindMatches","_resumePageIdx","_rawQuery","_normalizedQuery","newQuery","prevQuery","newType","pagesCount","isEntireWord","startIdx","calculateRegExpMatch","entireWord","pageContent","matchesLength","matchPos","matchLen","convertToRegExpString","matchDiacritics","isUnicode","trailingSpaces","calculateMatch","caseSensitive","isUnicodePart","queryPart","updatePage","nextPageMatch","pageMatchesCount","updateUIResultsCount","textOptions","pdfPage","textItem","previous","findPrevious","numPageMatches","updateMatch","advanceOffsetPage","matchesReady","numMatches","previousPage","requestMatchesCount","matchesCount","rawQuery","SELF","BLANK","PARENT","TOP","externalLinkEnabled","externalLinkTarget","externalLinkRel","ignoreDestinationZoom","_ignoreDestinationZoom","pdfViewer","pdfHistory","setViewer","setHistory","currentPageNumber","isInPresentationMode","namedDest","explicitDest","destRef","pushCurrentPosition","scrollPageIntoView","destArray","goToPage","pageLabelToPageNumber","pushPage","rel","targetStr","anchor","setHash","phrase","zoomArgs","zoomArg","zoomArgNumber","allowNegativeOffset","isValidExplicitDest","back","forward","nextPage","zoom","argsLen","allowNull","arg","onAppend","eventAbortController","hasJSActionsPromise","fieldObjectsPromise","_hasJSActionsPromise","_fieldObjectsPromise","_annotationCanvasMap","_accessibilityManager","_cancelled","updatePresentationModeState","disableFormElements","section","hasAttribute","inert","blobUrl","openBlobUrls","downloadData","contentType","_options","WaitOnType","EVENT","TIMEOUT","external","eventListeners","externalListeners","rmAbort","AbortSignal","aborted","onAbort","FluentType","FluentNone","scope","FluentNumber","opts","memoizeIntlObject","Intl","NumberFormat","format","err","reportError","FluentDateTime","DateTimeFormat","toISOString","MAX_PLACEABLES","FSI","PDI","selector","PluralRules","getDefault","variants","star","resolvePattern","getArguments","positional","named","resolveExpression","expr","minimumFractionDigits","precision","ReferenceError","getTime","resolveVariableReference","attr","bundle","_messages","attribute","resolveMessageReference","term","_terms","resolved","resolveTermReference","_functions","resolveFunctionReference","sel","variant","resolveSelectExpression","resolveComplexPattern","ptn","dirty","useIsolating","_useIsolating","placeables","_transform","Scope","errors","ctor","_intls","locales","allowed","unwrapped","opt","NUMBER_ALLOWED","NUMBER","DATETIME_ALLOWED","DATETIME","FluentBundle","functions","stringLocale","memoizer","getMemoizerForLocale","hasMessage","getMessage","addResource","allowOverrides","formatPattern","RE_MESSAGE_START","RE_ATTRIBUTE_START","RE_VARIANT_START","RE_NUMBER_LITERAL","RE_IDENTIFIER","RE_REFERENCE","RE_FUNCTION_NAME","RE_TEXT_RUN","RE_STRING_RUN","RE_STRING_ESCAPE","RE_UNICODE_ESCAPE","RE_LEADING_NEWLINES","RE_TRAILING_SPACES","RE_BLANK_LINES","RE_INDENT","TOKEN_BRACE_OPEN","TOKEN_BRACE_CLOSE","TOKEN_BRACKET_OPEN","TOKEN_BRACKET_CLOSE","TOKEN_PAREN_OPEN","TOKEN_ARROW","TOKEN_COLON","TOKEN_COMMA","TOKEN_BLANK","FluentResource","lastIndex","parseMessage","re","consumeChar","errorClass","consumeToken","match1","parsePattern","attrs","parseAttributes","parsePatternElements","indent","parseIndent","commonIndent","parsePlaceable","lastElement","baked","Indent","parseInlineExpression","parseVariantKey","parseVariants","sigil","parseArgument","parseArguments","parseLiteral","parseNumberLiteral","parseEscapeSequence","parseStringLiteral","fraction","codepoint4","codepoint6","codepoint","fromCodePoint","makeIndent","blank","reOverlay","TEXT_LEVEL_ELEMENTS","LOCALIZABLE_ATTRIBUTES","menuitem","menu","optgroup","track","textarea","label","textbox","translateElement","localName","namespaceURI","templateElement","innerHTML","fromFragment","toElement","childNode","sanitized","getNodeForNamedElement","replaceChild","isElementAllowed","createSanitizedElement","createTextNodeFromTextContent","overlayChildNodes","overlayAttributes","fromElement","explicitlyAllowed","isAttrNameLocalizable","sourceElement","translatedChild","childName","sourceChild","removeChild","shallowPopulateUsing","attrName","elemName","CachedIterable","CachedAsyncIterable","asyncIterator","cached","cur","idx","Localization","resourceIds","generateBundles","onChange","addResourceIds","eager","removeResourceIds","translations","hasAtLeastOneBundle","bundles","missingIds","keysFromBundle","locale","formatMessages","formatWithFallback","messageFromBundle","formatValues","valueFromBundle","handleEvent","touchNext","formatted","attrNames","messageErrors","L10NID_ATTR_NAME","L10NARGS_ATTR_NAME","L10N_ELEMENT_QUERY","DOMLocalization","roots","pendingrAF","pendingElements","windowElement","mutationObserver","observerConfig","characterData","childList","subtree","attributeFilter","translateRoots","getAttributes","connectRoot","newRoot","defaultView","MutationObserver","mutations","translateMutations","disconnectRoot","pauseObserving","resumeObserving","translateFragment","takeRecords","mutation","addedNode","addedNodes","ELEMENT_NODE","childElementCount","getTranslatables","translateElements","frag","getKeysForElement","applyTranslations","L10n","isRTL","fixupLangCode","_setL10n","getLanguage","getDirection","messages","pause","resume","langCode","en","es","fy","ga","gu","hi","hy","nb","ne","nn","pa","pt","sv","zh","shortCode","createBundle","resource","genericl10n_GenericL10n","generateBundlesFallback","defaultLang","baseLang","baseURL","getPaths","langs","shortLang","createBundleFallback","getCurrentHash","_fingerprint","_isPagesLoaded","fingerprint","resetHistory","updateUrl","reInitialized","_updateUrl","history","_popStateInProgress","_blockHashChange","_currentHash","_numPositionUpdates","_uid","_maxUid","_destination","_position","isValidState","parseCurrentHash","pushOrReplaceState","updateInternalState","_initialRotation","_initialBookmark","pageHide","unbindEvents","_updateViewareaTimeout","isValidPage","forceReplace","destHash","pushHash","isDestHashesEqual","firstDest","secondDest","isEntryEqual","isDestArraysEqual","tryPushCurrentPosition","popStateInProgress","initialBookmark","initialRotation","shouldReplace","newState","newUrl","replaceState","pushState","temporary","checkReload","perfEntry","performance","getEntriesByType","removeTemporary","checkNameddest","nameddest","updateViewarea","pdfOpenParams","popState","newHash","hashChanged","waitOnEventOrTimeout","AnnotationEditorLayerBuilder","annotationEditorLayer","clonedViewport","compatParams","maxTouchPoints","isAndroid","OptionKind","Type","BOOLEAN","OBJECT","STRING","UNDEFINED","defaultOptions","allowedGlobalEvents","isInAutomation","localeProperties","language","nimbusDataStr","supportsCaretBrowsingMode","supportsDocumentFonts","supportsIntegratedFind","supportsMouseWheelZoomCtrlKey","supportsMouseWheelZoomMetaKey","supportsPinchToZoom","toolbarDensity","altTextLearnMoreUrl","annotationEditorMode","cursorToolOnLoad","debuggerSrc","defaultZoomDelay","defaultZoomValue","disableHistory","disablePageLabels","enableAltText","enableGuessAltText","enableHighlightEditor","enablePermissions","enablePrintAutoRotate","highlightEditorColors","historyUpdateUrl","maxCanvasPixels","forcePageColors","pageColorsBackground","pageColorsForeground","pdfBugEnabled","printResolution","sidebarViewOnLoad","scrollModeOnLoad","spreadModeOnLoad","textLayerMode","viewOnLoad","defaultUrl","sandboxBundleSrc","viewerCssTheme","disablePreferences","userOptions","AppOptions","defaultOnly","defaultOpt","prefs","events","userOpt","toUpperCase","_checkDisablePreferences","DrawLayerBuilder","getDrawLayer","PDF_ROLE_TO_HTML_ROLE","Document","DocumentFragment","Part","Sect","Div","Aside","NonStruct","H","Title","FENote","Sub","Lbl","Span","Em","Strong","Link","Annot","Form","Ruby","RB","RT","RP","Warichu","WT","WP","L","LI","LBody","Table","TR","TH","TD","THead","TBody","TFoot","Caption","Figure","Formula","Artifact","HEADING_PATTERN","treeDom","renderingDone","structTree","structElement","htmlElement","kid","TextAccessibilityManager","textChildren","textNodes","waitingElements","setTextMapping","e1","e2","top1","bot1","mid1","top2","bot2","mid2","compareElementPositions","nodeIndex","getElementById","addIdToAriaOwns","isRemovable","addPointerInTextLayer","owns","hasChildNodes","elementToCompare","TextHighlighter","findController","divs","texts","_updateMatches","_convertMatches","iIndex","mm","divIdx","_renderMatches","isSelectedPage","selectedMatchIdx","prevEnd","infinity","appendTextToDiv","fromOffset","toOffset","i0","i1","lastDivIdx","lastOffset","highlightSuffix","n0","n1","clearedUntilDivIdx","highlighter","textContentParams","endOfContent","bindMouse","removeGlobalSelectionListener","textLayers","enableGlobalSelectionListener","textLayerDiv","selectionChangeAbortController","isFirefox","prevRange","activeTextLayers","intersectsNode","endDiv","modifyStart","compareBoundaryPoints","END_TO_END","START_TO_END","endContainer","parentTextLayer","insertBefore","cloneRange","DEFAULT_LAYER_PROPERTIES","LAYERS_ORDER","hasRestrictedScaling","layerProperties","loadingId","previousRotation","renderError","renderingState","useThumbnailCanvas","directDrawing","initialOptionalContent","regularAnnotations","viewportMap","layers","defaultViewport","renderingId","pageLabel","pdfPageRotate","_optionalContentConfigPromise","renderingQueue","_isStandalone","hasViewer","_container","zoomLayer","xfaLayer","structTreeLayer","oldDiv","setPdfPage","totalRotation","_textHighlighter","dispatchLayerRendered","buildXfaTextContentItems","renderStructTreeLayer","tree","_resetZoomLayer","removeFromDOM","zoomLayerCanvas","keepZoomLayer","keepAnnotationLayer","keepAnnotationEditorLayer","keepXfaLayer","keepTextLayer","cancelRendering","zoomLayerNode","annotationLayerNode","annotationEditorLayerNode","xfaLayerNode","textLayerNode","layerIndex","toggleEditingMode","drawingDelay","onlyCssZoom","outputScale","postponeDrawing","cancelExtraDelay","cssTransform","redrawAnnotationLayer","redrawAnnotationEditorLayer","redrawXfaLayer","redrawTextLayer","hideTextLayer","timestamp","originalViewport","relativeRotation","absRotation","renderAnnotationLayer","renderDrawLayer","renderAnnotationEditorLayer","renderXfaLayer","renderTextLayer","getPagePoint","canvasWrapper","annotationLayerDiv","hasHCM","showCanvas","isLastShow","invScale","pixelsInViewport","maxScale","sfx","sfy","renderContext","cont","isHighestPriority","resultPromise","finishRenderTask","annotationEditorLayerDiv","setPageLabel","thumbnailCanvas","GenericScripting","_ready","pdfjsSandbox","QuickJSSandbox","sandbox","nukeSandbox","closeCapability","docProperties","externalServices","scripting","willPrintCapability","destroyScripting","objects","calculationOrder","docActions","initScripting","updateFromSandbox","dispatchEventInSandbox","dispatchPageClose","dispatchPageOpen","_pageOpenPending","createSandbox","appInfo","docInfo","destroyPromise","_visitedPages","isChangingPresentationMode","siblings","command","modes","scrollMode","spreadMode","apiPageLayoutToViewerModes","pagesPromise","currentScaleValue","increaseScale","decreaseScale","elementId","CustomEvent","visitedPages","pageView","getPageView","actionsPromise","createScripting","race","destroySandbox","PDFScriptingManagerComponents","filesize","authors","PDFRenderingQueue","pdfThumbnailViewer","onIdle","highestPriorityPage","idleTimeout","printing","isThumbnailViewEnabled","setThumbnailViewer","renderHighestPriority","currentlyVisiblePages","forceRendering","getHighestPriority","views","scrolledDown","preRenderExtra","visibleViews","numVisible","isViewFinished","firstId","lastId","visibleIds","holeId","holeView","preRenderIndex","preRenderView","renderView","PagesCountLimit","isValidAnnotationEditorMode","PDFPageViewBuffer","destroyFirstView","newSize","idsToKeep","firstView","annotationEditorHighlightColors","containerTopLeft","onPageRenderedCallback","switchAnnotationEditorModeTimeoutId","getAllTextInProgress","hiddenCopyElement","interruptCopyCondition","previousContainerHeight","resizeObserver","resizeObserverCallback","scrollModePageState","scaleTimeoutId","viewerVersion","firstElementChild","_getVisiblePages","_scriptingManager","scriptingManager","removePageBorders","defaultRenderingQueue","abortSignal","scroll","viewAreaElement","debounceScroll","currentX","currentY","down","_eventHandler","useCapture","watchScroll","_scrollUpdate","presentationModeState","_resetView","updateContainerHeightCss","_pages","getCachedPageViews","pageViewsReady","_currentPageNumber","_setCurrentPageNumber","resetCurrentPageView","_pageLabels","currentPageLabel","currentScale","_currentScale","setScale","noScroll","_currentScaleValue","_pagesRotation","refresh","firstPagePromise","onePageRendered","_onePageRenderedCapability","_pagesCapability","_layerProperties","initializePermissions","permissions","visibilityState","hiddenCapability","onVisibilityChange","pageNum","copyCallback","containsNode","ev","getAllText","clipboard","writeText","_cancelRendering","permissionsPromise","_scrollMode","onAfterDraw","firstPdfPage","viewerElement","ensurePageViewVisible","_spreadMode","_updateSpreadMode","onePageRenderedOrForceFetch","getPagesLeft","Language","setPageLabels","labels","_location","_previousScrollMode","previousPageNumber","scrollDown","pages","_updateScrollMode","cleanupSwitchAnnotationEditorMode","pageIndexSet","parity","spread","dummyPage","pageSpot","isSameScale","newScale","setScaleUpdatePages","newValue","preset","presetValue","previousScale","scaleDiff","pageWidthScaleFactor","currentPage","hPadding","vPadding","pageWidthScale","pageHeightScale","horizontalScale","changeOrientation","boundingRect","_updateLocation","firstPage","normalizedScaleValue","currentPageView","intLeft","intTop","visiblePages","numVisiblePages","newCacheSize","isSimpleLayout","currentId","stillFullyVisible","switchToEditAnnotationMode","pagesToRefresh","containsElement","_isContainerRtl","isHorizontalScrollbarEnabled","isVerticalScrollbarEnabled","horizontal","rtl","scrollEl","sortByVisibility","numViews","firstVisibleElementInd","elementLeft","elementRight","elt","pageTop","backtrackBeforeAllVisibleElements","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","fractionWidth","pc","getVisibleElements","getScrollAhead","scrollAhead","ensurePdfPageLoaded","hasEqualPageSizes","firstPageView","getPagesOverview","initialOrientation","orientation","isValidScrollMode","isValidSpreadMode","_getPageAdvance","pageLayout","yArray","expectedId","advance","updateScale","borderBoxSize","blockSize","updater","idsToRefresh","annotationEditorParams","noUpdate","updateArgs","__webpack_exports__EventBus","__webpack_exports__GenericL10n","__webpack_exports__PDFHistory","__webpack_exports__PDFLinkService","__webpack_exports__PDFViewer","PDFViewerApplication","startDistance","_zoomIn","zoomIn","_zoomOut","zoomOut","_previousClick","_nextClick","_touchstart","touches","getDistance","_touchmove","currentDistance","scaleChange","getCenter","_wheel","zoomInBtn","zoomOutBtn","viewerDiv","pagination","pdfLoadingTask","pdfLinkService","progressData","progress","moreInfo","moreInfoText","lineNumber","initUI","pdfjsViewer.EventBus","pdfjsViewer.PDFLinkService","pdfjsViewer.GenericL10n","pdfjsViewer.PDFViewer","pdfjsViewer.PDFHistory","dx","dy","viewerContainer","pdfViewerApp"],"mappings":"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"}