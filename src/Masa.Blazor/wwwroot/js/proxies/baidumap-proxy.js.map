{"version":3,"file":"baidumap-proxy.js","sources":["../../../../BlazorComponent/src/Component/BlazorComponent.Web/src/proxies/maps/baidumap/index.js"],"sourcesContent":["const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))\r\n\r\nasync function injectBaiduMapScript(ak) {\r\n    if (!document.getElementById(ak)) {\r\n        var script = document.createElement(\"script\");\r\n        script.src = \"https://api.map.baidu.com/getscript?type=webgl&v=1.0&ak=\" + ak;\r\n        script.type = \"text/javascript\";\r\n        script.id = ak;\r\n        document[\"head\"].append(script);\r\n    }\r\n\r\n    if (!document.getElementById(\"baidu-map-css\")) {\r\n        var css = document.createElement(\"link\");\r\n        css.href = \"https://api.map.baidu.com/res/webgl/10/bmap.css\";\r\n        css.type = \"text/css\";\r\n        css.rel = \"stylesheet\";\r\n        css.id = \"baidu-map-css\";\r\n        document[\"head\"].append(css);\r\n    }\r\n\r\n    window.BMAP_PROTOCOL = \"https\";\r\n    window.BMapGL_loadScriptTime = (new Date).getTime();\r\n}\r\n\r\nasync function loadMap(containerId, initArgs) {\r\n    try {\r\n        var map = new BMapGL.Map(containerId);\r\n\r\n        if (initArgs.enableScrollWheelZoom)\r\n            map.enableScrollWheelZoom();\r\n        else\r\n            map.disableScrollWheelZoom();\r\n        \r\n        map.centerAndZoom(new BMapGL.Point(initArgs.center.x, initArgs.center.y), initArgs.zoom);\r\n\r\n        return map;\r\n    } catch (error) {\r\n        await delay(100);\r\n        return await loadMap(containerId, initArgs);\r\n    }\r\n}\r\n\r\nexport { injectBaiduMapScript, loadMap }"],"names":["async","injectBaiduMapScript","ak","document","getElementById","script","createElement","src","type","id","append","css","href","rel","window","BMAP_PROTOCOL","BMapGL_loadScriptTime","Date","getTime","loadMap","containerId","initArgs","map","BMapGL","Map","enableScrollWheelZoom","disableScrollWheelZoom","centerAndZoom","Point","center","x","y","zoom","error","ms","Promise","resolve","setTimeout"],"mappings":"AAEAA,eAAeC,EAAqBC,GAChC,IAAKC,SAASC,eAAeF,GAAK,CAC9B,IAAIG,EAASF,SAASG,cAAc,UACpCD,EAAOE,IAAM,2DAA6DL,EAC1EG,EAAOG,KAAO,kBACdH,EAAOI,GAAKP,EACZC,SAAe,KAAEO,OAAOL,EAC3B,CAED,IAAKF,SAASC,eAAe,iBAAkB,CAC3C,IAAIO,EAAMR,SAASG,cAAc,QACjCK,EAAIC,KAAO,kDACXD,EAAIH,KAAO,WACXG,EAAIE,IAAM,aACVF,EAAIF,GAAK,gBACTN,SAAe,KAAEO,OAAOC,EAC3B,CAEDG,OAAOC,cAAgB,QACvBD,OAAOE,uBAAwB,IAAKC,MAAMC,SAC9C,CAEAlB,eAAemB,EAAQC,EAAaC,GAChC,IACI,IAAIC,EAAM,IAAIC,OAAOC,IAAIJ,GASzB,OAPIC,EAASI,sBACTH,EAAIG,wBAEJH,EAAII,yBAERJ,EAAIK,cAAc,IAAIJ,OAAOK,MAAMP,EAASQ,OAAOC,EAAGT,EAASQ,OAAOE,GAAIV,EAASW,MAE5EV,CAIV,CAHC,MAAOW,GAEL,aAtCOC,EAqCK,IArCE,IAAIC,SAASC,GAAYC,WAAWD,EAASF,YAsC9Cf,EAAQC,EAAaC,EACrC,CAvCS,IAACa,CAwCf"}