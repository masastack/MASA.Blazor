{"version":3,"file":"baidumap-proxy.js","sources":["../../../../BlazorComponent/src/Component/BlazorComponent.Web/src/proxies/maps/baidumap/index.js"],"sourcesContent":["const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))\r\n\r\nasync function injectBaiduMapScript(ak) {\r\n    // if script has been loaded, return. \r\n    if (document.getElementById(\"baidumap-script\"))\r\n        return;\r\n\r\n    var script = document.createElement(\"script\");\r\n    script.src = \"https://api.map.baidu.com/getscript?type=webgl&v=1.0&ak=\" + ak;\r\n    script.type = \"text/javascript\";\r\n    script.id = \"baidumap-script\";\r\n\r\n    var css = document.createElement(\"link\");\r\n    css.href = \"https://api.map.baidu.com/res/webgl/10/bmap.css\";\r\n    css.type = \"text/css\";\r\n    css.rel = \"stylesheet\";\r\n\r\n    window.BMAP_PROTOCOL = \"https\";\r\n    window.BMapGL_loadScriptTime = (new Date).getTime();\r\n    document[\"head\"].append(script, css);\r\n}\r\n\r\nasync function loadMap(containerId, initArgs) {\r\n    try {\r\n        var map = new BMapGL.Map(containerId);\r\n        map.enableScrollWheelZoom(initArgs.canZoom);\r\n        map.centerAndZoom(new BMapGL.Point(initArgs.center.x, initArgs.center.y), initArgs.zoom);\r\n        return map;\r\n    } catch (error) {\r\n        await delay(100);\r\n        return await loadMap(containerId, initArgs);\r\n    }\r\n}\r\n\r\nexport { injectBaiduMapScript, loadMap }"],"names":["async","injectBaiduMapScript","ak","document","getElementById","script","createElement","src","type","id","css","href","rel","window","BMAP_PROTOCOL","BMapGL_loadScriptTime","Date","getTime","append","loadMap","containerId","initArgs","map","BMapGL","Map","enableScrollWheelZoom","canZoom","centerAndZoom","Point","center","x","y","zoom","error","ms","Promise","resolve","setTimeout"],"mappings":"AAEAA,eAAeC,EAAqBC,GAEhC,IAAIC,SAASC,eAAe,mBAA5B,CAGA,IAAIC,EAASF,SAASG,cAAc,UACpCD,EAAOE,IAAM,2DAA6DL,EAC1EG,EAAOG,KAAO,kBACdH,EAAOI,GAAK,kBAEZ,IAAIC,EAAMP,SAASG,cAAc,QACjCI,EAAIC,KAAO,kDACXD,EAAIF,KAAO,WACXE,EAAIE,IAAM,aAEVC,OAAOC,cAAgB,QACvBD,OAAOE,uBAAwB,IAAKC,MAAMC,UAC1Cd,SAAe,KAAEe,OAAOb,EAAQK,EAdrB,CAef,CAEAV,eAAemB,EAAQC,EAAaC,GAChC,IACI,IAAIC,EAAM,IAAIC,OAAOC,IAAIJ,GAGzB,OAFAE,EAAIG,sBAAsBJ,EAASK,SACnCJ,EAAIK,cAAc,IAAIJ,OAAOK,MAAMP,EAASQ,OAAOC,EAAGT,EAASQ,OAAOE,GAAIV,EAASW,MAC5EV,CAIV,CAHC,MAAOW,GAEL,aA9BOC,EA6BK,IA7BE,IAAIC,SAASC,GAAYC,WAAWD,EAASF,YA8B9Cf,EAAQC,EAAaC,EACrC,CA/BS,IAACa,CAgCf"}