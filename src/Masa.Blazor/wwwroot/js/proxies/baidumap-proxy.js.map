{"version":3,"file":"baidumap-proxy.js","sources":["../../../../BlazorComponent/src/Component/BlazorComponent.Web/src/proxies/maps/baidumap/index.js"],"sourcesContent":["const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))\r\n\r\nvar map;\r\n\r\nasync function injectBaiduMapScript(ak) {\r\n    var script = document.createElement(\"script\");\r\n    script.src = \"https://api.map.baidu.com/getscript?type=webgl&v=1.0&ak=\" + ak;\r\n    script.type = \"text/javascript\";\r\n\r\n    var css = document.createElement(\"link\");\r\n    css.href = \"https://api.map.baidu.com/res/webgl/10/bmap.css\";\r\n    css.type = \"text/css\";\r\n    css.rel = \"stylesheet\";\r\n\r\n    window.BMAP_PROTOCOL = \"https\";\r\n    window.BMapGL_loadScriptTime = (new Date).getTime();\r\n    document[\"head\"].append(script, css);\r\n}\r\n\r\nasync function loadMap(divID, initArgs) {\r\n    try {\r\n        map = new BMapGL.Map(divID);\r\n        map.enableScrollWheelZoom(initArgs.canZoom);\r\n        map.centerAndZoom(initArgs.mapCenter, initArgs.zoom);\r\n    } catch (error) {\r\n        await delay(100);\r\n        await loadMap(divID);\r\n    }\r\n}\r\n\r\nexport { injectBaiduMapScript, loadMap, map }"],"names":["map","async","injectBaiduMapScript","ak","script","document","createElement","src","type","css","href","rel","window","BMAP_PROTOCOL","BMapGL_loadScriptTime","Date","getTime","append","loadMap","divID","initArgs","BMapGL","Map","enableScrollWheelZoom","canZoom","centerAndZoom","mapCenter","zoom","error","ms","Promise","resolve","setTimeout"],"mappings":"AAEG,IAACA,EAEJC,eAAeC,EAAqBC,GAChC,IAAIC,EAASC,SAASC,cAAc,UACpCF,EAAOG,IAAM,2DAA6DJ,EAC1EC,EAAOI,KAAO,kBAEd,IAAIC,EAAMJ,SAASC,cAAc,QACjCG,EAAIC,KAAO,kDACXD,EAAID,KAAO,WACXC,EAAIE,IAAM,aAEVC,OAAOC,cAAgB,QACvBD,OAAOE,uBAAwB,IAAKC,MAAMC,UAC1CX,SAAe,KAAEY,OAAOb,EAAQK,EACpC,CAEAR,eAAeiB,EAAQC,EAAOC,GAC1B,KACIpB,EAAM,IAAIqB,OAAOC,IAAIH,IACjBI,sBAAsBH,EAASI,SACnCxB,EAAIyB,cAAcL,EAASM,UAAWN,EAASO,KAIlD,CAHC,MAAOC,SAxBEC,EAyBK,IAzBE,IAAIC,SAASC,GAAYC,WAAWD,EAASF,YA0BrDX,EAAQC,EACjB,CA3BS,IAACU,CA4Bf"}