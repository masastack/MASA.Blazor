{"version":3,"file":"xgplayer.js","sources":["../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/_virtual/_rollupPluginBabelHelpers.js","../../Masa.Blazor.JS/node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/utils/debug.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/utils/xgplayerTimeRange.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/utils/util.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/utils/sniffer.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/version.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/error.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/events.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/mediaProxy.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/utils/database.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/constant.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugin/hooksDescriptor.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugin/basePlugin.js","../../Masa.Blazor.JS/node_modules/.pnpm/delegate@3.2.0/node_modules/delegate/src/closest.js","../../Masa.Blazor.JS/node_modules/.pnpm/delegate@3.2.0/node_modules/delegate/src/delegate.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugin/plugin.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugin/resizeObserver.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugin/pluginsManager.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/stateClassMap.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/defaultConfig.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugin/preset.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/controls/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/lang/i18n.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/lang/en.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/state.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/instManager.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/player.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/common/iconTools.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/common/iconPlugin.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/requestCssFull.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/exitCssFull.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/cssFullScreen/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/back.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/fullscreen/backicon.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/requestFull.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/exitFull.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/fullscreen/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/play.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/pause.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/play/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/progress/innerList.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/progress/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/time/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/volumeLarge.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/volumeSmall.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/volumeMuted.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/volume/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/logger/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/replay.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/replay/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/poster/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/start/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/enter/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/utils/draggabilly.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/miniScreen/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/pc/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/mobile/touch.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/seekicon.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/mobile/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/keyboard/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/loading.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/loading/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/time/timesegments.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/rotate.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/rotate/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/pipIcon.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/pipIconExit.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/pip/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/playNext.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/playNext/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/downloadjs@1.4.7/node_modules/downloadjs/download.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/assets/download.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/download/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/screenShot/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/common/optionList.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/common/optionsIcon.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/definition/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/playbackRate/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/error/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/prompt/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/progressPreview/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/common/thumbnail.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/progress/miniProgress.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/dynamicBg/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/stats/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/gapJump/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/testspeed/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/plugins/fpsDetect/index.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/presets/default.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/lang/zh-cn.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer@3.0.22_core-js@3.44.0/node_modules/xgplayer/es/index.umd.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/_virtual/_rollupPluginBabelHelpers.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/xhr.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/music.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/plugins/musicCover.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/plugins/musicBackward.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/plugins/musicPrev.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/plugins/musicForward.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/plugins/musicNext.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/plugins/musicMeta.js","../../Masa.Blazor.JS/node_modules/.pnpm/xgplayer-music@3.0.22_core-js@3.44.0_xgplayer@3.0.22_core-js@3.44.0_/node_modules/xgplayer-music/es/preset.js","../../Masa.Blazor.JS/src/wrappers/xgplayer/index.ts"],"sourcesContent":["function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","var XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nvar STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nvar XGTAG = \"%c[xgplayer]\";\nvar XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function logInfo(message) {\n    var _console;\n    for (var _len = arguments.length, optionalParams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      optionalParams[_key - 1] = arguments[_key];\n    }\n    this.config.debug >= 3 && (_console = console).log.apply(_console, [XGTAG, STYLE.info, message].concat(optionalParams));\n  },\n  logWarn: function logWarn(message) {\n    var _console2;\n    for (var _len2 = arguments.length, optionalParams = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      optionalParams[_key2 - 1] = arguments[_key2];\n    }\n    this.config.debug >= 1 && (_console2 = console).warn.apply(_console2, [XGTAG, STYLE.warn, message].concat(optionalParams));\n  },\n  logError: function logError(message) {\n    var _console3;\n    if (this.config.debug < 1) {\n      return;\n    }\n    var _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    for (var _len3 = arguments.length, optionalParams = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      optionalParams[_key3 - 1] = arguments[_key3];\n    }\n    (_console3 = console)[_fun].apply(_console3, [XGTAG, STYLE.error, message].concat(optionalParams));\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar XgplayerTimeRange = /* @__PURE__ */ function() {\n  function XgplayerTimeRange2(bufferedList) {\n    _classCallCheck(this, XgplayerTimeRange2);\n    this.bufferedList = bufferedList;\n  }\n  _createClass(XgplayerTimeRange2, [{\n    key: \"start\",\n    value: function start(index) {\n      return this.bufferedList[index].start;\n    }\n  }, {\n    key: \"end\",\n    value: function end(index) {\n      return this.bufferedList[index].end;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.bufferedList.length;\n    }\n  }]);\n  return XgplayerTimeRange2;\n}();\nexport { XgplayerTimeRange as default };\n","import { typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nvar util = {};\nutil.createDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"div\";\n  var tpl = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var attrs = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var cname = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"\";\n  var dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach(function(item) {\n    var key = item;\n    var value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html) {\n  var attrs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  try {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    var dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach(function(key) {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, function(item) {\n      return item === className;\n    });\n  } catch (e) {\n    var orgClassName = el.className && _typeof(el.className) === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && _typeof(el.className) === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach(function(item) {\n        var reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && _typeof(el.className) === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach(function(item) {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  var _arguments = arguments;\n  var classname = [];\n  var _loop = function _loop2(i2) {\n    if (util.typeOf(_arguments[i2]) === \"String\") {\n      classname.push(_arguments[i2]);\n    } else if (util.typeOf(_arguments[i2]) === \"Object\") {\n      Object.keys(_arguments[i2]).map(function(key) {\n        if (_arguments[i2][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  };\n  for (var i = 0; i < arguments.length; i++) {\n    _loop(i);\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;\n  var sel = arguments.length > 1 ? arguments[1] : void 0;\n  var dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  var hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  var minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  var second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    var touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach(function(key) {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map(function(key) {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        var _dst$key;\n        (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  var url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  var a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    var back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, function(node) {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  var id = setTimeout(function() {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (var i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map(function(item) {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  var btn = util.createDom(\"xg-\".concat(name), \"\", {}, \"xgplayer-\".concat(name, \"-img\"));\n  btn.style.backgroundImage = 'url(\"'.concat(imgUrl, '\")');\n  if (width && height) {\n    var w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every(function(item) {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = \"\".concat(w).concat(unit);\n    btn.style.height = \"\".concat(h).concat(unit);\n    btn.style.backgroundSize = \"\".concat(w).concat(unit, \" \").concat(h).concat(unit);\n    if (name === \"start\") {\n      btn.style.margin = \"-\".concat(h / 2).concat(unit, \" auto auto -\").concat(w / 2).concat(unit);\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  var rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    var sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return \"rgba(\".concat(rgb.join(\",\"), \", \").concat(alpha, \")\");\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && _typeof(obj) === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    var styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map(function(item) {\n      if (item) {\n        var arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map(function(key) {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (var i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom) {\n  var list = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"];\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  var remain = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map(function(key) {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = function(url) {\n  var onload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function() {\n  };\n  var onerror = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n  };\n  if (!url) {\n    return;\n  }\n  var img = new window.Image();\n  img.onload = function(e) {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = function(e) {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = function(e) {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = function(vbuffered) {\n  var maxHoleDuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.5;\n  var buffered = [];\n  for (var i = 0; i < vbuffered.length; i++) {\n    buffered.push({\n      start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i),\n      end: vbuffered.end(i)\n    });\n  }\n  buffered.sort(function(a, b) {\n    var diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  var buffered2 = [];\n  if (maxHoleDuration) {\n    for (var _i = 0; _i < buffered.length; _i++) {\n      var buf2len = buffered2.length;\n      if (buf2len) {\n        var buf2end = buffered2[buf2len - 1].end;\n        if (buffered[_i].start - buf2end < maxHoleDuration) {\n          if (buffered[_i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[_i].end;\n          }\n        } else {\n          buffered2.push(buffered[_i]);\n        }\n      } else {\n        buffered2.push(buffered[_i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e) {\n  var zoom = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  var _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  var results = url.split(\"/\");\n  var domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  var _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (video.media) {\n    video = video.media;\n  }\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function() {\n  var did = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  var d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  var event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  var dom = util.createDom(\"xg-bar\", \"\", {\n    \"data-index\": -1\n  }, className);\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function() {\n  var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n    x: 0,\n    y: 0,\n    scale: 1,\n    rotate: 0\n  };\n  var transformValue = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var styles = {\n    scale: \"\".concat(pos.scale || 1),\n    translate: \"\".concat(pos.x || 0, \"%, \").concat(pos.y || 0, \"%\"),\n    rotate: \"\".concat(pos.rotate || 0, \"deg\")\n  };\n  var stylesKeys = Object.keys(styles);\n  stylesKeys.forEach(function(key) {\n    var reg = new RegExp(\"\".concat(key, \"\\\\([^\\\\(]+\\\\)\"), \"g\");\n    var fn = \"\".concat(key, \"(\").concat(styles[key], \")\");\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += \"\".concat(fn, \" \");\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  var _len = segments.length;\n  var _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (var i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments) {\n  var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;\n  var _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  var _len = segments.length;\n  var _segments$_index = segments[_index], start = _segments$_index.start, end = _segments$_index.end, cTime = _segments$_index.cTime, offset = _segments$_index.offset;\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  var _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (var i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    var start = segments[_index].start;\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  var type = _typeof(value);\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  var lastInvokeTime = 0;\n  var leading = false;\n  var maxing = false;\n  var trailing = true;\n  var useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs;\n    var thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    var timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced() {\n    var time = Date.now();\n    var isInvoking = shouldInvoke(time);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  var lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  var pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","var VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nvar H264_MIMETYPES = [\"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"avc1.42E01E\", \"mp4v.20.8\", \"mp4v.20.8, mp4a.40.2\", \"mp4v.20.240, mp4a.40.2\"];\nvar sniffer = {\n  get device() {\n    var r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    var reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter(function(key) {\n      return reg[key].test(ua);\n    }))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    var ua = navigator.userAgent;\n    var isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    var isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    var isTizen = /(?:Tizen)/ig.test(ua);\n    var isWebOS = /(?:Web0S)/ig.test(ua);\n    var isAndroid = /(?:Android)/.test(ua);\n    var isFireFox = /(?:Firefox)/.test(ua);\n    var isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    var isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    var isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    var isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox,\n      isTizen,\n      isWebOS\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    var ua = navigator.userAgent;\n    var reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    var _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      var version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    var reg = /(micromessenger)\\/([\\d.]+)/;\n    var match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4: function isSupportMP4() {\n    var result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    var a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map(function(key) {\n        if (a.canPlayType('video/mp4; codecs=\"'.concat(key, '\"')) === \"probably\") {\n          result.isSupport = true;\n          result.mime += \"||\".concat(key);\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport: function isMSESupport() {\n    var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported: function isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported: function probeConfigSupported(info) {\n    var defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      var videoConfig = info.video || {};\n      var audioConfig = info.audio || {};\n      try {\n        var videoSupported = MediaSource.isTypeSupported(videoConfig.contentType);\n        var audioSupported = MediaSource.isTypeSupported(audioConfig.contentType);\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.0.22\";\nexport { version as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport version from \"./version.js\";\nimport util from \"./utils/util.js\";\nvar ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nvar ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nvar Errors = /* @__PURE__ */ _createClass(\n  function Errors2(player) {\n    var errorInfo = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      errorType: \"\",\n      errorCode: 0,\n      errorMessage: \"\",\n      originError: \"\",\n      ext: {},\n      mediaError: null\n    };\n    _classCallCheck(this, Errors2);\n    var ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      var mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      var duration = player.duration, currentTime = player.currentTime, ended = player.ended, src = player.src, currentSrc = player.currentSrc;\n      var _player$media = player.media, readyState = _player$media.readyState, networkState = _player$media.networkState;\n      var _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      var r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map(function(key) {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        var _r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        var arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (var i = 0; i < arguments.length; i++) {\n          _r[arr[i]] = arguments[i];\n        }\n        _r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return _r;\n      }\n    }\n  }\n);\nexport { ERROR_TYPE_MAP, Errors as default };\n","var PLAY = \"play\";\nvar PLAYING = \"playing\";\nvar ENDED = \"ended\";\nvar PAUSE = \"pause\";\nvar ERROR = \"error\";\nvar SEEKING = \"seeking\";\nvar SEEKED = \"seeked\";\nvar TIME_UPDATE = \"timeupdate\";\nvar WAITING = \"waiting\";\nvar CANPLAY = \"canplay\";\nvar CANPLAY_THROUGH = \"canplaythrough\";\nvar DURATION_CHANGE = \"durationchange\";\nvar VOLUME_CHANGE = \"volumechange\";\nvar LOADED_DATA = \"loadeddata\";\nvar LOADED_METADATA = \"loadedmetadata\";\nvar RATE_CHANGE = \"ratechange\";\nvar PROGRESS = \"progress\";\nvar LOAD_START = \"loadstart\";\nvar EMPTIED = \"emptied\";\nvar STALLED = \"stalled\";\nvar SUSPEND = \"suspend\";\nvar ABORT = \"abort\";\nvar BUFFER_CHANGE = \"bufferedChange\";\nvar PLAYER_FOCUS = \"focus\";\nvar PLAYER_BLUR = \"blur\";\nvar READY = \"ready\";\nvar URL_NULL = \"urlNull\";\nvar AUTOPLAY_STARTED = \"autoplay_started\";\nvar AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nvar COMPLETE = \"complete\";\nvar REPLAY = \"replay\";\nvar DESTROY = \"destroy\";\nvar URL_CHANGE = \"urlchange\";\nvar DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nvar LEAVE_PLAYER = \"leaveplayer\";\nvar ENTER_PLAYER = \"enterplayer\";\nvar LOADING = \"loading\";\nvar FULLSCREEN_CHANGE = \"fullscreen_change\";\nvar CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nvar MINI_STATE_CHANGE = \"mini_state_change\";\nvar DEFINITION_CHANGE = \"definition_change\";\nvar BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nvar AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nvar SEI_PARSED = \"SEI_PARSED\";\nvar RETRY = \"retry\";\nvar VIDEO_RESIZE = \"video_resize\";\nvar PIP_CHANGE = \"pip_change\";\nvar ROTATE = \"rotate\";\nvar SCREEN_SHOT = \"screenShot\";\nvar PLAYNEXT = \"playnext\";\nvar SHORTCUT = \"shortcut\";\nvar XGLOG = \"xglog\";\nvar USER_ACTION = \"user_action\";\nvar RESET = \"reset\";\nvar SOURCE_ERROR = \"source_error\";\nvar SOURCE_SUCCESS = \"source_success\";\nvar SWITCH_SUBTITLE = \"switch_subtitle\";\nvar VIDEO_EVENTS = [\"play\", \"playing\", \"ended\", \"pause\", \"error\", \"seeking\", \"seeked\", \"timeupdate\", \"waiting\", \"canplay\", \"canplaythrough\", \"durationchange\", \"volumechange\", \"loadeddata\", \"loadedmetadata\", \"ratechange\", \"progress\", \"loadstart\", \"emptied\", \"stalled\", \"suspend\", \"abort\", \"lowdecode\"];\nvar STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nvar FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ENTER_PLAYER, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LEAVE_PLAYER, LOADED_DATA, LOADED_METADATA, LOADING, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, defineProperty as _defineProperty, get as _get, getPrototypeOf as _getPrototypeOf } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return function(e, _err) {\n    var eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      var _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      var callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nvar MediaProxy = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(MediaProxy2, _EventEmitter);\n  var _super = _createSuper(MediaProxy2);\n  function MediaProxy2(options) {\n    var _this;\n    _classCallCheck(this, MediaProxy2);\n    _this = _super.call(this, options);\n    _this._hasStart = false;\n    _this._currentTime = 0;\n    _this._duration = 0;\n    _this._internalOp = {};\n    _this._lastMuted = false;\n    _this.vtype = \"MP4\";\n    _this._rate = -1;\n    _this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    var playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      _this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete _this.mediaConfig.playsinline;\n      delete _this.mediaConfig[\"webkit-playsinline\"];\n      delete _this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      _this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(_this.mediaConfig, \"muted\")) {\n      _this.mediaConfig.muted = true;\n    }\n    _this.media = options.mediaEl instanceof HTMLMediaElement ? options.mediaEl : typeof options.mediaEl === \"function\" ? options.mediaEl(_this.mediaConfig) : util.createDom(_this.mediaConfig.mediaType, \"\", _this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      _this.media.defaultPlaybackRate = _this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      _this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      _this.media.muted = true;\n      _this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      _this.media.autoplay = true;\n    }\n    if (options.playsinline) {\n      _this.media.playsinline = true;\n    }\n    _this._interval = {};\n    _this.mediaEventMiddleware = {};\n    _this.attachVideoEvents();\n    return _this;\n  }\n  _createClass(MediaProxy2, [{\n    key: \"setEventsMiddleware\",\n    value: function setEventsMiddleware(middlewares) {\n      var _this2 = this;\n      Object.keys(middlewares).map(function(key) {\n        _this2.mediaEventMiddleware[key] = middlewares[key];\n      });\n    }\n  }, {\n    key: \"removeEventsMiddleware\",\n    value: function removeEventsMiddleware(middlewares) {\n      var _this3 = this;\n      Object.keys(middlewares).map(function(key) {\n        delete _this3.mediaEventMiddleware[key];\n      });\n    }\n  }, {\n    key: \"attachVideoEvents\",\n    value: function attachVideoEvents() {\n      var _this4 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      if (!this._evHandlers) {\n        this._evHandlers = VIDEO_EVENTS.map(function(eventKey) {\n          var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n          if (typeof _this4[funName] === \"function\") {\n            _this4.on(eventKey, _this4[funName]);\n          }\n          return _defineProperty({}, eventKey, getVideoEventHandler(eventKey, _this4));\n        });\n      }\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.addEventListener(eventKey, item[eventKey], false);\n      });\n    }\n  }, {\n    key: \"detachVideoEvents\",\n    value: function detachVideoEvents() {\n      var _this5 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.removeEventListener(eventKey, item[eventKey], false);\n      });\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n        if (typeof _this5[funName] === \"function\") {\n          _this5.off(eventKey, _this5[funName]);\n        }\n      });\n      this._evHandlers = null;\n    }\n  }, {\n    key: \"_attachSourceEvents\",\n    value: function _attachSourceEvents(video, urls) {\n      var _this6 = this;\n      video.removeAttribute(\"src\");\n      video.load();\n      urls.forEach(function(item, index) {\n        _this6.media.appendChild(util.createDom(\"source\", \"\", {\n          src: \"\".concat(item.src),\n          type: \"\".concat(item.type || \"\"),\n          \"data-index\": index + 1\n        }));\n      });\n      var _c = video.children;\n      if (!_c) {\n        return;\n      }\n      this._videoSourceCount = _c.length;\n      this._videoSourceIndex = _c.length;\n      this._vLoadeddata = function(e) {\n        _this6.emit(SOURCE_SUCCESS, {\n          src: e.target.currentSrc,\n          host: util.getHostFromUrl(e.target.currentSrc)\n        });\n      };\n      var _eHandler = null;\n      for (var i = 0; i < this._evHandlers.length; i++) {\n        if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n          _eHandler = this._evHandlers[i];\n          break;\n        }\n      }\n      !this._sourceError && (this._sourceError = function(e) {\n        var _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n        _this6._videoSourceIndex--;\n        if (_this6._videoSourceIndex === 0 || _dIndex >= _this6._videoSourceCount) {\n          var _err = {\n            code: 4,\n            message: \"sources_load_error\"\n          };\n          _eHandler ? _eHandler.error(e, _err) : _this6.errorHandler(\"error\", _err);\n        }\n        var type = ERROR_TYPE_MAP[4];\n        _this6.emit(SOURCE_ERROR, new Errors(_this6, {\n          errorType: type,\n          errorCode: 4,\n          errorMessage: \"sources_load_error\",\n          mediaError: {\n            code: 4,\n            message: \"sources_load_error\"\n          },\n          src: e.target.src\n        }));\n      });\n      for (var _i = 0; _i < _c.length; _i++) {\n        _c[_i].addEventListener(\"error\", this._sourceError);\n      }\n      video.addEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"_detachSourceEvents\",\n    value: function _detachSourceEvents(video) {\n      var _c = video.children;\n      if (!_c || _c.length === 0 || !this._sourceError) {\n        return;\n      }\n      for (var i = 0; i < _c.length; i++) {\n        _c[i].removeEventListener(\"error\", this._sourceError);\n      }\n      while (_c.length > 0) {\n        video.removeChild(_c[0]);\n      }\n      this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"errorHandler\",\n    value: function errorHandler(name) {\n      var error = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n      if (this.media && (this.media.error || error)) {\n        var _e = this.media.error || error;\n        var type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n        var message = _e.message;\n        if (!(this.media.currentSrc || this.media.srcObject)) {\n          message = \"empty_src\";\n          _e = {\n            code: 6,\n            message\n          };\n        }\n        this.emit(name, new Errors(this, {\n          errorType: type,\n          errorCode: _e.code,\n          errorMessage: _e.message || \"\",\n          mediaError: _e\n        }));\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.media) {\n        if (this.media.pause) {\n          this.media.pause();\n          this.media.muted = true;\n        }\n        this.media.removeAttribute(\"src\");\n        this.media.load();\n      }\n      this._currentTime = 0;\n      this._duration = 0;\n      this.mediaConfig = null;\n      for (var k in this._interval) {\n        if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n          clearInterval(this._interval[k]);\n          this._interval[k] = null;\n        }\n      }\n      this.detachVideoEvents();\n      this.media = null;\n      this.mediaEventMiddleware = {};\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"video\",\n    get: function get() {\n      return this.media;\n    },\n    set: function set(media) {\n      this.media = media;\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var ret = this.media ? this.media.play() : null;\n      return ret;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.media && this.media.pause();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.media && this.media.load();\n    }\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType(type) {\n      return this.media ? this.media.canPlayType(type) : false;\n    }\n  }, {\n    key: \"getBufferedRange\",\n    value: function getBufferedRange(buffered) {\n      var range = [0, 0];\n      if (!this.media) {\n        return range;\n      }\n      if (!buffered) {\n        buffered = this.media.buffered;\n      }\n      var currentTime = this.media.currentTime;\n      if (buffered) {\n        for (var i = 0, len = buffered.length; i < len; i++) {\n          range[0] = buffered.start(i);\n          range[1] = buffered.end(i);\n          if (range[0] <= currentTime && currentTime <= range[1]) {\n            break;\n          }\n        }\n      }\n      if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n        return range;\n      } else {\n        return [0, 0];\n      }\n    }\n  }, {\n    key: \"autoplay\",\n    get: function get() {\n      return this.media ? this.media.autoplay : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.autoplay = isTrue);\n    }\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      return this.media ? this.media.buffered : null;\n    }\n  }, {\n    key: \"buffered2\",\n    get: function get() {\n      return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n    }\n  }, {\n    key: \"bufferedPoint\",\n    get: function get() {\n      var ret = {\n        start: 0,\n        end: 0\n      };\n      if (!this.media) {\n        return ret;\n      }\n      var _buffered = this.media.buffered;\n      if (!_buffered || _buffered.length === 0) {\n        return ret;\n      }\n      for (var i = 0; i < _buffered.length; i++) {\n        if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n          return {\n            start: _buffered.start(i),\n            end: _buffered.end(i)\n          };\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"crossOrigin\",\n    get: function get() {\n      return this.media ? this.media.crossOrigin : \"\";\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.crossOrigin = isTrue);\n    }\n  }, {\n    key: \"currentSrc\",\n    get: function get() {\n      return this.media ? this.media.currentSrc : \"\";\n    },\n    set: function set(src) {\n      this.media && (this.media.currentSrc = src);\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      if (!this.media) {\n        return 0;\n      }\n      return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n    },\n    set: function set(time) {\n      this.media && (this.media.currentTime = time);\n    }\n  }, {\n    key: \"defaultMuted\",\n    get: function get() {\n      return this.media ? this.media.defaultMuted : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.defaultMuted = isTrue);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this._duration;\n    }\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.media ? this.media.ended : false;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this.media.error;\n    }\n  }, {\n    key: \"errorNote\",\n    get: function get() {\n      var err = this.media.error;\n      if (!err) {\n        return \"\";\n      }\n      var status = [\"MEDIA_ERR_ABORTED\", \"MEDIA_ERR_NETWORK\", \"MEDIA_ERR_DECODE\", \"MEDIA_ERR_SRC_NOT_SUPPORTED\"];\n      return status[this.media.error.code - 1];\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      return this.media ? this.media.loop : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.loop = isTrue);\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.media ? this.media.muted : false;\n    },\n    set: function set(isTrue) {\n      if (!this.media || this.media.muted === isTrue) {\n        return;\n      }\n      this._lastMuted = this.media.muted;\n      this.media.muted = isTrue;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return this.media.networkState;\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return this.media ? this.media.paused : true;\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.media ? this.media.playbackRate : 0;\n    },\n    set: function set(rate) {\n      if (!this.media || rate === Infinity) {\n        return;\n      }\n      this.media.defaultPlaybackRate = rate;\n      this.media.playbackRate = rate;\n    }\n  }, {\n    key: \"played\",\n    get: function get() {\n      return this.media ? this.media.played : null;\n    }\n  }, {\n    key: \"preload\",\n    get: function get() {\n      return this.media ? this.media.preload : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.preload = isTrue);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return this.media.readyState;\n    }\n  }, {\n    key: \"seekable\",\n    get: function get() {\n      return this.media ? this.media.seekable : false;\n    }\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return this.media ? this.media.seeking : false;\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return this.media ? this.media.src : \"\";\n    },\n    set: function set(url) {\n      if (!this.media) {\n        return;\n      }\n      this.emit(URL_CHANGE, url);\n      this.emit(WAITING);\n      this._currentTime = 0;\n      this._duration = 0;\n      if (util.isMSE(this.media)) {\n        this.onWaiting();\n        return;\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\") {\n        this._attachSourceEvents(this.media, url);\n      } else if (url) {\n        this.media.src = url;\n      } else {\n        this.media.removeAttribute(\"src\");\n      }\n      this.load();\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.media ? this.media.volume : 0;\n    },\n    set: function set(vol) {\n      if (vol === Infinity || !this.media) {\n        return;\n      }\n      this.media.volume = vol;\n    }\n  }, {\n    key: \"aspectRatio\",\n    get: function get() {\n      return this.media ? this.media.videoWidth / this.media.videoHeight : 0;\n    }\n  }, {\n    key: \"addInnerOP\",\n    value: function addInnerOP(event) {\n      this._internalOp[event] = true;\n    }\n  }, {\n    key: \"removeInnerOP\",\n    value: function removeInnerOP(event) {\n      delete this._internalOp[event];\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      var _get2;\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n      (_get2 = _get(_getPrototypeOf(MediaProxy2.prototype), \"emit\", this)).call.apply(_get2, [this, event, data].concat(args));\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _get3;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      (_get3 = _get(_getPrototypeOf(MediaProxy2.prototype), \"on\", this)).call.apply(_get3, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _get4;\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      (_get4 = _get(_getPrototypeOf(MediaProxy2.prototype), \"once\", this)).call.apply(_get4, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _get5;\n      for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        args[_key4 - 2] = arguments[_key4];\n      }\n      (_get5 = _get(_getPrototypeOf(MediaProxy2.prototype), \"off\", this)).call.apply(_get5, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      _get(_getPrototypeOf(MediaProxy2.prototype), \"removeAllListeners\", this).call(this);\n    }\n  }]);\n  return MediaProxy2;\n}(EventEmitter);\nexport { MediaProxy as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar INDEXDB = /* @__PURE__ */ function() {\n  function INDEXDB2() {\n    var mydb = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n      name: \"xgplayer\",\n      version: 1,\n      db: null,\n      ojstore: {\n        name: \"xg-m4a\",\n        keypath: \"vid\"\n      }\n    };\n    _classCallCheck(this, INDEXDB2);\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  _createClass(INDEXDB2, [{\n    key: \"openDB\",\n    value: function openDB(callback) {\n      var _this = this;\n      var self = this;\n      var version = this.myDB.version || 1;\n      var request = self.indexedDB.open(self.myDB.name, version);\n      request.onerror = function(e) {\n      };\n      request.onsuccess = function(e) {\n        _this.myDB.db = e.target.result;\n        callback.call(self);\n      };\n      request.onupgradeneeded = function(e) {\n        var db = e.target.result;\n        e.target.transaction;\n        if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n          db.createObjectStore(self.myDB.ojstore.name, {\n            keyPath: self.myDB.ojstore.keypath\n          });\n        }\n      };\n    }\n  }, {\n    key: \"deletedb\",\n    value: function deletedb() {\n      var self = this;\n      self.indexedDB.deleteDatabase(this.myDB.name);\n    }\n  }, {\n    key: \"closeDB\",\n    value: function closeDB() {\n      this.myDB.db.close();\n    }\n  }, {\n    key: \"addData\",\n    value: function addData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.add(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"putData\",\n    value: function putData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.put(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"getDataByKey\",\n    value: function getDataByKey(storename, key, callback) {\n      var self = this;\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request = store.get(key);\n      request.onerror = function() {\n        callback.call(self, null);\n      };\n      request.onsuccess = function(e) {\n        var result = e.target.result;\n        callback.call(self, result);\n      };\n    }\n  }, {\n    key: \"deleteData\",\n    value: function deleteData(storename, key) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.delete(key);\n    }\n  }, {\n    key: \"clearData\",\n    value: function clearData(storename) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.clear();\n    }\n  }]);\n  return INDEXDB2;\n}();\nexport { INDEXDB as default };\n","var FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nvar GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nvar EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nvar PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction callHandler(obj, handler, next) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n  var ret = handler.call.apply(handler, [obj].concat(args));\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then(function() {\n      for (var _len2 = arguments.length, args2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args2[_key2] = arguments[_key2];\n      }\n      next.call.apply(next, [obj].concat(args2));\n    });\n  } else {\n    next.call.apply(next, [obj].concat(args));\n  }\n}\nfunction hook(hookName, handler) {\n  var preset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    pre: null,\n    next: null\n  };\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    var _arguments = arguments, _this = this;\n    if (preset.pre) {\n      try {\n        var _preset$pre;\n        (_preset$pre = preset.pre).call.apply(_preset$pre, [this].concat(Array.prototype.slice.call(arguments)));\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \":pre error] >> \").concat(e.message);\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        var preRet = runHooks(this, hookName, handler);\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then(function(isContinue) {\n              if (isContinue !== false) {\n                callHandler.apply(void 0, [_this, handler, preset.next].concat(_toConsumableArray(_arguments)));\n              }\n            }).catch(function(e) {\n              throw e;\n            });\n          } else {\n            callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n          }\n        } else if (preRet === void 0) {\n          callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n        }\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \"] >> \").concat(e.message);\n        throw e;\n      }\n    } else {\n      callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n    }\n  }.bind(this);\n}\nfunction findHookIndex(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks || !Array.isArray(__hooks[hookName])) {\n    return -1;\n  }\n  var hookHandlers = __hooks[hookName];\n  for (var i = 0; i < hookHandlers.length; i++) {\n    if (hookHandlers[i] === handler) {\n      return i;\n    }\n  }\n  return -1;\n}\nfunction useHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(\"has no supported hook which name [\".concat(hookName, \"]\"));\n    return false;\n  }\n  if (!Array.isArray(__hooks[hookName])) {\n    __hooks[hookName] = [];\n  }\n  if (findHookIndex.call(this, hookName, handler) === -1) {\n    __hooks[hookName].push(handler);\n  }\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (Array.isArray(__hooks[hookName])) {\n    var hooks = __hooks[hookName];\n    var index = findHookIndex.call(this, hookName, handler);\n    if (index !== -1) {\n      hooks.splice(index, 1);\n    }\n  } else if (__hooks[hookName]) {\n    __hooks[hookName] = null;\n  }\n}\nfunction usePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  return plugin.useHooks && plugin.useHooks.apply(plugin, args);\n}\nfunction removePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    return plugin.removeHooks && plugin.removeHooks.apply(plugin, args);\n  }\n}\nfunction hooksDescriptor(instance) {\n  var presetHooks = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n  instance.__hooks = {};\n  presetHooks && presetHooks.map(function(item) {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: function get() {\n      return instance.__hooks && Object.keys(instance.__hooks).map(function(key) {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n  if (obj.__hooks && Array.isArray(obj.__hooks[hookName])) {\n    var hooks = obj.__hooks[hookName];\n    var index = -1;\n    var runHooksRecursive = function runHooksRecursive2(obj2, hookName2, handler2) {\n      for (var _len6 = arguments.length, args2 = new Array(_len6 > 3 ? _len6 - 3 : 0), _key6 = 3; _key6 < _len6; _key6++) {\n        args2[_key6 - 3] = arguments[_key6];\n      }\n      index++;\n      if (hooks.length === 0 || index === hooks.length) {\n        return handler2.call.apply(handler2, [obj2, obj2].concat(args2));\n      }\n      var hook2 = hooks[index];\n      var ret = hook2.call.apply(hook2, [obj2, obj2].concat(args2));\n      if (ret && ret.then) {\n        return ret.then(function(data) {\n          return data === false ? null : runHooksRecursive2.apply(void 0, [obj2, hookName2, handler2].concat(args2));\n        }).catch(function(e) {\n          console.warn(\"[runHooks]\".concat(hookName2, \" reject\"), e.message);\n        });\n      } else if (ret !== false) {\n        return runHooksRecursive2.apply(void 0, [obj2, hookName2, handler2].concat(args2));\n      }\n    };\n    return runHooksRecursive.apply(void 0, [obj, hookName, handler].concat(args));\n  } else {\n    return handler.call.apply(handler, [obj, obj].concat(args));\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(\"[\".concat(pluginName, \"] event or callback cant be undefined or null when call \").concat(msg));\n}\nvar BasePlugin = /* @__PURE__ */ function() {\n  function BasePlugin2(args) {\n    _classCallCheck(this, BasePlugin2);\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  _createClass(BasePlugin2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__init\",\n    value: function __init(args) {\n      this.player = args.player;\n      this.playerConfig = args.player && args.player.config;\n      this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n      this.logger = args.player && args.player.logger;\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.player.i18n;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.player.i18nKeys;\n    }\n  }, {\n    key: \"domEventType\",\n    get: function get() {\n      var _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n      if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n        _e = this.playerConfig.domEventType;\n      }\n      return _e;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__events[event] = callback;\n        this.player.on(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this.__events[item] = callback;\n          _this.player.on(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _this2 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__onceEvents[event] = callback;\n        this.player.once(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this2.__onceEvents[item] = callback;\n          _this2.player.once(event, callback);\n        });\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _this3 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        delete this.__events[event];\n        this.player.off(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          delete _this3.__events[event];\n          _this3.player.off(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      var _this4 = this;\n      [\"__events\", \"__onceEvents\"].forEach(function(key) {\n        Object.keys(_this4[key]).forEach(function(item) {\n          _this4[key][item] && _this4.off(item, _this4[key][item]);\n          item && delete _this4[key][item];\n        });\n      });\n      this.__events = {};\n      this.__onceEvents = {};\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$player;\n      if (!this.player) {\n        return;\n      }\n      for (var _len = arguments.length, res = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        res[_key - 1] = arguments[_key];\n      }\n      (_this$player = this.player).emit.apply(_this$player, [event].concat(res));\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action) {\n      var params = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n      if (!this.player) {\n        return;\n      }\n      var nParams = _objectSpread2(_objectSpread2({}, params), {}, {\n        pluginName: this.pluginName\n      });\n      this.player.emitUserAction(event, action, nParams);\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      if (!this.player) {\n        return;\n      }\n      name && (options.pluginName = name);\n      return this.player.registerPlugin({\n        plugin,\n        options\n      });\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.player ? this.player.getPlugin(name) : null;\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this5 = this;\n      var player = this.player;\n      var pluginName = this.pluginName;\n      this.offAll();\n      util.clearAllTimers(this);\n      if (util.checkIsFunction(this.destroy)) {\n        this.destroy();\n      }\n      [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map(function(item) {\n        _this5[item] = null;\n      });\n      player.unRegisterPlugin(pluginName);\n      delHooksDescriptor(this);\n    }\n  }], [{\n    key: \"defineGetterOrSetter\",\n    value: function defineGetterOrSetter(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key)) {\n          Object.defineProperty(Obj, key, map[key]);\n        }\n      }\n    }\n  }, {\n    key: \"defineMethod\",\n    value: function defineMethod(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key) && typeof map[key] === \"function\") {\n          Object.defineProperty(Obj, key, {\n            configurable: true,\n            value: map[key]\n          });\n        }\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return \"pluginName\";\n    }\n  }]);\n  return BasePlugin2;\n}();\nexport { BasePlugin as default };\n","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport BasePlugin from \"./basePlugin.js\";\nimport _delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nvar ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nvar POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nvar PLUGIN_STATE_CLASS = {\n  ICON_DISABLE: \"xg-icon-disable\",\n  ICON_HIDE: \"xg-icon-hide\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (_typeof(icon) === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return \"\".concat(classname, \" \").concat(icon.class);\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (_typeof(icon) === \"object\" && icon.attr && _typeof(icon.attr) === \"object\") {\n    Object.keys(icon.attr).map(function(key) {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key) {\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  var attr = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n  var pluginName = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n  var newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map(function(key2) {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, \"xg-img \".concat(classname));\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map(function(key2) {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is a function mast return an Element Object\"));\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(\"Plugin named [\".concat(pluginName, \"]:createIcon\"), e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is invalid\"));\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  var _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map(function(key) {\n    var orgIcon = iconsConfig[key];\n    var classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    var attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    var newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map(function(key) {\n    Object.defineProperty(plugin.langText, key, {\n      get: function get() {\n        var lang = plugin.lang, i18n = plugin.i18n;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nvar Plugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Plugin2, _BasePlugin);\n  var _super = _createSuper(Plugin2);\n  function Plugin2() {\n    var _this;\n    var args = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _classCallCheck(this, Plugin2);\n    _this = _super.call(this, args);\n    _this.__delegates = [];\n    return _this;\n  }\n  _createClass(Plugin2, [{\n    key: \"__init\",\n    value: function __init(args) {\n      _get(_getPrototypeOf(Plugin2.prototype), \"__init\", this).call(this, args);\n      if (!args.root) {\n        return;\n      }\n      var _parent = args.root;\n      var _el = null;\n      this.icons = {};\n      this.root = null;\n      this.parent = null;\n      var _orgicons = this.registerIcons() || {};\n      registerIconsObj(_orgicons, this);\n      this.langText = {};\n      var defaultTexConfig = this.registerLanguageTexts() || {};\n      registerTextObj(defaultTexConfig, this);\n      var renderStr = \"\";\n      try {\n        renderStr = this.render();\n      } catch (e) {\n        XG_DEBUG.logError(\"Plugin:\".concat(this.pluginName, \":render\"), e);\n        throw new Error(\"Plugin:\".concat(this.pluginName, \":render:\").concat(e.message));\n      }\n      if (renderStr) {\n        _el = Plugin2.insert(renderStr, _parent, args.index);\n        _el.setAttribute(\"data-index\", args.index);\n      } else if (args.tag) {\n        _el = util.createDom(args.tag, \"\", args.attr, args.name);\n        _el.setAttribute(\"data-index\", args.index);\n        _parent.appendChild(_el);\n      } else {\n        return;\n      }\n      this.root = _el;\n      this.parent = _parent;\n      var attr = this.config.attr || {};\n      var style = this.config.style || {};\n      this.setAttr(attr);\n      this.setStyle(style);\n      if (this.config.index) {\n        this.root.setAttribute(\"data-index\", this.config.index);\n      }\n      this.__registerChildren();\n    }\n  }, {\n    key: \"__registerChildren\",\n    value: function __registerChildren() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this._children = [];\n      var children = this.children();\n      if (children && _typeof(children) === \"object\") {\n        if (Object.keys(children).length > 0) {\n          Object.keys(children).map(function(item) {\n            var name = item;\n            var _plugin = children[name];\n            var options = {\n              root: _this2.root\n            };\n            var config, _Plugin;\n            if (typeof _plugin === \"function\") {\n              config = _this2.config[name] || {};\n              _Plugin = _plugin;\n            } else if (_typeof(_plugin) === \"object\" && typeof _plugin.plugin === \"function\") {\n              config = _plugin.options ? util.deepCopy(_this2.config[name] || {}, _plugin.options) : _this2.config[name] || {};\n              _Plugin = _plugin.plugin;\n            }\n            options.config = config;\n            config.index !== void 0 && (options.index = config.index);\n            config.root && (options.root = config.root);\n            _this2.registerPlugin(_Plugin, options, name);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n      function checkChildren(node, callback) {\n        for (var i = 0; i < node.children.length; i++) {\n          if (node.children[i].children.length > 0) {\n            checkChildren(node.children[i], callback);\n          } else {\n            callback(node.children[i]);\n          }\n        }\n      }\n      var root = this.root, i18n = this.i18n, langText = this.langText;\n      if (root) {\n        checkChildren(root, function(node) {\n          var langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n          if (!langKey) {\n            return;\n          }\n          var langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n          if (langTextShow) {\n            node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"changeLangTextKey\",\n    value: function changeLangTextKey(dom) {\n      var key = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n      var i18n = this.i18n || {};\n      var langText = this.langText;\n      dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n      var text = i18n[key] || langText[key] || \"\";\n      if (text) {\n        dom.innerHTML = text;\n      }\n    }\n  }, {\n    key: \"plugins\",\n    value: function plugins() {\n      return this._children;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      util.addClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n      util.removeClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n    }\n  }, {\n    key: \"children\",\n    value: function children() {\n      return {};\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      options.root = options.root || this.root;\n      var _c = _get(_getPrototypeOf(Plugin2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      this._children.push(_c);\n      return _c;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {};\n    }\n  }, {\n    key: \"registerLanguageTexts\",\n    value: function registerLanguageTexts() {\n      return {};\n    }\n  }, {\n    key: \"find\",\n    value: function find(qs) {\n      if (!this.root) {\n        return;\n      }\n      return this.root.querySelector(qs);\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(querySelector, eventType, callback) {\n      var _this3 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this3.bindEL(item, eventType);\n          });\n        } else {\n          this.bindEL(querySelector, eventType);\n        }\n      } else {\n        var ret = Plugin2.delegate.call(this, this.root, querySelector, eventType, callback);\n        this.__delegates = this.__delegates.concat(ret);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(querySelector, eventType) {\n      var _this4 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this4.unbindEL(item, eventType);\n          });\n        } else {\n          this.unbindEL(querySelector, eventType);\n        }\n      } else {\n        var key = \"\".concat(querySelector, \"_\").concat(eventType);\n        for (var i = 0; i < this.__delegates.length; i++) {\n          if (this.__delegates[i].key === key) {\n            this.__delegates[i].destroy();\n            this.__delegates.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(name, value) {\n      var _this5 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.style[name] = value;\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this5.root.style[key] = name[key];\n        });\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(name, value) {\n      var _this6 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.setAttribute(name, value);\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this6.root.setAttribute(key, name[key]);\n        });\n      }\n    }\n  }, {\n    key: \"setHtml\",\n    value: function setHtml(htmlStr, callback) {\n      if (!this.root) {\n        return;\n      }\n      this.root.innerHTML = htmlStr;\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    }\n  }, {\n    key: \"bindEL\",\n    value: function bindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.addEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"unbindEL\",\n    value: function unbindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.removeEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.style.display = value !== void 0 ? value : \"block\";\n      var cs = window.getComputedStyle(this.root, null);\n      var cssDisplayValue = cs.getPropertyValue(\"display\");\n      if (cssDisplayValue === \"none\") {\n        return this.root.style.display = \"block\";\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root && (this.root.style.display = \"none\");\n    }\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(pdom, child) {\n      if (!this.root) {\n        return null;\n      }\n      if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n        return this.root.appendChild(arguments[0]);\n      }\n      if (!child || !(child instanceof window.Element)) {\n        return null;\n      }\n      try {\n        if (typeof pdom === \"string\") {\n          return this.find(pdom).appendChild(child);\n        } else {\n          return pdom.appendChild(child);\n        }\n      } catch (err) {\n        XG_DEBUG.logError(\"Plugin:appendChild\", err);\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this7 = this;\n      var player = this.player;\n      this.__delegates.map(function(item) {\n        item.destroy();\n      });\n      this.__delegates = [];\n      if (this._children instanceof Array) {\n        this._children.map(function(item) {\n          player.unRegisterPlugin(item.pluginName);\n        });\n        this._children = null;\n      }\n      if (this.root) {\n        if (this.root.hasOwnProperty(\"remove\")) {\n          this.root.remove();\n        } else if (this.root.parentNode) {\n          this.root.parentNode.removeChild(this.root);\n        }\n      }\n      _get(_getPrototypeOf(Plugin2.prototype), \"__destroy\", this).call(this);\n      this.icons = {};\n      [\"root\", \"parent\"].map(function(item) {\n        _this7[item] = null;\n      });\n    }\n  }], [{\n    key: \"insert\",\n    value: function insert(html, parent) {\n      var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var len = parent.children.length;\n      var insertIdx = Number(index);\n      var isDomElement = html instanceof window.Node;\n      if (len) {\n        var i = 0;\n        var coordinate = null;\n        var mode = \"\";\n        for (; i < len; i++) {\n          coordinate = parent.children[i];\n          var curIdx = Number(coordinate.getAttribute(\"data-index\"));\n          if (curIdx >= insertIdx) {\n            mode = \"beforebegin\";\n            break;\n          } else if (curIdx < insertIdx) {\n            mode = \"afterend\";\n          }\n        }\n        if (isDomElement) {\n          if (mode === \"afterend\") {\n            parent.appendChild(html);\n          } else {\n            parent.insertBefore(html, coordinate);\n          }\n        } else {\n          coordinate.insertAdjacentHTML(mode, html);\n        }\n        return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n      } else {\n        isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n        return parent.children[parent.children.length - 1];\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"delegate\",\n    value: function delegate(root, querySelector, eventType, callback) {\n      var capture = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n      var dels = [];\n      if (root instanceof window.Node && typeof callback === \"function\") {\n        if (Array.isArray(eventType)) {\n          eventType.forEach(function(item) {\n            var ret2 = _delegate(root, querySelector, item, callback, capture);\n            ret2.key = \"\".concat(querySelector, \"_\").concat(item);\n            dels.push(ret2);\n          });\n        } else {\n          var ret = _delegate(root, querySelector, eventType, callback, capture);\n          ret.key = \"\".concat(querySelector, \"_\").concat(eventType);\n          dels.push(ret);\n        }\n      }\n      return dels;\n    }\n  }, {\n    key: \"ROOT_TYPES\",\n    get: function get() {\n      return ROOT_TYPES;\n    }\n  }, {\n    key: \"POSITIONS\",\n    get: function get() {\n      return POSITIONS;\n    }\n  }]);\n  return Plugin2;\n}(BasePlugin);\nexport { PLUGIN_STATE_CLASS, POSITIONS, ROOT_TYPES, Plugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nvar ResizeObserver = /* @__PURE__ */ function() {\n  function ResizeObserver2() {\n    var _this = this;\n    _classCallCheck(this, ResizeObserver2);\n    _defineProperty(this, \"__trigger\", function(entries) {\n      var t = new Date().getTime();\n      _this.timeStamp = t;\n      for (var i = 0; i < entries.length; i++) {\n        _this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, {\n        trailing: true\n      }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  _createClass(ResizeObserver2, [{\n    key: \"addObserver\",\n    value: function addObserver2(target, handler) {\n      if (!this.observer) {\n        return;\n      }\n      this.observer.observe(target);\n      var _pid = target.getAttribute(PLATER_ID);\n      var __handlers = this.__handlers;\n      var index = -1;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.__handlers[index].handler = handler;\n      } else {\n        this.__handlers.push({\n          target,\n          handler,\n          playerId: _pid\n        });\n      }\n    }\n  }, {\n    key: \"unObserver\",\n    value: function unObserver2(target) {\n      var i = -1;\n      this.__handlers.map(function(item, index) {\n        if (target === item.target) {\n          i = index;\n        }\n      });\n      try {\n        var _this$observer;\n        (_this$observer = this.observer) === null || _this$observer === void 0 ? void 0 : _this$observer.unobserve(target);\n      } catch (e) {\n      }\n      i > -1 && this.__handlers.splice(i, 1);\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      var _this$observer2;\n      (_this$observer2 = this.observer) === null || _this$observer2 === void 0 ? void 0 : _this$observer2.disconnect();\n      this.observer = null;\n      this.__handlers = null;\n    }\n  }, {\n    key: \"__runHandler\",\n    value: function __runHandler(target) {\n      var __handlers = this.__handlers;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          try {\n            __handlers[i].handler(target);\n          } catch (error) {\n            console.error(error);\n          }\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return ResizeObserver2;\n}();\nvar resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  var _resizeObserver;\n  (_resizeObserver = resizeObserver) === null || _resizeObserver === void 0 ? void 0 : _resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nvar pluginsManager = {\n  pluginGroup: {},\n  init: function init(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = new Date().getTime();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && addObserver(player.root, function() {\n      player.resize();\n    });\n    this.pluginGroup[cgid] = {\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  formatPluginInfo: function formatPluginInfo(plugin, config) {\n    var PLUFGIN = null;\n    var options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits: function checkPluginIfExits(pluginName, plugins) {\n    for (var i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig: function getRootByConfig(pluginName, playerConfig) {\n    var keys = Object.keys(playerConfig);\n    var _pConfig = null;\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister: function lazyRegister(player, lazyPlugin) {\n    var _this = this;\n    var timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([lazyPlugin.loader().then(function(plugin) {\n      var result;\n      if (plugin && plugin.__esModule) {\n        result = plugin.default;\n      } else {\n        result = plugin;\n      }\n      _this.register(player, result, plugin.options);\n    }), new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        reject(new Error(\"timeout\"));\n      }, timeout);\n    })]);\n  },\n  register: function register(player, plugin) {\n    var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    var originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = player;\n    var pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(\"not supported plugin [\".concat(pluginName, \"]\"));\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    var keys = Object.keys(originalOptions);\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        var config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach(function(key) {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(\"the is one plugin with same pluginName [\".concat(pluginName, \"] exist, destroy the old instance\"));\n      }\n      var _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister: function unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      var plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(\"[unRegister:\".concat(name, \"] cgid:[\").concat(cgid, \"] error\"), e);\n    }\n  },\n  deletePlugin: function deletePlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins: function getPlugins(player) {\n    var cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin: function findPlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    var cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit: function beforeInit(player) {\n    var _this2 = this;\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise(function(resolve) {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise(function(resolve) {\n      if (!_this2.pluginGroup) {\n        return;\n      }\n      var prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(function() {\n        var cgid = player._pluginInfoId;\n        if (!_this2.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        var plugins = _this2.pluginGroup[cgid]._plugins;\n        var pluginsRet = [];\n        Object.keys(plugins).forEach(function(pName) {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              var ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([].concat(pluginsRet)).then(function() {\n          resolve();\n        }).catch(function(e) {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit: function afterInit(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang: function setLang(lang, player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(item) {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(\"\".concat(item, \" setLang\"));\n        }\n      }\n    });\n  },\n  reRender: function reRender(player) {\n    var _this3 = this;\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var _pList = [];\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        _this3.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach(function(item) {\n      _this3.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady: function onPluginsReady(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach(function(key) {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  destroy: function destroy(player) {\n    var cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    unObserver(player.root);\n    var plugins = this.pluginGroup[cgid]._plugins;\n    for (var _i = 0, _Object$keys = Object.keys(plugins); _i < _Object$keys.length; _i++) {\n      var item = _Object$keys[_i];\n      this.unRegister(cgid, item);\n    }\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: function disableSwipeHandler() {\n    },\n    enableSwipeHandler: function enableSwipeHandler() {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: {\n      list: []\n    },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar usePreset = function usePreset2(player, Preset) {\n  var _player$config$plugin, _player$config$ignore;\n  var presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  var _presetInst = presetInst, _presetInst$plugins = _presetInst.plugins, plugins = _presetInst$plugins === void 0 ? [] : _presetInst$plugins, _presetInst$ignores = _presetInst.ignores, ignores = _presetInst$ignores === void 0 ? [] : _presetInst$ignores, _presetInst$icons = _presetInst.icons, icons = _presetInst$icons === void 0 ? {} : _presetInst$icons, _presetInst$i18n = _presetInst.i18n, i18n = _presetInst$i18n === void 0 ? [] : _presetInst$i18n;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  (_player$config$plugin = player.config.plugins).push.apply(_player$config$plugin, _toConsumableArray(plugins));\n  (_player$config$ignore = player.config.ignores).push.apply(_player$config$ignore, _toConsumableArray(ignores));\n  Object.keys(icons).map(function(key) {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  var _ci18n = player.config.i18n || [];\n  i18n.push.apply(i18n, _toConsumableArray(_ci18n));\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Controls = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Controls2, _Plugin);\n  var _super = _createSuper(Controls2);\n  function Controls2() {\n    var _this;\n    _classCallCheck(this, Controls2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      playerConfig.closeControlsBlur && player.focus({\n        autoHide: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      player.focus();\n    });\n    return _this;\n  }\n  _createClass(Controls2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (!args.config.mode && sniffer.device === \"mobile\") {\n        args.config.mode = \"flex\";\n      }\n      if (args.player.config.marginControls) {\n        args.config.autoHide = false;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, disable = _this$config.disable, height = _this$config.height, mode = _this$config.mode;\n      if (disable) {\n        return;\n      }\n      mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n      var style = {\n        height: \"\".concat(height, \"px\")\n      };\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n      this.left = this.find(\"xg-left-grid\");\n      this.center = this.find(\"xg-center-grid\");\n      this.right = this.find(\"xg-right-grid\");\n      this.innerRoot = this.find(\"xg-inner-controls\");\n      this.on(MINI_STATE_CHANGE, function(isMini) {\n        isMini ? util.addClass(_this2.root, \"mini-controls\") : util.removeClass(_this2.root, \"mini-controls\");\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.focus({\n        autoHide: false\n      });\n    }\n  }, {\n    key: \"focusAwhile\",\n    value: function focusAwhile() {\n      this.player.focus({\n        autoHide: true\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.player.blur({\n        ignorePaused: true\n      });\n    }\n  }, {\n    key: \"recoverAutoHide\",\n    value: function recoverAutoHide() {\n      this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"pauseAutoHide\",\n    value: function pauseAutoHide() {\n      util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      this.root.style.display = \"\";\n      this.player.focus();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.config.mode;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 ? arguments[2] : void 0;\n      if (!this.root) {\n        return;\n      }\n      var defaultConfig = plugin.defaultConfig || {};\n      if (!options.root) {\n        var position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n        switch (position) {\n          case POSITIONS.CONTROLS_LEFT:\n            options.root = this.left;\n            break;\n          case POSITIONS.CONTROLS_RIGHT:\n            options.root = this.right;\n            break;\n          case POSITIONS.CONTROLS_CENTER:\n            options.root = this.center;\n            break;\n          case POSITIONS.CONTROLS:\n            options.root = this.root;\n            break;\n          default:\n            options.root = this.left;\n        }\n        return _get(_getPrototypeOf(Controls2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (sniffer.device !== \"mobile\") {\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n      }\n      this.left = null;\n      this.center = null;\n      this.right = null;\n      this.innerRoot = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config2 = this.config, mode = _this$config2.mode, autoHide = _this$config2.autoHide, initShow = _this$config2.initShow, disable = _this$config2.disable;\n      if (disable) {\n        return;\n      }\n      var className = util.classNames({\n        \"xgplayer-controls\": true\n      }, {\n        \"flex-controls\": mode === \"flex\"\n      }, {\n        \"bottom-controls\": mode === \"bottom\"\n      }, _defineProperty({}, STATE_CLASS.CONTROLS_AUTOHIDE, autoHide), {\n        \"xgplayer-controls-initshow\": initShow || !autoHide\n      });\n      return '<xg-controls class=\"'.concat(className, '\" unselectable=\"on\">\\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\\n      <xg-left-grid class=\"xg-left-grid\">\\n      </xg-left-grid>\\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\\n      <xg-right-grid class=\"xg-right-grid\">\\n      </xg-right-grid>\\n    </xg-inner-controls>\\n    </xg-controls>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"controls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false,\n        autoHide: true,\n        mode: \"\",\n        initShow: false\n      };\n    }\n  }]);\n  return Controls2;\n}(Plugin);\nexport { Controls as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nvar XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach(function(key) {\n    var _s = util.typeOf(src[key]);\n    var _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      var _dst$key;\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map(function(key) {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  var ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map(function(lang2) {\n      var keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  var _i18nLangs = i18nLangs, lang = _i18nLangs.lang;\n  ext.map(function(item) {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  var _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  var texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  var _ret$langKeys;\n  var ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  (_ret$langKeys = ret.langKeys).push.apply(_ret$langKeys, _toConsumableArray(XGI18nLang.langKeys));\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nvar I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    var ret = {};\n    XGI18nLang.langKeys.map(function(key) {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","var STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nvar STATE_ARRAY = [\"ERROR\", \"INITIAL\", \"READY\", \"ATTACHING\", \"ATTACHED\", \"NOTALLOW\", \"RUNNING\", \"ENDED\", \"DESTROYED\"];\nexport { STATES, STATE_ARRAY };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { EventEmitter } from \"eventemitter3\";\nvar store = {};\nvar instance = null;\nvar InstManager = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(InstManager2, _EventEmitter);\n  var _super = _createSuper(InstManager2);\n  function InstManager2() {\n    _classCallCheck(this, InstManager2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(InstManager2, [{\n    key: \"add\",\n    value: function add(player) {\n      if (!player) {\n        return;\n      }\n      store[player.playerId] = player;\n      if (Object.keys(store).length === 1) {\n        this.setActive(player.playerId, true);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(player) {\n      if (!player) {\n        return;\n      }\n      player.isUserActive;\n      delete store[player.playerId];\n    }\n  }, {\n    key: \"_iterate\",\n    value: function _iterate(fn) {\n      var endEarly = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      for (var key in store) {\n        if (Object.prototype.hasOwnProperty.call(store, key)) {\n          var player = store[key];\n          if (endEarly) {\n            if (fn(player)) {\n              break;\n            }\n          } else {\n            fn(player);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      this._iterate(fn);\n    }\n  }, {\n    key: \"find\",\n    value: function find(fn) {\n      var result = null;\n      this._iterate(function(player) {\n        var flag = fn(player);\n        if (flag) {\n          result = player;\n        }\n        return flag;\n      }, true);\n      return result;\n    }\n  }, {\n    key: \"findAll\",\n    value: function findAll(fn) {\n      var results = [];\n      this._iterate(function(player) {\n        if (fn(player)) {\n          results.push(player);\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"setActive\",\n    value: function setActive(playerId) {\n      var isActive = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      if (!store[playerId]) {\n        return;\n      }\n      if (isActive) {\n        this.forEach(function(inst) {\n          if (playerId === inst.playerId) {\n            inst.isUserActive = true;\n            inst.isInstNext = false;\n          } else {\n            inst.isUserActive = false;\n          }\n        });\n      } else {\n        store[playerId].isUserActive = isActive;\n      }\n      return playerId;\n    }\n  }, {\n    key: \"getActiveId\",\n    value: function getActiveId() {\n      var keys = Object.keys(store);\n      for (var i = 0; i < keys.length; i++) {\n        var c = store[keys[i]];\n        if (c && c.isUserActive) {\n          return keys[i];\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"setNext\",\n    value: function setNext(playerId) {\n      var isNext = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      if (!store[playerId]) {\n        return;\n      }\n      if (isNext) {\n        this.forEach(function(inst) {\n          if (playerId === inst.playerId) {\n            inst.isUserActive = false;\n            inst.isInstNext = true;\n          } else {\n            inst.isInstNext = false;\n          }\n        });\n      } else {\n        store[playerId].isInstNext = isNext;\n      }\n      return playerId;\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      instance || (instance = new InstManager2());\n      return instance;\n    }\n  }]);\n  return InstManager2;\n}(EventEmitter);\nfunction checkPlayerRoot(root) {\n  var keys = Object.keys(store);\n  for (var i = 0; i < keys.length; i++) {\n    var p = store[keys[i]];\n    if (p.root === root) {\n      return p;\n    }\n  }\n  return null;\n}\nexport { InstManager, checkPlayerRoot };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, possibleConstructorReturn as _possibleConstructorReturn, get as _get, getPrototypeOf as _getPrototypeOf, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { CANPLAY, USER_ACTION, FULLSCREEN_CHANGE, READY, ERROR, LOADED_DATA, PLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, DURATION_CHANGE, LOADING, VIDEO_RESIZE, REPLAY, PLAYNEXT } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport Controls from \"./plugins/controls/index.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nimport { InstManager, checkPlayerRoot } from \"./instManager.js\";\nvar PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nvar REAL_TIME_SPEED = 0;\nvar AVG_SPEED = 0;\nvar instManager = null;\nvar Player = /* @__PURE__ */ function(_MediaProxy) {\n  _inherits(Player2, _MediaProxy);\n  var _super = _createSuper(Player2);\n  function Player2(options) {\n    var _this;\n    _classCallCheck(this, Player2);\n    var _config = util.deepMerge(getDefaultConfig(), options);\n    _this = _super.call(this, _config);\n    _defineProperty(_assertThisInitialized(_this), \"canPlayFunc\", function() {\n      if (!_this.config) {\n        return;\n      }\n      var _this$config = _this.config, autoplay = _this$config.autoplay, defaultPlaybackRate = _this$config.defaultPlaybackRate;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", _this.__startTime);\n      _this._seekToStartTime();\n      _this.playbackRate = defaultPlaybackRate;\n      (autoplay || _this._useAutoplay) && _this.mediaPlay();\n      _this.off(CANPLAY, _this.canPlayFunc);\n      _this.removeClass(STATE_CLASS.ENTER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFullscreenChange\", function(event, isFullScreen) {\n      var delayResize = function delayResize2() {\n        util.setTimeout(_assertThisInitialized(_this), function() {\n          _this.resize();\n        }, 100);\n      };\n      var fullEl = util.getFullScreenEl();\n      if (_this._fullActionFrom) {\n        _this._fullActionFrom = \"\";\n      } else {\n        _this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: _this.currentTime,\n          duration: _this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      var isVideo = checkIsCurrentVideo(fullEl, _this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === _this._fullscreenEl || isVideo)) {\n        delayResize();\n        !_this.config.closeFocusVideoFocus && _this.media.focus();\n        _this.fullscreen = true;\n        _this.changeFullStyle(_this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        _this.emit(FULLSCREEN_CHANGE, true, _this._fullScreenOffset);\n        if (_this.cssfullscreen) {\n          _this.exitCssFullscreen();\n        }\n      } else if (_this.fullscreen) {\n        delayResize();\n        var _assertThisInitialize = _assertThisInitialized(_this), _fullScreenOffset = _assertThisInitialize._fullScreenOffset, config = _assertThisInitialize.config;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(_assertThisInitialized(_this), function() {\n            _this.fullscreen = false;\n            _this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !_this.config.closeFocusVideoFocus && _this.media.focus();\n          _this.fullscreen = false;\n          _this._fullScreenOffset = null;\n        }\n        if (!_this.cssfullscreen) {\n          var el = _this._fullscreenEl;\n          if (!el && (_this.root.contains(event.target) || event.target === _this.root)) {\n            el = event.target;\n          }\n          _this.recoverFullStyle(_this.root, el, STATE_CLASS.FULLSCREEN);\n        } else {\n          _this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        _this._fullscreenEl = null;\n        _this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitbeginfullscreen\", function(e) {\n      _this._fullscreenEl = _this.media;\n      _this.onFullscreenChange(e, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitendfullscreen\", function(e) {\n      _this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(_assertThisInitialized(_this), PlAYER_HOOKS);\n    _this.config = _config;\n    _this._pluginInfoId = util.generateSessionId();\n    bindDebug(_assertThisInitialized(_this));\n    var defaultPreset = _this.constructor.defaultPreset;\n    if (_this.config.presets.length) {\n      var defaultIdx = _this.config.presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        _this.config.presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      _this.config.presets.push(defaultPreset);\n    }\n    _this.userTimer = null;\n    _this.waitTimer = null;\n    _this.handleSource = true;\n    _this._state = STATES.INITIAL;\n    _this.isAd = false;\n    _this.isError = false;\n    _this._hasStart = false;\n    _this.isSeeking = false;\n    _this.isCanplay = false;\n    _this._useAutoplay = false;\n    _this.__startTime = -1;\n    _this.rotateDeg = 0;\n    _this.isActive = false;\n    _this.fullscreen = false;\n    _this.cssfullscreen = false;\n    _this.isRotateFullscreen = false;\n    _this._fullscreenEl = null;\n    _this.timeSegments = [];\n    _this._cssfullscreenEl = null;\n    _this.curDefinition = null;\n    _this._orgCss = \"\";\n    _this._fullScreenOffset = null;\n    _this._videoHeight = 0;\n    _this._videoWidth = 0;\n    _this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    _this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    _this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    _this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    _this.innerContainer = null;\n    _this.controls = null;\n    _this.topBar = null;\n    _this.root = null;\n    _this.__i18n = I18N.init(_this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      _this.config.autoplay = false;\n    }\n    _this.database = new INDEXDB();\n    _this.isUserActive = false;\n    _this._onceSeekCanplay = null;\n    _this._isPauseBeforeSeek = 0;\n    _this.innerStates = {\n      isActiveLocked: false\n    };\n    _this.instManager = instManager;\n    var rootInit = _this._initDOM();\n    if (!rootInit) {\n      console.error(new Error(\"can't find the dom which id is \".concat(_this.config.id, \" or this.config.el does not exist\")));\n      return _possibleConstructorReturn(_this);\n    }\n    var _this$config2 = _this.config, _this$config2$definit = _this$config2.definition, definition = _this$config2$definit === void 0 ? {} : _this$config2$definit, url = _this$config2.url;\n    if (!url && definition.list && definition.list.length > 0) {\n      var defaultDefinitionObj = definition.list.find(function(e) {\n        return e.definition && e.definition === definition.defaultDefinition;\n      });\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      _this.config.url = defaultDefinitionObj.url;\n      _this.curDefinition = defaultDefinitionObj;\n    }\n    _this._bindEvents();\n    _this._registerPresets();\n    _this._registerPlugins();\n    pluginsManager.onPluginsReady(_assertThisInitialized(_this));\n    _this.getInitDefinition();\n    _this.setState(STATES.READY);\n    util.setTimeout(_assertThisInitialized(_this), function() {\n      _this.emit(READY);\n    }, 0);\n    _this.onReady && _this.onReady();\n    if (_this.config.videoInit || _this.config.autoplay) {\n      if (!_this.hasStart || _this.state < STATES.ATTACHED) {\n        _this.start();\n      }\n    }\n    return _this;\n  }\n  _createClass(Player2, [{\n    key: \"_initDOM\",\n    value: function _initDOM() {\n      var _instManager, _this2 = this;\n      this.root = this.config.id ? document.getElementById(this.config.id) : null;\n      if (!this.root) {\n        var el = this.config.el;\n        if (el && el.nodeType === 1) {\n          this.root = el;\n        } else {\n          this.emit(ERROR, new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          }));\n          console.error(\"this.confg.id or this.config.el can't be empty\");\n          return false;\n        }\n      }\n      var ret = checkPlayerRoot(this.root);\n      if (ret) {\n        XG_DEBUG.logWarn(\"The is an Player instance already exists in this.root, destroy it and reinitialize\");\n        ret.destroy();\n      }\n      this.root.setAttribute(PLATER_ID, this.playerId);\n      this.media.setAttribute(PLATER_ID, this.playerId);\n      (_instManager = instManager) === null || _instManager === void 0 ? void 0 : _instManager.add(this);\n      pluginsManager.init(this);\n      this._initBaseDoms();\n      if (this.config.controls) {\n        var _root = this.config.controls.root || null;\n        var controls = pluginsManager.register(this, Controls, {\n          root: _root\n        });\n        this.controls = controls;\n      }\n      var device = this.config.isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n      this.addClass(\"\".concat(STATE_CLASS.DEFAULT, \" \").concat(STATE_CLASS.INACTIVE, \" xgplayer-\").concat(device, \" \").concat(this.config.controls ? \"\" : STATE_CLASS.NO_CONTROLS));\n      if (this.config.autoplay) {\n        this.addClass(STATE_CLASS.ENTER);\n      } else {\n        this.addClass(STATE_CLASS.NO_START);\n      }\n      if (this.config.fluid) {\n        var _this$config3 = this.config, _width = _this$config3.width, _height = _this$config3.height;\n        if (typeof _width !== \"number\" || typeof _height !== \"number\") {\n          _width = 600;\n          _height = 337.5;\n        }\n        var style = {\n          width: \"100%\",\n          height: \"0\",\n          \"max-width\": \"100%\",\n          \"padding-top\": \"\".concat(_height * 100 / _width, \"%\")\n        };\n        Object.keys(style).forEach(function(key) {\n          _this2.root.style[key] = style[key];\n        });\n      } else {\n        [\"width\", \"height\"].forEach(function(key) {\n          if (_this2.config[key]) {\n            if (typeof _this2.config[key] !== \"number\") {\n              _this2.root.style[key] = _this2.config[key];\n            } else {\n              _this2.root.style[key] = \"\".concat(_this2.config[key], \"px\");\n            }\n          }\n        });\n      }\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, left = _this$root$getBoundin.left, top = _this$root$getBoundin.top;\n      this.sizeInfo.width = width;\n      this.sizeInfo.height = height;\n      this.sizeInfo.left = left;\n      this.sizeInfo.top = top;\n      return true;\n    }\n  }, {\n    key: \"_initBaseDoms\",\n    value: function _initBaseDoms() {\n      this.topBar = null;\n      this.leftBar = null;\n      this.rightBar = null;\n      if (this.config.marginControls) {\n        this.innerContainer = util.createDom(\"xg-video-container\", \"\", {\n          \"data-index\": -1\n        }, \"xg-video-container\");\n        this.root.appendChild(this.innerContainer);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this3 = this;\n      [\"focus\", \"blur\"].forEach(function(item) {\n        _this3.on(item, _this3[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n      });\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document && document.addEventListener(item, _this3.onFullscreenChange);\n      });\n      if (sniffer.os.isIos) {\n        this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n        this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n      }\n      this.once(LOADED_DATA, this.resize);\n      this.playFunc = function() {\n        if (!_this3.config.closeFocusVideoFocus) {\n          _this3.media.focus();\n        }\n      };\n      this.once(PLAY, this.playFunc);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      var _this4 = this;\n      this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document.removeEventListener(item, _this4.onFullscreenChange);\n      });\n      this.playFunc && this.off(PLAY, this.playFunc);\n      this.off(CANPLAY, this.canPlayFunc);\n      this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n  }, {\n    key: \"_clearUserTimer\",\n    value: function _clearUserTimer() {\n      if (!this.userTimer) {\n        return;\n      }\n      util.clearTimeout(this, this.userTimer);\n      this.userTimer = null;\n    }\n  }, {\n    key: \"_startInit\",\n    value: function _startInit(url) {\n      var _this5 = this;\n      if (!this.media) {\n        return;\n      }\n      if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n        url = \"\";\n        this.emit(URL_NULL);\n        XG_DEBUG.logWarn(\"config.url is null, please get url and run player._startInit(url)\");\n        if (this.config.nullUrlStart) {\n          return;\n        }\n      }\n      if (this.handleSource) {\n        this._detachSourceEvents(this.media);\n        if (util.typeOf(url) === \"Array\" && url.length > 0) {\n          this._attachSourceEvents(this.media, url);\n        } else if (!this.media.src || this.media.src !== url) {\n          this.media.src = url;\n        } else if (!url) {\n          this.media.removeAttribute(\"src\");\n        }\n      }\n      if (util.typeOf(this.config.volume) === \"Number\") {\n        this.volume = this.config.volume;\n      }\n      var _root = this.innerContainer ? this.innerContainer : this.root;\n      if (this.media instanceof window.Element && !_root.contains(this.media)) {\n        _root.insertBefore(this.media, _root.firstChild);\n      }\n      var readyState = this.media.readyState;\n      XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n      if (this.config.autoplay) {\n        !util.isMSE(this.media) && this.load();\n        (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n      }\n      var startTime = this.config.startTime;\n      this.__startTime = startTime > 0 ? startTime : -1;\n      this.config.startTime = 0;\n      if (readyState >= 2 && this.duration > 0) {\n        this.canPlayFunc();\n      } else {\n        this.on(CANPLAY, this.canPlayFunc);\n      }\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        pluginsManager.afterInit(this);\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHED);\n      util.setTimeout(this, function() {\n        _this5.emit(COMPLETE);\n      }, 0);\n    }\n  }, {\n    key: \"_registerPlugins\",\n    value: function _registerPlugins() {\n      var _this6 = this;\n      var isInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this._loadingPlugins = [];\n      var ignores = this.config.ignores || [];\n      var plugins = this.config.plugins || [];\n      var i18n = this.config.i18n || [];\n      isInit && I18N.extend(i18n, this.__i18n);\n      var ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n      var cuPlugins = this.plugins;\n      plugins.forEach(function(plugin) {\n        try {\n          var pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n          if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n            return null;\n          }\n          if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n            return;\n          }\n          if (plugin.lazy && plugin.loader) {\n            var loadingPlugin = pluginsManager.lazyRegister(_this6, plugin);\n            if (plugin.forceBeforeInit) {\n              loadingPlugin.then(function() {\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              }).catch(function(e) {\n                XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              });\n              _this6._loadingPlugins.push(loadingPlugin);\n            }\n            return;\n          }\n          return _this6.registerPlugin(plugin);\n        } catch (err) {\n          XG_DEBUG.logError(\"_registerPlugins:\", err);\n        }\n      });\n    }\n  }, {\n    key: \"_registerPresets\",\n    value: function _registerPresets() {\n      var _this7 = this;\n      this.config.presets.forEach(function(preset) {\n        usePreset(_this7, preset);\n      });\n    }\n  }, {\n    key: \"_getRootByPosition\",\n    value: function _getRootByPosition(position) {\n      var _root = null;\n      switch (position) {\n        case POSITIONS.ROOT_RIGHT:\n          if (!this.rightBar) {\n            this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n          }\n          _root = this.rightBar;\n          break;\n        case POSITIONS.ROOT_LEFT:\n          if (!this.leftBar) {\n            this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n          }\n          _root = this.leftBar;\n          break;\n        case POSITIONS.ROOT_TOP:\n          if (!this.topBar) {\n            this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n            if (this.config.topBarAutoHide) {\n              util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n            }\n          }\n          _root = this.topBar;\n          break;\n        default:\n          _root = this.innerContainer || this.root;\n          break;\n      }\n      return _root;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin, config) {\n      var _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n      var PLUFGIN = _retPlugin.PLUFGIN, options = _retPlugin.options;\n      var plugins = this.config.plugins;\n      var exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n      !exits && plugins.push(PLUFGIN);\n      var _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n      _pConfig.root && (options.root = _pConfig.root);\n      _pConfig.position && (options.position = _pConfig.position);\n      var position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n      if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n        var _this$controls;\n        return (_this$controls = this.controls) === null || _this$controls === void 0 ? void 0 : _this$controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n      }\n      if (!options.root) {\n        options.root = this._getRootByPosition(position);\n      }\n      return pluginsManager.register(this, PLUFGIN, options);\n    }\n  }, {\n    key: \"deregister\",\n    value: function deregister(plugin) {\n      if (typeof plugin === \"string\") {\n        pluginsManager.unRegister(this, plugin);\n      } else if (plugin instanceof BasePlugin) {\n        pluginsManager.unRegister(this, plugin.pluginName);\n      }\n    }\n  }, {\n    key: \"unRegisterPlugin\",\n    value: function unRegisterPlugin(plugin) {\n      var removedFromConfig = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      this.deregister(plugin);\n      if (removedFromConfig) {\n        this.removePluginFromConfig(plugin);\n      }\n    }\n  }, {\n    key: \"removePluginFromConfig\",\n    value: function removePluginFromConfig(plugin) {\n      var pluginName;\n      if (typeof plugin === \"string\") {\n        pluginName = plugin;\n      } else if (plugin instanceof BasePlugin) {\n        pluginName = plugin.pluginName;\n      }\n      if (!pluginName) {\n        return;\n      }\n      for (var i = this.config.plugins.length - 1; i > -1; i--) {\n        var _plugin = this.config.plugins[i];\n        if (_plugin.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n          this.config.plugins.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return pluginsManager.getPlugins(this);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(pluginName) {\n      var plugin = pluginsManager.findPlugin(this, pluginName);\n      return plugin && plugin.pluginName ? plugin : null;\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass(className) {\n      if (!this.root) {\n        return;\n      }\n      if (!util.hasClass(this.root, className)) {\n        util.addClass(this.root, className);\n      }\n    }\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(className) {\n      if (!this.root) {\n        return;\n      }\n      util.removeClass(this.root, className);\n    }\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(className) {\n      if (!this.root) {\n        return;\n      }\n      return util.hasClass(this.root, className);\n    }\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.setAttribute(key, value);\n    }\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.removeAttribute(key, value);\n    }\n  }, {\n    key: \"start\",\n    value: function start(url) {\n      var _this8 = this;\n      if (this.state > STATES.ATTACHING) {\n        return;\n      }\n      if (!url && !this.config.url) {\n        this.getInitDefinition();\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHING);\n      this._registerPlugins(false);\n      return pluginsManager.beforeInit(this).then(function() {\n        if (!_this8.config) {\n          return;\n        }\n        if (!url) {\n          url = _this8.url || _this8.config.url;\n        }\n        var _furl = _this8.preProcessUrl(url);\n        var ret = _this8._startInit(_furl.url);\n        return ret;\n      }).catch(function(e) {\n        e.fileName = \"player\";\n        e.lineNumber = \"236\";\n        XG_DEBUG.logError(\"start:beforeInit:\", e);\n        throw e;\n      });\n    }\n  }, {\n    key: \"switchURL\",\n    value: function switchURL(url, options) {\n      var _this9 = this;\n      var _src = url;\n      if (util.typeOf(url) === \"Object\") {\n        _src = url.url;\n      }\n      _src = this.preProcessUrl(_src).url;\n      var curTime = this.currentTime;\n      this.__startTime = curTime;\n      var isPaused = this.paused && !this.isError;\n      this.src = _src;\n      return new Promise(function(resolve, reject) {\n        var _error = function _error2(e) {\n          _this9.off(\"timeupdate\", _canplay);\n          _this9.off(\"canplay\", _canplay);\n          reject(e);\n        };\n        var _canplay = function _canplay2() {\n          _this9._seekToStartTime();\n          if (isPaused) {\n            _this9.pause();\n          }\n          _this9.off(\"error\", _error);\n          resolve(true);\n        };\n        _this9.once(\"error\", _error);\n        if (!_src) {\n          _this9.errorHandler(\"error\", {\n            code: 6,\n            message: \"empty_src\"\n          });\n          return;\n        }\n        if (sniffer.os.isAndroid) {\n          _this9.once(\"timeupdate\", _canplay);\n        } else {\n          _this9.once(\"canplay\", _canplay);\n        }\n        _this9.play();\n      });\n    }\n  }, {\n    key: \"videoPlay\",\n    value: function videoPlay() {\n      this.mediaPlay();\n    }\n  }, {\n    key: \"mediaPlay\",\n    value: function mediaPlay() {\n      var _this10 = this;\n      if (!this.hasStart && this.state < STATES.ATTACHED) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.addClass(STATE_CLASS.ENTER);\n        this.start();\n        this._useAutoplay = true;\n        return;\n      }\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n      }\n      var playPromise = _get(_getPrototypeOf(Player2.prototype), \"play\", this).call(this);\n      if (playPromise !== void 0 && playPromise && playPromise.then) {\n        playPromise.then(function() {\n          _this10.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          _this10.addClass(STATE_CLASS.PLAYING);\n          if (_this10.state < STATES.RUNNING) {\n            XG_DEBUG.logInfo(\">>>>playPromise.then\");\n            _this10.setState(STATES.RUNNING);\n            _this10.emit(AUTOPLAY_STARTED);\n          }\n        }).catch(function(e) {\n          XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n          if (_this10.media && _this10.media.error) {\n            _this10.onError();\n            _this10.removeClass(STATE_CLASS.ENTER);\n            return;\n          }\n          if (e.name === \"NotAllowedError\") {\n            _this10._errorTimer = util.setTimeout(_this10, function() {\n              _this10._errorTimer = null;\n              _this10.emit(AUTOPLAY_PREVENTED);\n              _this10.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              _this10.removeClass(STATE_CLASS.ENTER);\n              _this10.pause();\n              _this10.setState(STATES.NOTALLOW);\n            }, 0);\n          }\n        });\n      } else {\n        XG_DEBUG.logWarn(\"video.play not return promise\");\n        if (this.state < STATES.RUNNING) {\n          this.setState(STATES.RUNNING);\n          this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          this.removeClass(STATE_CLASS.NO_START);\n          this.removeClass(STATE_CLASS.ENTER);\n          this.addClass(STATE_CLASS.PLAYING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }\n      return playPromise;\n    }\n  }, {\n    key: \"mediaPause\",\n    value: function mediaPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"videoPause\",\n    value: function videoPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this11 = this;\n      this.removeClass(STATE_CLASS.PAUSED);\n      return runHooks(this, \"play\", function() {\n        return _this11.mediaPlay();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this12 = this;\n      runHooks(this, \"pause\", function() {\n        _get(_getPrototypeOf(Player2.prototype), \"pause\", _this12).call(_this12);\n      });\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time, status) {\n      var _this13 = this;\n      if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n        return;\n      }\n      var _this$config4 = this.config, isSeekedPlay = _this$config4.isSeekedPlay, seekedStatus = _this$config4.seekedStatus;\n      var _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n      time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n      !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n      this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n      this._onceSeekCanplay = function() {\n        _this13.removeClass(STATE_CLASS.ENTER);\n        _this13.isSeeking = false;\n        switch (_status) {\n          case \"play\":\n            _this13.play();\n            break;\n          case \"pause\":\n            _this13.pause();\n            break;\n          default:\n            _this13._isPauseBeforeSeek > 1 || _this13.paused ? _this13.pause() : _this13.play();\n        }\n        _this13._isPauseBeforeSeek = 0;\n        _this13._onceSeekCanplay = null;\n      };\n      this.once(SEEKED, this._onceSeekCanplay);\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.currentTime = time;\n        this.play();\n      } else {\n        this.currentTime = time;\n      }\n    }\n  }, {\n    key: \"getInitDefinition\",\n    value: function getInitDefinition() {\n      var _this14 = this;\n      var _this$config5 = this.config, definition = _this$config5.definition, url = _this$config5.url;\n      if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n        definition.list.map(function(item) {\n          if (item.definition === definition.defaultDefinition) {\n            _this14.config.url = item.url;\n            _this14.curDefinition = item;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      var _this15 = this;\n      var definition = this.config.definition;\n      if (Array.isArray(definition === null || definition === void 0 ? void 0 : definition.list)) {\n        definition.list.forEach(function(item) {\n          if ((to === null || to === void 0 ? void 0 : to.definition) === item.definition) {\n            _this15.curDefinition = item;\n          }\n        });\n      }\n      if (to !== null && to !== void 0 && to.bitrate && typeof to.bitrate !== \"number\") {\n        to.bitrate = parseInt(to.bitrate, 10) || 0;\n      }\n      this.emit(DEFINITION_CHANGE, {\n        from,\n        to\n      });\n      if (!this.hasStart) {\n        this.config.url = to.url;\n        return;\n      }\n      var ret = this.switchURL(to.url, _objectSpread2({\n        seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\"\n      }, to));\n      if (ret && ret.then) {\n        ret.then(function() {\n          _this15.emit(AFTER_DEFINITION_CHANGE, {\n            from,\n            to\n          });\n        });\n      } else {\n        this.emit(AFTER_DEFINITION_CHANGE, {\n          from,\n          to\n        });\n      }\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      this.load();\n      this.reloadFunc = function() {\n        this.play();\n      };\n      this.once(LOADED_DATA, this.reloadFunc);\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      var _this16 = this;\n      var NOT_ALLOW_AUTOPLAY = STATE_CLASS.NOT_ALLOW_AUTOPLAY, PLAYING = STATE_CLASS.PLAYING, NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, REPLAY2 = STATE_CLASS.REPLAY, ENTER = STATE_CLASS.ENTER, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, LOADING2 = STATE_CLASS.LOADING;\n      var clsList = [NOT_ALLOW_AUTOPLAY, PLAYING, NO_START, PAUSED, REPLAY2, ENTER, ENDED, ERROR2, LOADING2];\n      this.hasStart = false;\n      this.isError = false;\n      this._useAutoplay = false;\n      this.mediaPause();\n      this._accPlayed.acc = 0;\n      this._accPlayed.t = 0;\n      this._accPlayed.loopAcc = 0;\n      clsList.forEach(function(cls) {\n        _this16.removeClass(cls);\n      });\n      this.addClass(STATE_CLASS.NO_START);\n      this.emit(RESET);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this17 = this;\n      var unregisterPlugins = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var isResetConfig = arguments.length > 1 ? arguments[1] : void 0;\n      this.resetState();\n      var plugins = this.plugins;\n      if (!plugins) {\n        return;\n      }\n      unregisterPlugins.map(function(pn) {\n        _this17.deregister(pn);\n      });\n      if (isResetConfig) {\n        var de = getDefaultConfig();\n        Object.keys(this.config).keys(function(k) {\n          if (_this17.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n            _this17.config[k] = de[k];\n          }\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _instManager2, _this18 = this;\n      var innerContainer = this.innerContainer, root = this.root, media = this.media;\n      if (!root || !media) {\n        return;\n      }\n      this.hasStart = false;\n      this._useAutoplay = false;\n      root.removeAttribute(PLATER_ID);\n      media.removeAttribute(PLATER_ID);\n      this.updateAcc(\"destroy\");\n      this._unbindEvents();\n      this._detachSourceEvents(this.media);\n      util.clearAllTimers(this);\n      this.emit(DESTROY);\n      (_instManager2 = instManager) === null || _instManager2 === void 0 ? void 0 : _instManager2.remove(this);\n      pluginsManager.destroy(this);\n      delHooksDescriptor(this);\n      _get(_getPrototypeOf(Player2.prototype), \"destroy\", this).call(this);\n      if (this.fullscreen && this._fullscreenEl === this.root) {\n        this.exitFullscreen();\n      }\n      if (innerContainer) {\n        var _c = innerContainer.children;\n        for (var i = 0; i < _c.length; i++) {\n          innerContainer.removeChild(_c[i]);\n        }\n      }\n      !innerContainer && media instanceof window.Node && root.contains(media) && !this.config.remainMediaAfterDestroy && root.removeChild(media);\n      [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map(function(item) {\n        _this18[item] && root.removeChild(_this18[item]);\n        _this18[item] = null;\n      });\n      var cList = root.className.split(\" \");\n      if (cList.length > 0) {\n        root.className = cList.filter(function(name) {\n          return name.indexOf(\"xgplayer\") < 0;\n        }).join(\" \");\n      } else {\n        root.className = \"\";\n      }\n      this.removeAttribute(\"data-xgfill\");\n      [\"isSeeking\", \"isCanplay\", \"isActive\", \"cssfullscreen\", \"fullscreen\"].forEach(function(key) {\n        _this18[key] = false;\n      });\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      var _this19 = this;\n      this.removeClass(STATE_CLASS.ENDED);\n      this.currentTime = 0;\n      this.isSeeking = false;\n      runHooks(this, \"replay\", function() {\n        _this19.once(SEEKED, function() {\n          var playPromise = _this19.mediaPlay();\n          if (playPromise && playPromise.catch) {\n            playPromise.catch(function(err) {\n              console.log(err);\n            });\n          }\n        });\n        _this19.emit(REPLAY);\n        _this19.onPlay();\n      });\n    }\n  }, {\n    key: \"retry\",\n    value: function retry() {\n      var _this20 = this;\n      this.removeClass(STATE_CLASS.ERROR);\n      this.addClass(STATE_CLASS.LOADING);\n      runHooks(this, \"retry\", function() {\n        var cur = _this20.currentTime;\n        var url = _this20.config.url;\n        var _srcRet = !util.isMSE(_this20.media) ? _this20.preProcessUrl(url) : {\n          url\n        };\n        _this20.src = _srcRet.url;\n        !_this20.config.isLive && (_this20.currentTime = cur);\n        _this20.once(CANPLAY, function() {\n          _this20.mediaPlay();\n        });\n      });\n    }\n  }, {\n    key: \"changeFullStyle\",\n    value: function changeFullStyle(root, el, rootClass, pClassName) {\n      if (!root) {\n        return;\n      }\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (!this._orgCss) {\n        this._orgCss = util.filterStyleFromText(root);\n      }\n      util.addClass(root, rootClass);\n      if (el && el !== root && !this._orgPCss) {\n        this._orgPCss = util.filterStyleFromText(el);\n        util.addClass(el, pClassName);\n        el.setAttribute(PLATER_ID, this.playerId);\n      }\n    }\n  }, {\n    key: \"recoverFullStyle\",\n    value: function recoverFullStyle(root, el, rootClass, pClassName) {\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (this._orgCss) {\n        util.setStyleFromCsstext(root, this._orgCss);\n        this._orgCss = \"\";\n      }\n      util.removeClass(root, rootClass);\n      if (el && el !== root && this._orgPCss) {\n        util.setStyleFromCsstext(el, this._orgPCss);\n        this._orgPCss = \"\";\n        util.removeClass(el, pClassName);\n        el.removeAttribute(PLATER_ID);\n      }\n    }\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      var root = this.root, media = this.media;\n      if (el === \"video\" || el === \"media\") {\n        el = this[el];\n      }\n      if (!el) {\n        el = root;\n      }\n      this._fullScreenOffset = {\n        top: util.scrollTop(),\n        left: util.scrollLeft()\n      };\n      this._fullscreenEl = el;\n      this._fullActionFrom = \"get\";\n      var fullEl = util.getFullScreenEl();\n      if (fullEl === this._fullscreenEl) {\n        this.onFullscreenChange();\n        return Promise.resolve();\n      }\n      try {\n        for (var i = 0; i < GET_FULLSCREEN_API.length; i++) {\n          var key = GET_FULLSCREEN_API[i];\n          if (el[key]) {\n            var ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n          media.webkitEnterFullscreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(el) {\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      }\n      if (!this._fullscreenEl && !util.getFullScreenEl()) {\n        return;\n      }\n      this.root;\n      var media = this.media;\n      this._fullActionFrom = \"exit\";\n      try {\n        for (var i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n          var key = EXIT_FULLSCREEN_API[i];\n          if (document[key]) {\n            var ret = document[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media && media.webkitSupportsFullscreen) {\n          media.webkitExitFullScreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"getCssFullscreen\",\n    value: function getCssFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      } else if (this.fullscreen) {\n        this.exitFullscreen();\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      this.changeFullStyle(this.root, el, _class);\n      var _this$config$fullscre = this.config.fullscreen, fullscreen = _this$config$fullscre === void 0 ? {} : _this$config$fullscre;\n      var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.fullscreen = true;\n        this.emit(FULLSCREEN_CHANGE, true);\n      }\n      this._cssfullscreenEl = el;\n      this.cssfullscreen = true;\n      this.emit(CSS_FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitCssFullscreen\",\n    value: function exitCssFullscreen() {\n      var _class = this._cssfullscreenEl ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      if (!this.fullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n      } else {\n        var _this$config$fullscre2 = this.config.fullscreen, fullscreen = _this$config$fullscre2 === void 0 ? {} : _this$config$fullscre2;\n        var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n        if (useCssFullscreen) {\n          this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n          this.fullscreen = false;\n          this.emit(FULLSCREEN_CHANGE, false);\n        } else {\n          this.removeClass(_class);\n        }\n      }\n      this._cssfullscreenEl = null;\n      this.cssfullscreen = false;\n      this.emit(CSS_FULLSCREEN_CHANGE, false);\n    }\n  }, {\n    key: \"getRotateFullscreen\",\n    value: function getRotateFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.cssfullscreen) {\n        this.exitCssFullscreen(el);\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this._fullscreenEl = el || this.root;\n      this.changeFullStyle(this.root, el, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = true;\n      this.fullscreen = true;\n      this.setRotateDeg(90);\n      this._rootStyle = this.root.getAttribute(\"style\");\n      this.root.style.width = \"\".concat(window.innerHeight, \"px\");\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitRotateFullscreen\",\n    value: function exitRotateFullscreen(el) {\n      var _class = this._fullscreenEl !== this.root ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this.recoverFullStyle(this.root, this._fullscreenEl, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = false;\n      this.fullscreen = false;\n      this.setRotateDeg(0);\n      this.emit(FULLSCREEN_CHANGE, false);\n      if (this._rootStyle) {\n        this.root.style.style = this._rootStyle;\n        this._rootStyle = false;\n      }\n    }\n  }, {\n    key: \"setRotateDeg\",\n    value: function setRotateDeg(deg) {\n      if (window.orientation === 90 || window.orientation === -90) {\n        this.rotateDeg = 0;\n      } else {\n        this.rotateDeg = deg;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: !this.config.closeDelayBlur,\n        delay: this.config.inactive\n      };\n      if (this.isActive) {\n        this.onFocus(data);\n        return;\n      }\n      this.emit(PLAYER_FOCUS, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        ignorePaused: false\n      };\n      if (!this.isActive) {\n        this.onBlur(data);\n        return;\n      }\n      this._clearUserTimer();\n      this.emit(PLAYER_BLUR, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      var _this21 = this;\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: true,\n        delay: 3e3\n      };\n      var innerStates = this.innerStates;\n      this.isActive = true;\n      this.removeClass(STATE_CLASS.INACTIVE);\n      this._clearUserTimer();\n      if (data.isLock !== void 0) {\n        innerStates.isActiveLocked = data.isLock;\n      }\n      if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n        this._clearUserTimer();\n        return;\n      }\n      var time = data && data.delay ? data.delay : this.config.inactive;\n      this.userTimer = util.setTimeout(this, function() {\n        _this21.userTimer = null;\n        _this21.blur();\n      }, time);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref$ignorePaused = _ref.ignorePaused, ignorePaused = _ref$ignorePaused === void 0 ? false : _ref$ignorePaused;\n      if (this.innerStates.isActiveLocked) {\n        return;\n      }\n      var closePauseVideoFocus = this.config.closePauseVideoFocus;\n      this.isActive = false;\n      if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n        this.addClass(STATE_CLASS.INACTIVE);\n      }\n    }\n  }, {\n    key: \"onEmptied\",\n    value: function onEmptied() {\n      this.updateAcc(\"emptied\");\n    }\n  }, {\n    key: \"onCanplay\",\n    value: function onCanplay() {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.ERROR);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.isCanplay = true;\n      this.waitTimer && util.clearTimeout(this, this.waitTimer);\n    }\n  }, {\n    key: \"onLoadeddata\",\n    value: function onLoadeddata() {\n      var _this22 = this;\n      this.isError = false;\n      this.isSeeking = false;\n      if (this.__startTime > 0) {\n        if (this.duration > 0) {\n          this._seekToStartTime();\n        } else {\n          this.once(DURATION_CHANGE, function() {\n            _this22._seekToStartTime();\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onLoadstart\",\n    value: function onLoadstart() {\n      this.removeClass(STATE_CLASS.ERROR);\n      this.isCanplay = false;\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (this.state === STATES.ENDED) {\n        this.setState(STATES.RUNNING);\n      }\n      this.removeClass(STATE_CLASS.PAUSED);\n      this.ended && this.removeClass(STATE_CLASS.ENDED);\n      !this.config.closePlayVideoFocus && this.focus();\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.addClass(STATE_CLASS.PAUSED);\n      this.updateAcc(\"pause\");\n      if (!this.config.closePauseVideoFocus) {\n        this._clearUserTimer();\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.updateAcc(\"ended\");\n      this.addClass(STATE_CLASS.ENDED);\n      this.setState(STATES.ENDED);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.isError = true;\n      this.updateAcc(\"error\");\n      this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n      this.removeClass(STATE_CLASS.NO_START);\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.addClass(STATE_CLASS.ERROR);\n    }\n  }, {\n    key: \"onSeeking\",\n    value: function onSeeking() {\n      if (!this.isSeeking) {\n        this.updateAcc(\"seeking\");\n      }\n      this.isSeeking = true;\n      this.addClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.isSeeking = false;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.removeClass(STATE_CLASS.LOADING);\n      this.removeClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onWaiting\",\n    value: function onWaiting() {\n      var _this23 = this;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.updateAcc(\"waiting\");\n      this.waitTimer = util.setTimeout(this, function() {\n        _this23.addClass(STATE_CLASS.LOADING);\n        _this23.emit(LOADING);\n        util.clearTimeout(_this23, _this23.waitTimer);\n        _this23.waitTimer = null;\n      }, this.config.minWaitDelay);\n    }\n  }, {\n    key: \"onPlaying\",\n    value: function onPlaying() {\n      var _this24 = this;\n      this.isError = false;\n      var NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, REPLAY2 = STATE_CLASS.REPLAY, LOADING2 = STATE_CLASS.LOADING;\n      var clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING2];\n      clsList.forEach(function(cls) {\n        _this24.removeClass(cls);\n      });\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate() {\n      !this._videoHeight && this.media.videoHeight && this.resize();\n      if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n        this.removeClass(STATE_CLASS.LOADING);\n        util.clearTimeout(this, this.waitTimer);\n        this.waitTimer = null;\n      }\n      if (!this.paused && this.state === STATES.NOTALLOW && this.duration) {\n        this.setState(STATES.RUNNING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onVolumechange\",\n    value: function onVolumechange() {\n      util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n    }\n  }, {\n    key: \"onRatechange\",\n    value: function onRatechange() {\n      this.config.defaultPlaybackRate = this.playbackRate;\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action, params) {\n      if (!this.media || !action || !event) {\n        return;\n      }\n      var eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n      if (params.props && util.typeOf(params.props) !== \"Array\") {\n        params.props = [params.props];\n      }\n      this.emit(USER_ACTION, _objectSpread2({\n        eventType,\n        action,\n        currentTime: this.currentTime,\n        duration: this.duration,\n        ended: this.ended,\n        event\n      }, params));\n    }\n  }, {\n    key: \"updateAcc\",\n    value: function updateAcc(endType) {\n      if (this._accPlayed.t) {\n        var _at = new Date().getTime() - this._accPlayed.t;\n        this._accPlayed.acc += _at;\n        this._accPlayed.t = 0;\n        if (endType === \"ended\" || this.ended) {\n          this._accPlayed.loopAcc = this._accPlayed.acc;\n        }\n      }\n    }\n  }, {\n    key: \"checkBuffer\",\n    value: function checkBuffer(time) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        startDiff: 0,\n        endDiff: 0\n      };\n      var _ref2 = options || {}, _ref2$startDiff = _ref2.startDiff, startDiff = _ref2$startDiff === void 0 ? 0 : _ref2$startDiff, _ref2$endDiff = _ref2.endDiff, endDiff = _ref2$endDiff === void 0 ? 0 : _ref2$endDiff;\n      var buffered = this.media.buffered;\n      if (!buffered || buffered.length === 0 || !this.duration) {\n        return true;\n      }\n      var currentTime = time || this.media.currentTime || 0.2;\n      var len = buffered.length;\n      for (var i = 0; i < len; i++) {\n        if (buffered.start(i) + startDiff <= currentTime && buffered.end(i) - endDiff > currentTime) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"resizePosition\",\n    value: function resizePosition() {\n      var _this25 = this;\n      var _this$videoPos = this.videoPos, vy = _this$videoPos.vy, vx = _this$videoPos.vx, h = _this$videoPos.h, w = _this$videoPos.w;\n      var rotate = this.videoPos.rotate;\n      if (rotate < 0 && h < 0 && w < 0) {\n        return;\n      }\n      var _pi = this.videoPos._pi;\n      if (!_pi && this.media.videoHeight) {\n        _pi = this.media.videoWidth / this.media.videoHeight * 100;\n      }\n      if (!_pi) {\n        return;\n      }\n      this.videoPos.pi = _pi;\n      rotate = rotate < 0 ? 0 : rotate;\n      var _pos = {\n        rotate\n      };\n      var offsetY = 0;\n      var offsetX = 0;\n      var scale = 1;\n      var _t = Math.abs(rotate / 90);\n      var root = this.root, innerContainer = this.innerContainer;\n      var width = root.offsetWidth;\n      var height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n      var styles = {};\n      var rHeight = height;\n      var rWidth = width;\n      if (_t % 2 === 0) {\n        scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n        _pos.scale = scale;\n        offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n        _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n        offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n        _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n        styles.width = \"\".concat(rWidth, \"px\");\n        styles.height = \"\".concat(rHeight, \"px\");\n        styles.maxWidth = \"\";\n        styles.maxHeight = \"\";\n      } else if (_t % 2 === 1) {\n        rWidth = height;\n        rHeight = width;\n        var offset = height - width;\n        offsetX = -offset / 2 / rWidth * 100;\n        _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n        offsetY = offset / 2 / rHeight * 100;\n        _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n        _pos.scale = scale;\n        styles.width = \"\".concat(rWidth, \"px\");\n        styles.maxWidth = \"\".concat(rWidth, \"px\");\n        styles.height = \"\".concat(rHeight, \"px\");\n        styles.maxHeight = \"\".concat(rHeight, \"px\");\n      }\n      var formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n      styles.transform = formStyle;\n      styles.webkitTransform = formStyle;\n      Object.keys(styles).map(function(key) {\n        _this25.media.style[key] = styles[key];\n      });\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        h: 0,\n        y: 0,\n        x: 0,\n        w: 0\n      };\n      if (!this.media || !pos || !pos.h) {\n        return;\n      }\n      var videoPos = this.videoPos;\n      videoPos.h = pos.h * 100 || 0;\n      videoPos.w = pos.w * 100 || 0;\n      videoPos.vx = pos.x * 100 || 0;\n      videoPos.vy = pos.y * 100 || 0;\n      this.resizePosition();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this26 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        if (key !== \"plugins\") {\n          _this26.config[key] = config[key];\n          var plugin = _this26.plugins[key.toLowerCase()];\n          if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n            plugin.setConfig(config[key]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"playNext\",\n    value: function playNext(config) {\n      var _this27 = this;\n      this.resetState();\n      this.setConfig(config);\n      this._currentTime = 0;\n      this._duration = 0;\n      runHooks(this, \"playnext\", function() {\n        _this27.start();\n        _this27.emit(PLAYNEXT, config);\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this28 = this;\n      if (!this.media) {\n        return;\n      }\n      var containerSize = this.root.getBoundingClientRect();\n      this.sizeInfo.width = containerSize.width;\n      this.sizeInfo.height = containerSize.height;\n      this.sizeInfo.left = containerSize.left;\n      this.sizeInfo.top = containerSize.top;\n      var _this$media = this.media, videoWidth = _this$media.videoWidth, videoHeight = _this$media.videoHeight;\n      var _this$config6 = this.config, fitVideoSize = _this$config6.fitVideoSize, videoFillMode = _this$config6.videoFillMode;\n      if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n        this.setAttribute(\"data-xgfill\", videoFillMode);\n      }\n      if (!videoHeight || !videoWidth) {\n        return;\n      }\n      this._videoHeight = videoHeight;\n      this._videoWidth = videoWidth;\n      var controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n      var width = containerSize.width;\n      var height = containerSize.height - controlsHeight;\n      var videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n      var fit = parseInt(width / height * 1e3, 10);\n      var rWidth = width;\n      var rHeight = height;\n      var _style = {};\n      if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n        rHeight = width / videoFit * 1e3;\n        if (this.config.fluid) {\n          _style.paddingTop = \"\".concat(rHeight * 100 / rWidth, \"%\");\n        } else {\n          _style.height = \"\".concat(rHeight + controlsHeight, \"px\");\n        }\n      } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n        rWidth = videoFit * height / 1e3;\n        _style.width = \"\".concat(rWidth, \"px\");\n      }\n      if (!this.fullscreen && !this.cssfullscreen) {\n        Object.keys(_style).forEach(function(key) {\n          _this28.root.style[key] = _style[key];\n        });\n      }\n      if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n        this.setAttribute(\"data-xgfill\", \"cover\");\n      }\n      var data = {\n        videoScale: videoFit,\n        vWidth: rWidth,\n        vHeight: rHeight,\n        cWidth: rWidth,\n        cHeight: rHeight + controlsHeight\n      };\n      this.resizePosition();\n      this.emit(VIDEO_RESIZE, data);\n    }\n  }, {\n    key: \"updateObjectPosition\",\n    value: function updateObjectPosition() {\n      var left = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      if (this.media.updateObjectPosition) {\n        this.media.updateObjectPosition(left, top);\n        return;\n      }\n      this.media.style.objectPosition = \"\".concat(left * 100, \"% \").concat(top * 100, \"%\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      XG_DEBUG.logInfo(\"setState\", \"state from:\".concat(STATE_ARRAY[this.state], \" to:\").concat(STATE_ARRAY[newState]));\n      this._state = newState;\n    }\n  }, {\n    key: \"preProcessUrl\",\n    value: function preProcessUrl(url, ext) {\n      var _this$config7 = this.config, preProcessUrl2 = _this$config7.preProcessUrl, preProcessUrlOptions = _this$config7.preProcessUrlOptions;\n      var processUrlOptions = Object.assign({}, preProcessUrlOptions, ext);\n      return !util.isBlob(url) && typeof preProcessUrl2 === \"function\" ? preProcessUrl2(url, processUrlOptions) : {\n        url\n      };\n    }\n  }, {\n    key: \"_seekToStartTime\",\n    value: function _seekToStartTime() {\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime > this.duration ? this.duration : this.__startTime;\n        this.__startTime = -1;\n      }\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"isFullscreen\",\n    get: function get() {\n      return this.fullscreen;\n    }\n  }, {\n    key: \"isCssfullScreen\",\n    get: function get() {\n      return this.cssfullscreen;\n    }\n  }, {\n    key: \"hasStart\",\n    get: function get() {\n      return this._hasStart;\n    },\n    set: function set(bool) {\n      if (typeof bool === \"boolean\") {\n        this._hasStart = bool;\n        if (bool === false) {\n          this.setState(STATES.READY);\n        }\n        this.emit(\"hasstart\");\n      }\n    }\n  }, {\n    key: \"isPlaying\",\n    get: function get() {\n      return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n    },\n    set: function set(value) {\n      if (value) {\n        this.setState(STATES.RUNNING);\n      } else {\n        this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n      }\n    }\n  }, {\n    key: \"definitionList\",\n    get: function get() {\n      if (!this.config || !this.config.definition) {\n        return [];\n      }\n      return this.config.definition.list || [];\n    },\n    set: function set(list) {\n      var _this29 = this;\n      var definition = this.config.definition;\n      var curDef = null;\n      var targetDef = null;\n      definition.list = list;\n      this.emit(\"resourceReady\", list);\n      list.forEach(function(item) {\n        var _this29$curDefinition;\n        if (((_this29$curDefinition = _this29.curDefinition) === null || _this29$curDefinition === void 0 ? void 0 : _this29$curDefinition.definition) === item.definition) {\n          curDef = item;\n        }\n        if (definition.defaultDefinition === item.definition) {\n          targetDef = item;\n        }\n      });\n      if (!targetDef && list.length > 0) {\n        targetDef = list[0];\n      }\n      curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n    }\n  }, {\n    key: \"videoFrameInfo\",\n    get: function get() {\n      var ret = {\n        total: 0,\n        dropped: 0,\n        corrupted: 0,\n        droppedRate: 0,\n        droppedDuration: 0\n      };\n      if (!this.media || !this.media.getVideoPlaybackQuality) {\n        return ret;\n      }\n      var _quality = this.media.getVideoPlaybackQuality();\n      ret.dropped = _quality.droppedVideoFrames || 0;\n      ret.total = _quality.totalVideoFrames || 0;\n      ret.corrupted = _quality.corruptedVideoFrames || 0;\n      if (ret.total > 0) {\n        ret.droppedRate = ret.dropped / ret.total * 100;\n        ret.droppedDuration = parseInt(this.cumulateTime / ret.total * ret.dropped, 0);\n      }\n      return ret;\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.config.lang;\n    },\n    set: function set(lang) {\n      var result = I18N.langKeys.filter(function(key) {\n        return key === lang;\n      });\n      if (result.length === 0 && lang !== \"zh\") {\n        console.error(\"Sorry, set lang fail, because the language [\".concat(lang, \"] is not supported now, list of all supported languages is [\").concat(I18N.langKeys.join(), \"] \"));\n        return;\n      }\n      this.config.lang = lang;\n      pluginsManager.setLang(lang, this);\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      var _l = this.config.lang;\n      if (_l === \"zh\") {\n        _l = \"zh-cn\";\n      }\n      return this.__i18n.lang[_l] || this.__i18n.lang.en;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.__i18n.textKeys || {};\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      return version;\n    }\n  }, {\n    key: \"playerId\",\n    get: function get() {\n      return this._pluginInfoId;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this.__url || this.config.url;\n    },\n    set: function set(url) {\n      this.__url = url;\n    }\n  }, {\n    key: \"poster\",\n    get: function get() {\n      return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n    },\n    set: function set(posterUrl) {\n      this.plugins.poster && this.plugins.poster.update(posterUrl);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"readyState\", this);\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      var key = _get(_getPrototypeOf(Player2.prototype), \"error\", this);\n      return this.i18n[key] || key;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"networkState\", this);\n    }\n  }, {\n    key: \"fullscreenChanging\",\n    get: function get() {\n      return !(this._fullScreenOffset === null);\n    }\n  }, {\n    key: \"cumulateTime\",\n    get: function get() {\n      var _this$_accPlayed = this._accPlayed, acc = _this$_accPlayed.acc, t = _this$_accPlayed.t;\n      return t ? new Date().getTime() - t + acc : acc;\n    }\n  }, {\n    key: \"zoom\",\n    get: function get() {\n      return this.config.zoom;\n    },\n    set: function set(value) {\n      this.config.zoom = value;\n    }\n  }, {\n    key: \"videoRotateDeg\",\n    get: function get() {\n      return this.videoPos.rotate;\n    },\n    set: function set(val) {\n      val = util.convertDeg(val);\n      if (val % 90 !== 0 || val === this.videoPos.rotate) {\n        return;\n      }\n      this.videoPos.rotate = val;\n      this.resizePosition();\n    }\n  }, {\n    key: \"avgSpeed\",\n    get: function get() {\n      return AVG_SPEED;\n    },\n    set: function set(val) {\n      AVG_SPEED = val;\n    }\n  }, {\n    key: \"realTimeSpeed\",\n    get: function get() {\n      return REAL_TIME_SPEED;\n    },\n    set: function set(val) {\n      REAL_TIME_SPEED = val;\n    }\n  }, {\n    key: \"offsetCurrentTime\",\n    get: function get() {\n      return this._offsetInfo.currentTime || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.currentTime = val;\n    }\n  }, {\n    key: \"offsetDuration\",\n    get: function get() {\n      return this._offsetInfo.duration || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.duration = val || 0;\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"usePluginHooks\",\n    value: function usePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n      return usePluginHooks.call.apply(usePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removePluginHooks\",\n    value: function removePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        args[_key2 - 3] = arguments[_key2];\n      }\n      return removePluginHooks.call.apply(removePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"setUserActive\",\n    value: function setUserActive(isActive, isMuted) {\n      var _instManager3;\n      if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n        this.addInnerOP(\"volumechange\");\n        if (util.typeOf(isMuted) === Boolean) {\n          this.muted = isMuted;\n        }\n      }\n      (_instManager3 = instManager) === null || _instManager3 === void 0 ? void 0 : _instManager3.setActive(this.playerId, isActive);\n    }\n  }], [{\n    key: \"debugger\",\n    get: function get() {\n      return XG_DEBUG.config.debug;\n    },\n    set: function set(value) {\n      XG_DEBUG.config.debug = value;\n    }\n  }, {\n    key: \"instManager\",\n    get: function get() {\n      return instManager;\n    },\n    set: function set(value) {\n      instManager = value;\n    }\n  }, {\n    key: \"getCurrentUserActivePlayerId\",\n    value: function getCurrentUserActivePlayerId() {\n      var _instManager4;\n      return (_instManager4 = instManager) === null || _instManager4 === void 0 ? void 0 : _instManager4.getActiveId();\n    }\n  }, {\n    key: \"setCurrentUserActive\",\n    value: function setCurrentUserActive(playerId, isActive) {\n      var _instManager5;\n      (_instManager5 = instManager) === null || _instManager5 === void 0 ? void 0 : _instManager5.setActive(playerId, isActive);\n    }\n  }, {\n    key: \"isHevcSupported\",\n    value: function isHevcSupported() {\n      return sniffer.isHevcSupported();\n    }\n  }, {\n    key: \"probeConfigSupported\",\n    value: function probeConfigSupported(info) {\n      return sniffer.probeConfigSupported(info);\n    }\n  }, {\n    key: \"install\",\n    value: function install(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      if (!Player2.plugins[name]) {\n        Player2.plugins[name] = descriptor;\n      }\n    }\n  }, {\n    key: \"use\",\n    value: function use(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      Player2.plugins[name] = descriptor;\n    }\n  }]);\n  return Player2;\n}(MediaProxy);\n_defineProperty(Player, \"defaultPreset\", null);\n_defineProperty(Player, \"XgVideoProxy\", null);\nPlayer.instManager = InstManager.getInstance();\nexport { Player as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ' <div class=\"xg-tips '.concat(isShow ? \"hide\" : \" \", '\" lang-key=\"').concat(plugin.i18nKeys[textKey], '\">\\n    ').concat(plugin.i18n[textKey], \"\\n    </div>\");\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Icon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Icon2, _Plugin);\n  var _super = _createSuper(Icon2);\n  function Icon2() {\n    var _this;\n    _classCallCheck(this, Icon2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseenter\", function(e) {\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseLeave\", function(e) {\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    return _this;\n  }\n  _createClass(Icon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.bind(\"mouseenter\", this._onMouseenter);\n      this.bind(\"mouseleave\", this._onMouseLeave);\n      if (this.config.disable) {\n        this.disable();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\"mouseenter\", this._onMouseenter);\n      this.unbind(\"mouseleave\", this._onMouseLeave);\n    }\n  }]);\n  return Icon2;\n}(Plugin);\nexport { Icon as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nvar CssFullScreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(CssFullScreen2, _IconPlugin);\n  var _super = _createSuper(CssFullScreen2);\n  function CssFullScreen2() {\n    _classCallCheck(this, CssFullScreen2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CssFullScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.cssFullscreen === \"boolean\") {\n        args.config.disable = !args.player.config.cssFullscreen;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      if (this.config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      this.initIcons();\n      this.on(CSS_FULLSCREEN_CHANGE, function(isCssfullScreen) {\n        _this.animate(isCssfullScreen);\n      });\n      this.btnClick = this.btnClick.bind(this);\n      this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      var contentIcon = this.find(\".xgplayer-icon\");\n      contentIcon.appendChild(icons.cssFullscreen);\n      contentIcon.appendChild(icons.exitCssFullscreen);\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var isCssfullScreen = this.player.isCssfullScreen;\n      this.emitUserAction(e, \"switch_cssfullscreen\", {\n        cssfullscreen: isCssfullScreen\n      });\n      if (!isCssfullScreen) {\n        this.player.getCssFullscreen();\n      } else {\n        this.player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      if (!this.root) {\n        return;\n      }\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      this.switchTips(isFullScreen);\n    }\n  }, {\n    key: \"switchTips\",\n    value: function switchTips(isFullScreen) {\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        cssFullscreen: {\n          icon: CssFullSceenSvg,\n          class: \"xg-get-cssfull\"\n        },\n        exitCssFullscreen: {\n          icon: ExitCssFullSceenSvg,\n          class: \"xg-exit-cssfull\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    `.concat(xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"cssFullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        target: null\n      };\n    }\n  }]);\n  return CssFullScreen2;\n}(Icon);\nexport { CssFullScreen as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nvar TopBackIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(TopBackIcon2, _Plugin);\n  var _super = _createSuper(TopBackIcon2);\n  function TopBackIcon2() {\n    _classCallCheck(this, TopBackIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TopBackIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.initIcons();\n      this.onClick = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this.config.onClick(e);\n      };\n      this.bind([\"click\", \"touchend\"], this.onClick);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenBack: {\n          icon: BackSVG,\n          class: \"xg-fullscreen-back\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(this.root, icons.screenBack);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-back\">\\n    </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"topbackicon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT_TOP,\n        index: 0\n      };\n    }\n  }]);\n  return TopBackIcon2;\n}(Plugin);\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nvar Fullscreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Fullscreen2, _IconPlugin);\n  var _super = _createSuper(Fullscreen2);\n  function Fullscreen2() {\n    var _this;\n    _classCallCheck(this, Fullscreen2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onOrientationChange\", function(e) {\n      if (_this.player.fullscreen && _this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          _this.player.setRotateDeg(0);\n        } else {\n          _this.player.setRotateDeg(90);\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(Fullscreen2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config, playerConfig = this.playerConfig;\n      if (config.disable) {\n        return;\n      }\n      if (config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      var fullEl = util.getFullScreenEl();\n      if (playerConfig.fullscreenTarget === fullEl) {\n        this.player.getFullscreen().catch(function(e) {\n        });\n      }\n      this.initIcons();\n      this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n        pre: function pre(e) {\n          var fullscreen = _this2.player.fullscreen;\n          _this2.emitUserAction(e, \"switch_fullscreen\", {\n            prop: \"fullscreen\",\n            from: fullscreen,\n            to: !fullscreen\n          });\n        }\n      });\n      this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n      this.on(FULLSCREEN_CHANGE, function(isFullScreen) {\n        var tipsDom = _this2.find(\".xg-tips\");\n        tipsDom && _this2.changeLangTextKey(tipsDom, isFullScreen ? _this2.i18nKeys.EXITFULLSCREEN_TIPS : _this2.i18nKeys.FULLSCREEN_TIPS);\n        _this2.animate(isFullScreen);\n      });\n      if (this.config.needBackIcon) {\n        this.topBackIcon = this.player.registerPlugin({\n          plugin: TopBackIcon,\n          options: {\n            config: {\n              onClick: function onClick(e) {\n                _this2.handleFullscreen(e);\n              }\n            }\n          }\n        });\n      }\n      if (sniffer.device === \"mobile\") {\n        window.addEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        fullscreen: {\n          icon: FullScreenSvg,\n          class: \"xg-get-fullscreen\"\n        },\n        exitFullscreen: {\n          icon: ExitFullScreenSvg,\n          class: \"xg-exit-fullscreen\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n      if (sniffer.device === \"mobile\") {\n        window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n      this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n    }\n  }, {\n    key: \"toggleFullScreen\",\n    value: function toggleFullScreen(e) {\n      if (e instanceof Event) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      var player = this.player, config = this.config;\n      var useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n      if (useCssFullscreen) {\n        if (player.fullscreen) {\n          player.exitCssFullscreen();\n        } else {\n          player.getCssFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.rotateFullscreen) {\n        if (player.fullscreen) {\n          player.exitRotateFullscreen();\n        } else {\n          player.getRotateFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n        config.switchCallback(player.fullscreen);\n      } else {\n        if (player.fullscreen) {\n          player.exitFullscreen();\n          if (config.useScreenOrientation) {\n            this.unlockScreen();\n          }\n        } else {\n          player.getFullscreen().catch(function(e2) {\n          });\n          if (config.useScreenOrientation && player.aspectRatio > 1) {\n            this.lockScreen(config.lockOrientationType);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      if (this.topBackIcon) {\n        if (isFullScreen) {\n          this.topBackIcon.show();\n          this.hide();\n        } else {\n          this.topBackIcon.hide();\n          this.show();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var langKey = \"FULLSCREEN_TIPS\";\n      return '<xg-icon class=\"xgplayer-fullscreen\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, langKey, this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }, {\n    key: \"lockScreen\",\n    value: function lockScreen(orientation) {\n      try {\n        screen.orientation.lock(orientation).catch(function(e) {\n        });\n      } catch (e) {\n      }\n    }\n  }, {\n    key: \"unlockScreen\",\n    value: function unlockScreen() {\n      try {\n        screen.orientation.unlock().catch(function(e) {\n        });\n      } catch (e) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"fullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 0,\n        useCssFullscreen: false,\n        rotateFullscreen: false,\n        useScreenOrientation: false,\n        lockOrientationType: \"landscape\",\n        switchCallback: null,\n        target: null,\n        disable: false,\n        needBackIcon: false\n      };\n    }\n  }]);\n  return Fullscreen2;\n}(Icon);\nexport { Fullscreen as default };\n","function PlayIcon() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlayIcon as default };\n","function PauseIcon() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ERROR, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlayIcon from \"../assets/play.js\";\nimport PauseIcon from \"../assets/pause.js\";\nvar Play = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Play2, _IconPlugin);\n  var _super = _createSuper(Play2);\n  function Play2() {\n    var _this;\n    _classCallCheck(this, Play2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"btnClick\", function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      _this.emitUserAction(e, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (player.ended) {\n        player.replay();\n      } else if (player.paused) {\n        player.play();\n        _this.animate(false);\n      } else {\n        player.pause();\n        _this.animate(true);\n      }\n      return false;\n    });\n    return _this;\n  }\n  _createClass(Play2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Play2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config;\n      if (config.disable) {\n        return;\n      }\n      this.initIcons();\n      this.bind([\"touchend\", \"click\"], this.btnClick);\n      this.listenEvents();\n      this.animate(true);\n    }\n  }, {\n    key: \"listenEvents\",\n    value: function listenEvents() {\n      var _this2 = this;\n      var player = this.player;\n      this.on([PLAY, PAUSE, ERROR, EMPTIED], function() {\n        _this2.animate(player.paused);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlayIcon,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseIcon,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.play);\n      this.appendChild(\".xgplayer-icon\", icons.pause);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(paused) {\n      if (!this.player) {\n        return;\n      }\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      if (paused) {\n        this.setAttr(\"data-state\", \"pause\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n      } else {\n        this.setAttr(\"data-state\", \"play\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Play2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"touchend\", \"click\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-play\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"play\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Play2;\n}(Icon);\nexport { Play as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar TPL = [{\n  tag: \"xg-cache\",\n  className: \"xgplayer-progress-cache\",\n  styleKey: \"cachedColor\"\n}, {\n  tag: \"xg-played\",\n  className: \"xgplayer-progress-played\",\n  styleKey: \"playedColor\"\n}];\nvar InnerList = /* @__PURE__ */ function() {\n  function InnerList2(args) {\n    _classCallCheck(this, InnerList2);\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({\n        percent: 1\n      });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  _createClass(InnerList2, [{\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this = this;\n      this.duration = duration;\n      var start = 0;\n      var fragments = this.fragments;\n      this.fragments = fragments.map(function(item) {\n        item.start = parseInt(start, 10);\n        item.end = parseInt(start + item.percent * _this.duration, 10);\n        item.duration = parseInt(item.percent * _this.duration, 10);\n        start += item.percent * _this.duration;\n        return item;\n      });\n    }\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"played\";\n      var data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        newIndex: 0,\n        curIndex: 0,\n        millisecond: 0\n      };\n      var progressList = this.progressList, fragments = this.fragments;\n      if (progressList.length < 1) {\n        return;\n      }\n      var newIndex = data.newIndex, curIndex = data.curIndex, millisecond = data.millisecond;\n      if (newIndex !== curIndex) {\n        progressList.map(function(item, index) {\n          if (index < newIndex) {\n            item[type].style.width = \"100%\";\n          } else if (index > newIndex) {\n            item[type].style.width = 0;\n          }\n        });\n      }\n      var curPFrag = fragments[newIndex];\n      var per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n      progressList[newIndex][type].style.width = per < 0 ? 0 : \"\".concat(per * 100, \"%\");\n    }\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus(data) {\n      if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n        return;\n      }\n      if (!data) {\n        if (this.focusIndex > -1) {\n          this.unHightLight(this.focusIndex);\n          var _data = {\n            index: -1,\n            preIndex: this.focusIndex,\n            fragment: null\n          };\n          this._callBack && this._callBack(_data);\n          this.focusIndex = -1;\n        }\n        return;\n      }\n      var newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n      if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n        this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n        this.setHightLight(newPIndex);\n        var _data2 = {\n          index: newPIndex,\n          preIndex: this.focusIndex,\n          fragment: this.fragments[this.focusIndex]\n        };\n        this.focusIndex = newPIndex;\n        this._callBack && this._callBack(_data2);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n        if (!duration && duration !== 0) {\n          return;\n        }\n        this.updateDuration(parseInt(duration * 1e3, 10));\n      }\n      var playedIndex = this.playedIndex, cachedIndex = this.cachedIndex;\n      if (util.typeOf(data.played) !== \"Undefined\") {\n        var newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n        if (newPIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"played\", {\n          newIndex: newPIndex,\n          curIndex: playedIndex,\n          millisecond: parseInt(data.played * 1e3, 10)\n        });\n        this.playedIndex = newPIndex;\n      }\n      if (util.typeOf(data.cached) !== \"Undefined\") {\n        var newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n        if (newCIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"cached\", {\n          newIndex: newCIndex,\n          curIndex: cachedIndex,\n          millisecond: parseInt(data.cached * 1e3, 10)\n        });\n        this.cachedIndex = newCIndex;\n      }\n    }\n  }, {\n    key: \"findIndex\",\n    value: function findIndex(time, curIndex) {\n      var fragments = this.fragments;\n      if (!fragments || fragments.length === 0) {\n        return -1;\n      }\n      if (fragments.length === 1) {\n        return 0;\n      }\n      if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n        return curIndex;\n      }\n      if (time > fragments[fragments.length - 1].start) {\n        return fragments.length - 1;\n      }\n      for (var i = 0; i < fragments.length; i++) {\n        if (time > fragments[i].start && time <= fragments[i].end) {\n          curIndex = i;\n          break;\n        }\n      }\n      return curIndex;\n    }\n  }, {\n    key: \"findHightLight\",\n    value: function findHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n          return {\n            dom: children[i],\n            pos: children[i].getBoundingClientRect()\n          };\n        }\n      }\n    }\n  }, {\n    key: \"findFragment\",\n    value: function findFragment(index) {\n      var children = this.root.children;\n      if (index < 0 || index >= children.length) {\n        return null;\n      }\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }, {\n    key: \"unHightLight\",\n    value: function unHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        util.removeClass(children[i], this.fragConfig.fragFocusClass);\n      }\n    }\n  }, {\n    key: \"setHightLight\",\n    value: function setHightLight(index) {\n      var children = this.root.children;\n      if (index < children.length) {\n        util.addClass(children[index], this.fragConfig.fragFocusClass);\n        return {\n          dom: children[index],\n          pos: children[index].getBoundingClientRect()\n        };\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.progressList = null;\n      this.fragments = null;\n      this.root.innerHTML = \"\";\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(newOptions) {\n      var _this2 = this;\n      Object.keys(this.fragConfig).forEach(function(key) {\n        if (newOptions[key] !== void 0) {\n          _this2.fragConfig[key] = newOptions[key];\n        }\n      });\n      if (newOptions.fragments) {\n        this.fragments = newOptions.fragments.length === 0 ? [{\n          percent: 1\n        }] : newOptions.fragments;\n        this.updateDuration(this.duration);\n        this.playedIndex = 0;\n        this.cachedIndex = 0;\n        if (this.root) {\n          var _c = this.root.children;\n          while (_c.length > 0) {\n            this.root.removeChild(_c[0]);\n          }\n        }\n        this.render();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var progressColor = this.style.progressColor;\n      if (!this.root) {\n        this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n      }\n      if (this.fragments) {\n        var _this$fragConfig = this.fragConfig, fragClass = _this$fragConfig.fragClass, fragFocusClass = _this$fragConfig.fragFocusClass;\n        this.progressList = this.fragments.map(function(item) {\n          var inner = util.createDom(\"xg-inner\", \"\", {\n            style: progressColor ? \"background:\".concat(progressColor, \"; flex: \").concat(item.percent) : \"flex: \".concat(item.percent)\n          }, \"\".concat(item.isFocus ? fragFocusClass : \"\", \" xgplayer-progress-inner \").concat(fragClass));\n          _this3.root.appendChild(inner);\n          TPL.forEach(function(item2) {\n            inner.appendChild(util.createDom(item2.tag, \"\", {\n              style: item2.styleKey ? \"background: \".concat(_this3.style[item2.styleKey], \"; width:0;\") : \"width:0;\"\n            }, item2.className));\n          });\n          return {\n            cached: inner.children[0],\n            played: inner.children[1]\n          };\n        });\n      }\n      return this.root;\n    }\n  }]);\n  return InnerList2;\n}();\nexport { InnerList as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nvar FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nvar Progress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Progress2, _Plugin);\n  var _super = _createSuper(Progress2);\n  function Progress2(args) {\n    var _this;\n    _classCallCheck(this, Progress2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMoveOnly\", function(e, data) {\n      var _assertThisInitialize = _assertThisInitialized(_this), pos = _assertThisInitialize.pos, config = _assertThisInitialize.config, player = _assertThisInitialize.player;\n      var ret = data;\n      if (e) {\n        util.event(e);\n        var _ePos = util.getEventPos(e, player.zoom);\n        var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = _this.computeTime(e, x);\n      }\n      _this.triggerCallbacks(\"dragmove\", ret, e);\n      _this._updateInnerFocus(ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyClick\", function(e) {\n      if (!_this.pos.isLocked) {\n        return;\n      }\n      _this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDownHandler\", function(event, data) {\n      _this._state.time = data.currentTime;\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseUpHandler\", function(e, data) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos;\n      pos.moving && _this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseMoveHandler\", function(e, data) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), _state = _assertThisInitialize3._state, pos = _assertThisInitialize3.pos, config = _assertThisInitialize3.config, player = _assertThisInitialize3.player;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        _this.triggerCallbacks(\"dragstart\", data, e);\n        _this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      _this.triggerCallbacks(\"dragmove\", data, e);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _state = _assertThisInitialize4._state, player = _assertThisInitialize4.player, pos = _assertThisInitialize4.pos, config = _assertThisInitialize4.config, playerConfig = _assertThisInitialize4.playerConfig;\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      _this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({\n        autoHide: false\n      });\n      _this.isProgressMoving = true;\n      util.addClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseDownHandlerHook(e, ret);\n      var eventType = e.type;\n      if (eventType === \"touchstart\") {\n        _this.root.addEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.addEventListener(\"touchend\", _this.onMouseUp);\n        _this.root.addEventListener(\"touchcancel\", _this.onMouseUp);\n      } else {\n        _this.unbind(\"mousemove\", _this.onMoveOnly);\n        document.addEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", _this.onMouseUp, false);\n      }\n      return true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function(e) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this), player = _assertThisInitialize5.player, config = _assertThisInitialize5.config, pos = _assertThisInitialize5.pos, playerConfig = _assertThisInitialize5.playerConfig, _state = _assertThisInitialize5._state;\n      if (!pos) {\n        return;\n      }\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        _this.triggerCallbacks(\"dragend\", ret, e);\n        _this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        _this.triggerCallbacks(\"click\", ret, e);\n        _this.emitUserAction(\"click\", \"click\", ret);\n      }\n      _this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      var eventType = e.type;\n      if (eventType === \"touchend\" || eventType === \"touchcancel\") {\n        _this.root.removeEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.removeEventListener(\"touchend\", _this.onMouseUp);\n        _this.root.removeEventListener(\"touchcancel\", _this.onMouseUp);\n        _this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n        if (!pos.isEnter) {\n          _this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && _this.bind(\"mousemove\", _this.onMoveOnly);\n        }\n      }\n      util.setTimeout(_assertThisInitialized(_this), function() {\n        _this.resetSeekState();\n      }, 1);\n      player.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize6 = _assertThisInitialized(_this), _state = _assertThisInitialize6._state, pos = _assertThisInitialize6.pos, player = _assertThisInitialize6.player, config = _assertThisInitialize6.config;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseMoveHandlerHook(e, ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOut\", function(e) {\n      _this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function(e) {\n      _this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize7 = _assertThisInitialized(_this), player = _assertThisInitialize7.player, pos = _assertThisInitialize7.pos;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      _this.bind(\"mousemove\", _this.onMoveOnly);\n      _this.bind(\"mouseleave\", _this.onMouseLeave);\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var ret = _this.computeTime(e, x);\n      _this.triggerCallbacks(\"mouseenter\", ret, e);\n      _this.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      _this.triggerCallbacks(\"mouseleave\", null, e);\n      _this.unlock();\n      _this._updateInnerFocus(null);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoResize\", function() {\n      var _this$pos = _this.pos, x = _this$pos.x, isDown = _this$pos.isDown, isEnter = _this$pos.isEnter;\n      if (isEnter && !isDown) {\n        var ret = _this.computeTime(null, x);\n        _this.onMoveOnly(null, ret);\n      }\n    });\n    _this.useable = false;\n    _this.isProgressMoving = false;\n    _this.__dragCallBacks = [];\n    _this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    _this._disableBlur = false;\n    if (typeof _this.config.isDragingSeek === \"boolean\") {\n      console.warn(\"[XGPLAYER] 'isDragingSeek' is deprecated, please use 'isDraggingSeek' instead\");\n      _this.config.isDraggingSeek = _this.config.isDragingSeek;\n    }\n    return _this;\n  }\n  _createClass(Progress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState() {\n      var useable = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this.useable = useable;\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      this.root && (this.root.style.display = \"flex\");\n    }\n  }, {\n    key: \"_initInner\",\n    value: function _initInner() {\n      var _this2 = this;\n      var fragments = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (!fragments || fragments.length === 0) {\n        fragments = [{\n          percent: 1\n        }];\n      }\n      var _c = _objectSpread2(_objectSpread2({\n        fragments\n      }, config), {}, {\n        actionCallback: function actionCallback(data) {\n          _this2.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n        }\n      });\n      if (!this.innerList) {\n        this.innerList = new InnerList(_c);\n        this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n        [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map(function(item) {\n          _this2[item] = _this2.innerList[item].bind(_this2.innerList);\n        });\n      } else {\n        this.innerList.reset(_c);\n      }\n    }\n  }, {\n    key: \"_updateInnerFocus\",\n    value: function _updateInnerFocus(data) {\n      this.innerList && this.innerList.updateFocus(data);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      this.pos = {\n        x: 0,\n        y: 0,\n        moving: false,\n        isDown: false,\n        isEnter: false,\n        isLocked: false\n      };\n      this.outer = this.find(\"xg-outer\");\n      var _this$config = this.config, fragFocusClass = _this$config.fragFocusClass, fragAutoFocus = _this$config.fragAutoFocus, fragClass = _this$config.fragClass;\n      this._initInner(this.config.fragments, {\n        fragFocusClass,\n        fragAutoFocus,\n        fragClass,\n        style: this.playerConfig.commonStyle || {}\n      });\n      if (sniffer.device === \"mobile\") {\n        this.config.isDraggingSeek = false;\n        this.isMobile = true;\n      }\n      this.progressBtn = this.find(\".xgplayer-progress-btn\");\n      this.listenEvents();\n      this.bindDomEvents();\n      this.initCustomStyle();\n    }\n  }, {\n    key: \"listenEvents\",\n    value: function listenEvents() {\n      var _this3 = this;\n      this.on(DURATION_CHANGE, function() {\n        _this3.onMouseLeave();\n      });\n      this.on(TIME_UPDATE, function() {\n        _this3.onTimeupdate();\n      });\n      this.on(SEEKED, function() {\n        _this3.onTimeupdate();\n        _this3.onCacheUpdate();\n      });\n      this.on(PROGRESS, function() {\n        _this3.onCacheUpdate();\n      });\n      this.on(ENDED, function() {\n        _this3.onCacheUpdate(true);\n        _this3.onTimeupdate(true);\n        _this3._state.now = 0;\n      });\n      this.on(EMPTIED, function() {\n        _this3.onReset();\n      });\n      this.on(VIDEO_RESIZE, function() {\n        _this3.onVideoResize();\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this4 = this;\n      var frags = null;\n      Object.keys(config).forEach(function(key) {\n        _this4.config[key] = config[key];\n        if (key === \"fragments\") {\n          frags = config[key];\n        }\n      });\n      if (frags) {\n        this._initInner(frags, config);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var sliderBtnStyle = commonStyle.sliderBtnStyle;\n      var progressBtn = this.progressBtn;\n      if (sliderBtnStyle) {\n        if (typeof sliderBtnStyle === \"string\") {\n          progressBtn.style.boxShadow = sliderBtnStyle;\n        } else if (_typeof(sliderBtnStyle) === \"object\") {\n          Object.keys(sliderBtnStyle).map(function(key) {\n            progressBtn.style[key] = sliderBtnStyle[key];\n          });\n        }\n      }\n    }\n  }, {\n    key: \"triggerCallbacks\",\n    value: function triggerCallbacks(type, data, event) {\n      if (this.__dragCallBacks.length > 0) {\n        this.__dragCallBacks.map(function(item) {\n          if (item && item.handler && item.type === type) {\n            try {\n              item.handler(data, event);\n            } catch (error) {\n              console.error(\"[XGPLAYER][triggerCallbacks] \".concat(item, \" error\"), error);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"addCallBack\",\n    value: function addCallBack(type, handle) {\n      if (handle && typeof handle === \"function\") {\n        this.__dragCallBacks.push({\n          type,\n          handler: handle\n        });\n      }\n    }\n  }, {\n    key: \"removeCallBack\",\n    value: function removeCallBack(type, event) {\n      var __dragCallBacks = this.__dragCallBacks;\n      var _index = -1;\n      __dragCallBacks.map(function(item, index) {\n        if (item && item.type === type && item.handler === event) {\n          _index = index;\n        }\n      });\n      if (_index > -1) {\n        __dragCallBacks.splice(_index, 1);\n      }\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      var player = this.player, pos = this.pos;\n      pos.isEnter = false;\n      pos.isLocked = false;\n      if (player.isMini) {\n        return;\n      }\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      if (pos.isDown) {\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        return;\n      }\n      this.blur();\n    }\n  }, {\n    key: \"bindDomEvents\",\n    value: function bindDomEvents() {\n      var config = this.player.config;\n      this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n      this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n      this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n      if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n        this.root.addEventListener(\"touchstart\", this.onMouseDown);\n      }\n      if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n        this.bind(\"mousedown\", this.onMouseDown);\n        config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseover\", this.onMouseOver);\n        this.bind(\"mouseout\", this.onMouseOut);\n        this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.controls.pauseAutoHide();\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this._disableBlur) {\n        return;\n      }\n      this.player.controls.recoverAutoHide();\n      util.removeClass(this.root, \"active\");\n    }\n  }, {\n    key: \"disableBlur\",\n    value: function disableBlur() {\n      this._disableBlur = true;\n    }\n  }, {\n    key: \"enableBlur\",\n    value: function enableBlur() {\n      this._disableBlur = false;\n    }\n  }, {\n    key: \"updateWidth\",\n    value: function updateWidth(currentTime, seekTime, percent, type) {\n      var config = this.config, player = this.player;\n      if (config.isCloseClickSeek && type === 0) {\n        return;\n      }\n      var realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n      this.updatePercent(percent);\n      this.updateTime(currentTime);\n      if (type === 1 && (!config.isDraggingSeek || player.config.mediaType === \"audio\")) {\n        return;\n      }\n      this._state.now = realTime;\n      this._state.direc = realTime > player.currentTime ? 0 : 1;\n      player.seek(realTime);\n    }\n  }, {\n    key: \"computeTime\",\n    value: function computeTime(e, x) {\n      var player = this.player;\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, top = _this$root$getBoundin.top, left = _this$root$getBoundin.left;\n      var rWidth, rLeft;\n      var clientX = x;\n      if (player.rotateDeg === 90) {\n        rWidth = height;\n        rLeft = top;\n      } else {\n        rWidth = width;\n        rLeft = left;\n      }\n      var offset = clientX - rLeft;\n      offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n      var percent = offset / rWidth;\n      percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n      if (Number.isNaN(percent)) {\n        percent = this.player.currentTime / this.offsetDuration;\n      }\n      var currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n      var seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n      return {\n        percent,\n        currentTime,\n        seekTime,\n        offset,\n        width: rWidth,\n        left: rLeft,\n        e\n      };\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      var player = this.player, duration = this.duration;\n      if (time > duration) {\n        time = duration;\n      } else if (time < 0) {\n        time = 0;\n      }\n      var timeIcon = player.plugins.time;\n      if (timeIcon) {\n        timeIcon.updateTime(time);\n      }\n    }\n  }, {\n    key: \"resetSeekState\",\n    value: function resetSeekState() {\n      this.isProgressMoving = false;\n      var timeIcon = this.player.plugins.time;\n      timeIcon && timeIcon.resetActive();\n    }\n  }, {\n    key: \"updatePercent\",\n    value: function updatePercent(percent, notSeek) {\n      this.isProgressMoving = true;\n      if (this.config.disable) {\n        return;\n      }\n      percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n      this.progressBtn.style.left = \"\".concat(percent * 100, \"%\");\n      this.innerList.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate(isEnded) {\n      var player = this.player, _state = this._state, offsetDuration = this.offsetDuration;\n      if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n        return;\n      }\n      if (_state.now > -1) {\n        var abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n        if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n          _state.now = -1;\n          return;\n        } else {\n          _state.now = -1;\n        }\n      }\n      var time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n      this.innerList.update({\n        played: time\n      }, offsetDuration);\n      this.progressBtn.style.left = \"\".concat(time / offsetDuration * 100, \"%\");\n    }\n  }, {\n    key: \"onCacheUpdate\",\n    value: function onCacheUpdate(isEnded) {\n      var player = this.player, duration = this.duration;\n      if (!player) {\n        return;\n      }\n      var _end = player.bufferedPoint.end;\n      _end = util.adjustTimeByDuration(_end, duration, isEnded);\n      this.innerList.update({\n        cached: _end\n      }, duration);\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.innerList.update({\n        played: 0,\n        cached: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.thumbnailPlugin = null;\n      this.innerList.destroy();\n      this.innerList = null;\n      var domEventType = this.domEventType;\n      if (domEventType === \"touch\" || domEventType === \"compatible\") {\n        this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n      }\n      if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n        this.unbind(\"mousedown\", this.onMouseDown);\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        player.root.removeEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      var controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n      var className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n      return '\\n    <xg-progress class=\"xgplayer-progress '.concat(className, '\">\\n      <xg-outer class=\"xgplayer-progress-outer\">\\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\\n      </xg-outer>\\n    </xg-progress>\\n    ');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_CENTER,\n        index: 0,\n        disable: false,\n        isDraggingSeek: true,\n        closeMoveSeek: false,\n        isPauseMoving: false,\n        isCloseClickSeek: false,\n        fragments: [{\n          percent: 1\n        }],\n        fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n        fragClass: \"\",\n        fragAutoFocus: false,\n        miniMoveStep: 5,\n        miniStartStep: 2,\n        onMoveStart: function onMoveStart() {\n        },\n        onMoveEnd: function onMoveEnd() {\n        },\n        endedDiff: 0.2\n      };\n    }\n  }, {\n    key: \"FRAGMENT_FOCUS_CLASS\",\n    get: function get() {\n      return FRAGMENT_FOCUS_CLASS;\n    }\n  }]);\n  return Progress2;\n}(Plugin);\nexport { Progress as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar Time = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Time2, _Plugin);\n  var _super = _createSuper(Time2);\n  function Time2(args) {\n    var _this;\n    _classCallCheck(this, Time2);\n    _this = _super.call(this, args);\n    _this.isActiving = false;\n    return _this;\n  }\n  _createClass(Time2, [{\n    key: \"duration\",\n    get: function get() {\n      var _this$player = this.player, offsetDuration = _this$player.offsetDuration, duration = _this$player.duration;\n      return this.playerConfig.customDuration || offsetDuration || duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player2 = this.player, offsetCurrentTime = _this$player2.offsetCurrentTime, currentTime = _this$player2.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var constrolsMode = this.player.controls.config.mode;\n      this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n      if (this.config.disable) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.createCenterTime();\n        this.root.style.display = \"none\";\n      }\n      this.durationDom = this.find(\".time-duration\");\n      this.timeDom = this.find(\".time-current\");\n      this.listenEvents();\n    }\n  }, {\n    key: \"listenEvents\",\n    value: function listenEvents() {\n      var _this2 = this;\n      this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], function(e) {\n        if (e.eventName === \"durationchange\") {\n          _this2.isActiving = false;\n        }\n        _this2.onTimeUpdate();\n      });\n      this.on(ENDED, function() {\n        _this2.onTimeUpdate(true);\n      });\n      this.on(EMPTIED, function() {\n        _this2.onReset();\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n        return;\n      }\n      this.root.style.display = \"block\";\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n        return;\n      }\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(isEnded) {\n      var player = this.player, config = this.config, duration = this.duration;\n      if (config.disable || this.isActiving || !player.hasStart) {\n        return;\n      }\n      var current = this.currentTime + this.timeOffset;\n      current = util.adjustTimeByDuration(current, duration, isEnded);\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.centerDurDom.innerHTML = util.format(duration);\n        }\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.durationDom.innerHTML = util.format(duration);\n        }\n      }\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n        this.centerDurDom.innerHTML = util.format(0);\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n        this.durationDom.innerHTML = util.format(0);\n      }\n    }\n  }, {\n    key: \"createCenterTime\",\n    value: function createCenterTime() {\n      var player = this.player;\n      if (!player.controls || !player.controls.center) {\n        return;\n      }\n      var center = player.controls.center;\n      this.centerCurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-left\");\n      this.centerDurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-right\");\n      center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n      center.appendChild(this.centerDurDom);\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n      var config = this.config;\n      if (this.duration === Infinity || this.playerConfig.isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n      }\n      if (config.hide) {\n        this.hide();\n        return;\n      }\n      this.show();\n    }\n  }, {\n    key: \"changeLiveState\",\n    value: function changeLiveState(isLive) {\n      if (isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n        util.show(this.find(\".time-separator\"));\n        util.show(this.durationDom);\n        util.show(this.timeDom);\n      }\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      this.isActiving = true;\n      if (!time && time !== 0 || time > this.duration) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n        return;\n      }\n      this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n    }\n  }, {\n    key: \"minWidthTime\",\n    value: function minWidthTime(timeStr) {\n      return timeStr.split(\":\").map(function(value) {\n        return '<span class=\"time-min-width\">'.concat(value, \"</span>\");\n      }).join(\":\");\n    }\n  }, {\n    key: \"resetActive\",\n    value: function resetActive() {\n      var _this3 = this;\n      var player = this.player;\n      var updateState = function updateState2() {\n        _this3.isActiving = false;\n      };\n      this.off(SEEKED, updateState);\n      if (player.isSeeking && player.media.seeking) {\n        this.once(SEEKED, updateState);\n      } else {\n        this.isActiving = false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var center = this.player.controls.center;\n      this.centerCurDom && center.removeChild(this.centerCurDom);\n      this.centerCurDom = null;\n      this.centerDurDom && center.removeChild(this.centerDurDom);\n      this.centerDurDom = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-time\">\\n    <span class=\"time-current\">00:00</span>\\n    <span class=\"time-separator\">/</span>\\n    <span class=\"time-duration\">00:00</span>\\n    <span class=\"time-live-tag\">'.concat(this.i18n.LIVE_TIP, \"</span>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"time\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 2,\n        disable: false\n      };\n    }\n  }]);\n  return Time2;\n}(Plugin);\nexport { Time as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nvar Volume = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Volume2, _Plugin);\n  var _super = _createSuper(Volume2);\n  function Volume2() {\n    var _this;\n    _classCallCheck(this, Volume2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBarMousedown\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      var bar = _this.find(\".xgplayer-bar\");\n      util.event(e);\n      var barRect = bar.getBoundingClientRect();\n      var pos = util.getEventPos(e, player.zoom);\n      var height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      _this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      _this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", _this.onBarMouseUp);\n      _this._d.isStart = true;\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseMove\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _d = _assertThisInitialize2._d;\n      if (!_d.isStart) {\n        return;\n      }\n      var _assertThisInitialize3 = _assertThisInitialized(_this), pos = _assertThisInitialize3.pos, player = _assertThisInitialize3.player;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      var w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      _this.updateVolumePos(w, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseUp\", function(e) {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", _this.onBarMouseUp);\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _d = _assertThisInitialize4._d;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseenter\", function(e) {\n      _this._d.isActive = true;\n      _this.focus();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseleave\", function(e) {\n      _this._d.isActive = false;\n      _this.unFocus(100, false, e);\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVolumeChange\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      var _this$player = _this.player, muted = _this$player.muted, volume = _this$player.volume;\n      if (!_this._d.isMoving) {\n        _this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : \"\".concat(volume * 100, \"%\");\n        if (_this.config.showValueLabel) {\n          _this.updateVolumeValue();\n        }\n      }\n      _this.animate(muted, volume);\n    });\n    return _this;\n  }\n  _createClass(Volume2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        volumeSmall: {\n          icon: volumeSmallSvg,\n          class: \"xg-volume-small\"\n        },\n        volumeLarge: {\n          icon: volumeLargeSvg,\n          class: \"xg-volume\"\n        },\n        volumeMuted: {\n          icon: volumeMutedSvg,\n          class: \"xg-volume-mute\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._timerId = null;\n      this._d = {\n        isStart: false,\n        isMoving: false,\n        isActive: false\n      };\n      if (this.config.disable) {\n        return;\n      }\n      this.initIcons();\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, volume = _this$playerConfig.volume;\n      if (commonStyle.volumeColor) {\n        this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n      }\n      this.changeMutedHandler = this.hook(\"mutedChange\", function(e) {\n        _this2.changeMuted(e);\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n      this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n      if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this._onMouseenterHandler);\n        this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n        this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n        this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n        this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      }\n      this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n      this.on(VOLUME_CHANGE, this.onVolumeChange);\n      this.once(LOADED_DATA, this.onVolumeChange);\n      if (util.typeOf(volume) !== \"Number\") {\n        this.player.volume = this.config.default;\n      }\n      this.onVolumeChange();\n    }\n  }, {\n    key: \"updateVolumePos\",\n    value: function updateVolumePos(height, event) {\n      var player = this.player;\n      var drag = this.find(\".xgplayer-drag\");\n      var bar = this.find(\".xgplayer-bar\");\n      if (!bar || !drag) {\n        return;\n      }\n      var now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n      drag.style.height = \"\".concat(height, \"px\");\n      var to = Math.max(Math.min(now / 1e3, 1), 0);\n      var props = {\n        volume: {\n          from: player.volume,\n          to\n        }\n      };\n      if (player.muted) {\n        props.muted = {\n          from: true,\n          to: false\n        };\n      }\n      this.emitUserAction(event, \"change_volume\", {\n        muted: player.muted,\n        volume: player.volume,\n        props\n      });\n      player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n      player.muted && (player.muted = false);\n      if (this.config.showValueLabel) {\n        this.updateVolumeValue();\n      }\n    }\n  }, {\n    key: \"updateVolumeValue\",\n    value: function updateVolumeValue() {\n      var _this$player2 = this.player, volume = _this$player2.volume, muted = _this$player2.muted;\n      var $labelValue = this.find(\".xgplayer-value-label\");\n      var vol = Math.max(Math.min(volume, 1), 0);\n      $labelValue.innerText = muted ? 0 : Math.round(vol * 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var player = this.player;\n      player.focus({\n        autoHide: false\n      });\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      util.addClass(this.root, \"slide-show\");\n    }\n  }, {\n    key: \"unFocus\",\n    value: function unFocus() {\n      var _this3 = this;\n      var delay = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 100;\n      var isForce = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var e = arguments.length > 2 ? arguments[2] : void 0;\n      var _d = this._d, player = this.player;\n      if (_d.isActive) {\n        return;\n      }\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this._timerId = util.setTimeout(this, function() {\n        if (!_d.isActive) {\n          isForce ? player.blur() : player.focus();\n          util.removeClass(_this3.root, \"slide-show\");\n          _d.isStart && _this3.onBarMouseUp(e);\n        }\n        _this3._timerId = null;\n      }, delay);\n    }\n  }, {\n    key: \"changeMuted\",\n    value: function changeMuted(e) {\n      e && e.stopPropagation();\n      var player = this.player, _d = this._d;\n      _d.isStart && this.onBarMouseUp(e);\n      this.emitUserAction(e, \"change_muted\", {\n        muted: player.muted,\n        volume: player.volume,\n        props: {\n          muted: {\n            from: player.muted,\n            to: !player.muted\n          }\n        }\n      });\n      if (player.volume > 0) {\n        player.muted = !player.muted;\n      }\n      if (player.volume < 0.01) {\n        player.volume = this.config.miniVolume;\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(muted, volume) {\n      if (muted || volume === 0) {\n        this.setAttr(\"data-state\", \"mute\");\n      } else if (volume < 0.5 && this.icons.volumeSmall) {\n        this.setAttr(\"data-state\", \"small\");\n      } else {\n        this.setAttr(\"data-state\", \"normal\");\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n      this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n      this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this.unbind(\"mouseenter\", this.onMouseenter);\n      this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n      this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var volume = this.config.default || this.player.volume;\n      var isShowVolumeValue = this.config.showValueLabel;\n      return '\\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      <xg-slider class=\"xgplayer-slider\">\\n        '.concat(isShowVolumeValue ? '<div class=\"xgplayer-value-label\">'.concat(volume * 100, \"</div>\") : \"\", '\\n        <div class=\"xgplayer-bar\">\\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ').concat(volume * 100, '%\"></xg-drag>\\n        </div>\\n      </xg-slider>\\n    </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"volume\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        showValueLabel: false,\n        default: 0.6,\n        miniVolume: 0.2\n      };\n    }\n  }]);\n  return Volume2;\n}(Plugin);\nexport { Volume as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nvar LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nvar XGLogger = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(XGLogger2, _BasePlugin);\n  var _super = _createSuper(XGLogger2);\n  function XGLogger2() {\n    var _this;\n    _classCallCheck(this, XGLogger2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      _this._state.isTimeUpdate = true;\n      if (_this._state.autoplayStart) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onTimeupdate\"));\n        _this._sendFF(\"onTimeupdate\");\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onAutoplayStart\", function() {\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onAutoplayStart\"));\n      _this._state.autoplayStart = true;\n      _this.vt && _this._sendFF(\"onAutoplayStart\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      _this.vt = 0;\n      _this.pt = 0;\n      _this.fvt = 0;\n      _this.newPointTime = now();\n      _this.loadedCostTime = 0;\n      _this.startCostTime = 0;\n      _this._isSeeking = false;\n      _this.seekingStart = 0;\n      _this.waitingStart = 0;\n      _this.fixedWaitingStart = 0;\n      _this._isWaiting = false;\n      _this._waitTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n      _this._waittTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waittTimer);\n      _this._waitTimer = null;\n      _this._waittTimer = null;\n      _this._waitType = 0;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      if (_this.seekingStart) {\n        return;\n      }\n      _this.suspendWaitingStatus(\"seek\");\n      _this.seekingStart = now();\n      _this.emitLog(LOG_TYPES.SEEK_START, {\n        start: now()\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeked\", function() {\n      _this.suspendSeekingStatus(\"seeked\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaitingLoadStart\", function() {\n      if (_this._isWaiting || _this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      _this.waitingStart = now();\n      _this.fixedWaitingStart = now();\n      _this._waitType = 1;\n      _this.emitLog(LOG_TYPES.WAIT_START, {\n        fixedStart: _this.fixedWaitingStart,\n        start: _this.waitingStart,\n        type: 1,\n        endType: \"loadstart\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaiting\", function() {\n      if (_this._isWaiting || !_this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      if (!_this.vt) {\n        _this._waitType = 1;\n      } else if (_this.seekingStart) {\n        _this._waitType = 2;\n      } else {\n        _this._waitType = 0;\n      }\n      _this.fixedWaitingStart = now();\n      _this._waitTimer = util.setTimeout(_assertThisInitialized(_this), function() {\n        if (_this._isWaiting) {\n          _this.waitingStart = now();\n          util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n          _this._waitTimer = null;\n          _this._startWaitTimeout();\n          _this.emitLog(LOG_TYPES.WAIT_START, {\n            fixedStart: _this.fixedWaitingStart,\n            start: _this.waitingStart,\n            type: _this._waitType,\n            endType: _this._waitType === 2 ? \"seek\" : \"playing\"\n          });\n        }\n      }, 200);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onError\", function() {\n      _this.suspendSeekingStatus(\"error\");\n      _this.suspendWaitingStatus(\"error\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlaying\", function() {\n      _this._isWaiting && _this.suspendWaitingStatus(\"playing\");\n    });\n    return _this;\n  }\n  _createClass(XGLogger2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._onReset();\n      this._waitType = \"firstFrame\";\n      this._initOnceEvents();\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this.on(LOAD_START, function() {\n        var _state = _this2._state;\n        var autoplayStart = _state.autoplayStart, isFFSend = _state.isFFSend;\n        _this2.startCostTime = now() - _this2.newPointTime;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOAD_START\"), \"autoplayStart:\".concat(autoplayStart, \" isFFSend:\").concat(isFFSend, \" startCostTime:\").concat(_this2.startCostTime, \" newPointTime\").concat(_this2.newPointTime));\n        if (isFFSend) {\n          return;\n        }\n        !_state.isLs && _this2.emitLog(LOG_TYPES.LOAD_START, {});\n        _state.isLs = true;\n        _state.isTimeUpdate = false;\n        _state.isFFLoading = true;\n        _this2.pt = now();\n        _this2.vt = 0;\n        _this2.fvt = 0;\n        _this2._initOnceEvents();\n        _this2._onWaitingLoadStart();\n      });\n      this.on(LOADED_DATA, function() {\n        _this2.vt = now();\n        _this2.fvt = _this2.vt - _this2.pt;\n        _this2.loadedCostTime = _this2.vt - _this2.newPointTime;\n        var _this2$_state = _this2._state, isTimeUpdate = _this2$_state.isTimeUpdate, isFFSend = _this2$_state.isFFSend, autoplayStart = _this2$_state.autoplayStart;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOADED_DATA\"), \"fvt:\".concat(_this2.fvt, \" isTimeUpdate:\").concat(_this2._state.isTimeUpdate, \" loadedCostTime:\").concat(_this2.loadedCostTime));\n        if (isTimeUpdate || autoplayStart) {\n          _this2._sendFF(\"loadedData\");\n        }\n        if (!isFFSend) {\n          _this2.emitLog(LOG_TYPES.LOADED_DATA, {});\n        }\n        _this2.suspendWaitingStatus(\"loadeddata\");\n      });\n      this.on(SEEKING, this._onSeeking);\n      this.on(SEEKED, this._onSeeked);\n      this.on(DESTROY, function() {\n        _this2.endState(\"destroy\");\n      });\n      this.on(URL_CHANGE, function() {\n        _this2.endState(\"urlChange\");\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" URL_CHANGE\"));\n        _this2._state.isFFSend && _this2._onReset();\n      });\n      this.on([PLAYING, CANPLAY], this._onPlaying);\n      this.on(WAITING, this._onWaiting);\n      this.on(ERROR, this._onError);\n      this.on(RESET, function() {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" RESET\"));\n        _this2.endState(\"reset\");\n        _this2._initOnceEvents();\n        _this2._onReset();\n      });\n    }\n  }, {\n    key: \"_initOnceEvents\",\n    value: function _initOnceEvents() {\n      this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.off(TIME_UPDATE, this._onTimeupdate);\n      this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.once(TIME_UPDATE, this._onTimeupdate);\n    }\n  }, {\n    key: \"_sendFF\",\n    value: function _sendFF(endType) {\n      this.s = now();\n      var _this$_state = this._state, isFFLoading = _this$_state.isFFLoading, isFFSend = _this$_state.isFFSend;\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" _sendFF\"), \"\".concat(endType, \" fvt:\").concat(this.fvt, \" isFFLoading:\").concat(isFFLoading, \" !isFFSend:\").concat(!isFFSend));\n      if (this.vt > 0 && isFFLoading && !isFFSend) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" emitLog_firstFrame\"), endType);\n        this._state.isFFLoading = false;\n        this._state.isFFSend = true;\n        this.emitLog(LOG_TYPES.FIRST_FRAME, {\n          fvt: this.fvt,\n          costTime: this.fvt,\n          vt: this.vt,\n          startCostTime: this.startCostTime,\n          loadedCostTime: this.loadedCostTime\n        });\n      }\n    }\n  }, {\n    key: \"_startWaitTimeout\",\n    value: function _startWaitTimeout() {\n      var _this3 = this;\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n      }\n      this._waittTimer = util.setTimeout(this, function() {\n        _this3.suspendWaitingStatus(\"timeout\");\n        util.clearTimeout(_this3, _this3._waittTimer);\n        _this3._waittTimer = null;\n      }, this.config.waitTimeout);\n    }\n  }, {\n    key: \"endState\",\n    value: function endState(endType) {\n      this.suspendWaitingStatus(endType);\n      this.suspendSeekingStatus(endType);\n    }\n  }, {\n    key: \"suspendSeekingStatus\",\n    value: function suspendSeekingStatus(endType) {\n      if (!this.seekingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.seekingStart;\n      this.seekingStart = 0;\n      this.emitLog(LOG_TYPES.SEEK_END, {\n        end: _now,\n        costTime: _cost,\n        endType\n      });\n    }\n  }, {\n    key: \"suspendWaitingStatus\",\n    value: function suspendWaitingStatus(endType) {\n      if (this._waitTimer) {\n        util.clearTimeout(this, this._waitTimer);\n        this._waitTimer = null;\n      }\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n        this._waittTimer = null;\n      }\n      this._isWaiting = false;\n      if (!this.waitingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.waitingStart;\n      var _fixedCost = _now - this.fixedWaitingStart;\n      var waitTimeout = this.config.waitTimeout;\n      this._isWaiting = false;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this.emitLog(LOG_TYPES.WAIT_END, {\n        fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n        costTime: _cost > waitTimeout ? waitTimeout : _cost,\n        type: endType === \"loadeddata\" ? 1 : this._waitType,\n        endType: this._waitType === 2 ? \"seek\" : endType\n      });\n    }\n  }, {\n    key: \"emitLog\",\n    value: function emitLog(eventType, data) {\n      var player = this.player;\n      this.emit(XGLOG, _objectSpread2({\n        t: now(),\n        host: util.getHostFromUrl(player.currentSrc),\n        vtype: player.vtype,\n        eventType,\n        currentTime: this.player.currentTime,\n        readyState: player.video.readyState,\n        networkState: player.video.networkState\n      }, data));\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"xgLogger\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        waitTimeout: 1e4\n      };\n    }\n  }]);\n  return XGLogger2;\n}(Plugin);\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nvar Replay = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Replay2, _Plugin);\n  var _super = _createSuper(Replay2);\n  function Replay2() {\n    _classCallCheck(this, Replay2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Replay2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        replay: ReplaySvg\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      Plugin.insert(this.icons.replay, this.root, 0);\n      this.__handleReplay = this.hook(\"replayClick\", function() {\n        _this.player.replay();\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n      this.on(ENDED, function() {\n        if (!_this.playerConfig.loop) {\n          util.addClass(_this.player.root, \"replay\");\n        }\n        if (_this.config.disable) {\n          return;\n        }\n        _this.show();\n        var path = _this.root.querySelector(\"path\");\n        if (path) {\n          var transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n          if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n            return null;\n          } else {\n            path.setAttribute(\"transform\", transform);\n          }\n        }\n      });\n      this.on(PLAY, function() {\n        _this.hide();\n      });\n    }\n  }, {\n    key: \"handleReplay\",\n    value: function handleReplay(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.player.replay();\n      util.removeClass(this.player.root, \"replay\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (this.config.disable) {\n        return;\n      }\n      this.root.style.display = \"flex\";\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-replay class=\"xgplayer-replay\">\\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"'.concat(this.i18nKeys.REPLAY, '\">').concat(this.i18n.REPLAY, \"</xg-replay-txt>\\n    </xg-replay>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"replay\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false\n      };\n    }\n  }]);\n  return Replay2;\n}(Plugin);\nexport { Replay as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Poster = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Poster2, _Plugin);\n  var _super = _createSuper(Poster2);\n  function Poster2() {\n    _classCallCheck(this, Poster2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Poster2, [{\n    key: \"isEndedShow\",\n    get: function get() {\n      return this.config.isEndedShow;\n    },\n    set: function set(value) {\n      this.config.isEndedShow = value;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.poster === \"string\") {\n        args.config.poster = args.player.config.poster;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(ENDED, function() {\n        if (_this.isEndedShow) {\n          util.removeClass(_this.root, \"hide\");\n        }\n      });\n      if (this.config.hideCanplay) {\n        this.once(TIME_UPDATE, function() {\n          _this.onTimeUpdate();\n        });\n        this.on(URL_CHANGE, function() {\n          util.removeClass(_this.root, \"hide\");\n          util.addClass(_this.root, \"xg-showplay\");\n          _this.once(TIME_UPDATE, function() {\n            _this.onTimeUpdate();\n          });\n        });\n      } else {\n        this.on(PLAY, function() {\n          util.addClass(_this.root, \"hide\");\n        });\n      }\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this2 = this;\n      Object.keys(config).forEach(function(key) {\n        _this2.config[key] = config[key];\n      });\n      var poster = this.config.poster;\n      this.update(poster);\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate() {\n      var _this3 = this;\n      if (!this.player.currentTime) {\n        this.once(TIME_UPDATE, function() {\n          _this3.onTimeUpdate();\n        });\n      } else {\n        util.removeClass(this.root, \"xg-showplay\");\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(poster) {\n      if (!poster) {\n        return;\n      }\n      this.config.poster = poster;\n      this.root.style.backgroundImage = \"url(\".concat(poster, \")\");\n    }\n  }, {\n    key: \"getBgSize\",\n    value: function getBgSize(mode) {\n      var _bg = \"\";\n      switch (mode) {\n        case \"cover\":\n          _bg = \"cover\";\n          break;\n        case \"contain\":\n          _bg = \"contain\";\n          break;\n        case \"fixHeight\":\n          _bg = \"auto 100%\";\n          break;\n        default:\n          _bg = \"\";\n      }\n      return _bg ? \"background-size: \".concat(_bg, \";\") : \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config = this.config, poster = _this$config.poster, hideCanplay = _this$config.hideCanplay, fillMode = _this$config.fillMode, notHidden = _this$config.notHidden;\n      var _bg = this.getBgSize(fillMode);\n      var style = poster ? \"background-image:url(\".concat(poster, \");\").concat(_bg) : _bg;\n      var className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n      return '<xg-poster class=\"xgplayer-poster '.concat(className, '\" style=\"').concat(style, '\">\\n    </xg-poster>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"poster\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isEndedShow: true,\n        hideCanplay: false,\n        notHidden: false,\n        poster: \"\",\n        fillMode: \"fixWidth\"\n      };\n    }\n  }]);\n  return Poster2;\n}(Plugin);\nexport { Poster as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlayIcon from \"../assets/play.js\";\nimport PauseIcon from \"../assets/pause.js\";\nvar AnimateMap = {};\nfunction addAnimate(key, seconds) {\n  var callback = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    start: null,\n    end: null\n  };\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(function() {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map(function(key) {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nvar Start = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Start2, _Plugin);\n  var _super = _createSuper(Start2);\n  function Start2(args) {\n    var _this;\n    _classCallCheck(this, Start2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReset\", function() {\n      _this.autoPlayStart = false;\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      _this.setAttr(\"data-state\", \"play\");\n      util.removeClass(_this.root, className);\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAutoplayStart\", function() {\n      if (_this.autoPlayStart) {\n        return;\n      }\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(_this.root, className);\n      _this.autoPlayStart = true;\n      _this.toggleTo(\"play\");\n    });\n    _this.autoPlayStart = false;\n    return _this;\n  }\n  _createClass(Start2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var playerConfig = this.playerConfig;\n      this.initIcons();\n      this.listenEvents();\n      this.bindClickEvents();\n      if (!playerConfig.autoplay) {\n        this.show();\n      }\n    }\n  }, {\n    key: \"listenEvents\",\n    value: function listenEvents() {\n      var _this2 = this;\n      var player = this.player, playerConfig = this.playerConfig;\n      this.once(READY, function() {\n        if (playerConfig) {\n          if (playerConfig.lang && playerConfig.lang === \"en\") {\n            util.addClass(player.root, \"lang-is-en\");\n          } else if (playerConfig.lang === \"jp\") {\n            util.addClass(player.root, \"lang-is-jp\");\n          }\n        }\n      });\n      this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n      this.on(AUTOPLAY_PREVENTED, function() {\n        var className = _this2.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n        _this2.setAttr(\"data-state\", \"play\");\n        util.removeClass(_this2.root, className);\n        _this2.show();\n      });\n      this.on(PLAY, function() {\n        _this2.toggleTo(\"play\");\n      });\n      this.on(PAUSE, function() {\n        _this2.toggleTo(\"pause\");\n      });\n      this.on(RESET, function() {\n        _this2.onPlayerReset();\n      });\n    }\n  }, {\n    key: \"bindClickEvents\",\n    value: function bindClickEvents() {\n      var _this3 = this;\n      this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n        pre: function pre(e) {\n          e.cancelable && e.preventDefault();\n          e.stopPropagation();\n          var paused = _this3.player.paused;\n          _this3.emitUserAction(e, \"switch_play_pause\", {\n            props: \"paused\",\n            from: paused,\n            to: !paused\n          });\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.clickHandler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        startPlay: {\n          icon: PlayIcon,\n          class: \"xg-icon-play\"\n        },\n        startPause: {\n          icon: PauseIcon,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\"xg-start-inner\", icons.startPlay);\n      this.appendChild(\"xg-start-inner\", icons.startPause);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"focusHide\",\n    value: function focusHide() {\n      util.addClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"recover\",\n    value: function recover() {\n      util.removeClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"switchStatus\",\n    value: function switchStatus(isAnimate) {\n      if (isAnimate) {\n        this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n      } else {\n        this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(endShow) {\n      var _this4 = this;\n      this._animateId = addAnimate(\"pauseplay\", 400, {\n        start: function start() {\n          util.addClass(_this4.root, \"interact\");\n          _this4.show();\n          _this4.switchStatus(true);\n        },\n        end: function end() {\n          util.removeClass(_this4.root, \"interact\");\n          !endShow && _this4.hide();\n          _this4._animateId = null;\n        }\n      });\n    }\n  }, {\n    key: \"endAnimate\",\n    value: function endAnimate() {\n      util.removeClass(this.root, \"interact\");\n      clearAnimation(this._animateId);\n      this._animateId = null;\n    }\n  }, {\n    key: \"switchPausePlay\",\n    value: function switchPausePlay(e) {\n      var player = this.player;\n      e.cancelable && e.preventDefault();\n      e.stopPropagation();\n      if (player.state < STATES.READY) {\n        return;\n      }\n      var paused = this.player.paused;\n      if (!paused && player.state === STATES.RUNNING) {\n        player.pause();\n      } else {\n        player.play();\n      }\n    }\n  }, {\n    key: \"onPlayPause\",\n    value: function onPlayPause(status) {\n      this.toggleTo(status);\n    }\n  }, {\n    key: \"toggleTo\",\n    value: function toggleTo(status) {\n      var config = this.config, player = this.player;\n      if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n        return;\n      }\n      if (config.mode === \"show\") {\n        this.switchStatus();\n        this.show();\n        return;\n      }\n      if (config.mode === \"auto\") {\n        this.switchStatus();\n        return;\n      }\n      if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n        this.switchStatus();\n        this.show();\n        this.endAnimate();\n        return;\n      }\n      if (config.disableAnimate) {\n        this.switchStatus();\n        this.hide();\n        return;\n      }\n      if (status === \"play\") {\n        this.autoPlayStart ? this.animate() : this.hide();\n      } else {\n        if (!this.autoPlayStart || player.ended) {\n          return;\n        }\n        this.animate();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.clickHandler);\n      clearAnimation(this._animateId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n      return '\\n    <xg-start class=\"xgplayer-start '.concat(className, '\">\\n    <xg-start-inner></xg-start-inner>\\n    </xg-start>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"start\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShowPause: false,\n        isShowEnd: false,\n        disableAnimate: false,\n        mode: \"hide\"\n      };\n    }\n  }]);\n  return Start2;\n}(Plugin);\nexport { Start as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Enter = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Enter2, _Plugin);\n  var _super = _createSuper(Enter2);\n  function Enter2() {\n    _classCallCheck(this, Enter2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Enter2, [{\n    key: \"render\",\n    value: function render() {\n      var innerHtml = this.config.innerHtml;\n      var root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n      if (innerHtml && innerHtml instanceof window.HTMLElement) {\n        root.appendChild(innerHtml);\n      } else if (innerHtml && typeof innerHtml === \"string\") {\n        root.innerHTML = innerHtml;\n      } else {\n        var barStr = \"\";\n        for (var i = 1; i <= 12; i++) {\n          barStr += '<div class=\"xgplayer-enter-bar'.concat(i, '\"></div>');\n        }\n        root.innerHTML = '<div class=\"xgplayer-enter-spinner\">'.concat(barStr, \"</div>\");\n      }\n      return root;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"enter\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        innerHtml: \"\",\n        logo: \"\"\n      };\n    }\n  }]);\n  return Enter2;\n}(Plugin);\nexport { Enter as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar MiniScreenIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreenIcon2, _Plugin);\n  var _super = _createSuper(MiniScreenIcon2);\n  function MiniScreenIcon2() {\n    _classCallCheck(this, MiniScreenIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniScreenIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.getMini = this.getMini.bind(this);\n      this.exitMini = this.exitMini.bind(this);\n      this.bind(\"click\", this.getMini);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.getMini);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var langKey = \"MINISCREEN\";\n      return '\\n      <xg-icon class=\"xgplayer-miniicon\">\\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span></div>\\n      </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreenIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 10\n      };\n    }\n  }]);\n  return MiniScreenIcon2;\n}(Plugin);\nexport { MiniScreenIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, possibleConstructorReturn as _possibleConstructorReturn, createClass as _createClass, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  var num = parseFloat(value);\n  var isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nvar measurements = [\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\", \"borderLeftWidth\", \"borderRightWidth\", \"borderTopWidth\", \"borderBottomWidth\"];\nvar measurementsLength = measurements.length;\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  var style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || _typeof(elem) !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  var style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  var isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    var value = style[measurement];\n    var num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  var isBorderBoxSizeOuter = isBorderBox;\n  var styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  var styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (var i = 0; i < touches.length; i++) {\n    var touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nvar EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nvar POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nvar Draggabilly = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Draggabilly2, _EventEmitter);\n  var _super = _createSuper(Draggabilly2);\n  function Draggabilly2(root) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    _classCallCheck(this, Draggabilly2);\n    _this = _super.call(this);\n    _this.isEnabled = true;\n    _this.isDragging = false;\n    _this.isDown = false;\n    _this.position = {};\n    _this.downPoint = {};\n    _this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    _this.startPos = {\n      x: 0,\n      y: 0\n    };\n    _this._root = root instanceof Element ? root : document.querySelector(root);\n    _this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!_this._root || !_this._handlerDom) {\n      return _possibleConstructorReturn(_this);\n    }\n    _this._bindStartEvent();\n    return _this;\n  }\n  _createClass(Draggabilly2, [{\n    key: \"_bindStartEvent\",\n    value: function _bindStartEvent() {\n      var _this2 = this;\n      if (\"ontouchstart\" in window) {\n        this._startKey = \"touchstart\";\n      } else {\n        this._startKey = \"mousedown\";\n      }\n      this[\"on\".concat(this._startKey)] = this[\"on\".concat(this._startKey)].bind(this);\n      this._handlerDom.addEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n      POST_START_EVENTS[this._startKey].map(function(key) {\n        _this2[\"on\".concat(key)] = _this2[\"on\".concat(key)].bind(_this2);\n      });\n    }\n  }, {\n    key: \"_unbindStartEvent\",\n    value: function _unbindStartEvent() {\n      this._handlerDom.removeEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n    }\n  }, {\n    key: \"_bindPostStartEvents\",\n    value: function _bindPostStartEvents(event) {\n      var _this3 = this;\n      if (!event) {\n        return;\n      }\n      var events = POST_START_EVENTS[this._startKey];\n      events.map(function(eventName) {\n        window.addEventListener(eventName, _this3[\"on\".concat(eventName)]);\n      });\n      this._boundPointerEvents = events;\n    }\n  }, {\n    key: \"_unbindPostStartEvents\",\n    value: function _unbindPostStartEvents() {\n      var _this4 = this;\n      if (!this._boundPointerEvents) {\n        return;\n      }\n      this._boundPointerEvents.map(function(eventName) {\n        window.removeEventListener(eventName, _this4[\"on\".concat(eventName)]);\n      });\n      delete this._boundPointerEvents;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.isEnabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.isEnabled = false;\n      if (this.isDragging) {\n        this.onUp();\n      }\n    }\n  }, {\n    key: \"onDocUp\",\n    value: function onDocUp(e) {\n      this.onUp();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this5 = this;\n      if (!this.isDragging) {\n        return;\n      }\n      this.positionDrag();\n      window.requestAnimationFrame(function() {\n        _this5.animate();\n      });\n    }\n  }, {\n    key: \"positionDrag\",\n    value: function positionDrag() {\n      var transform = \"translate3d(\".concat(this.dragPoint.x, \"px, \").concat(this.dragPoint.y, \"px, 0)\");\n      this._root.style.transform = transform;\n      this._root.style.webKitTransform = transform;\n    }\n  }, {\n    key: \"setLeftTop\",\n    value: function setLeftTop() {\n      this._root.style.left = this.position.x + \"px\";\n      this._root.style.top = this.position.y + \"px\";\n    }\n  }, {\n    key: \"onmousedown\",\n    value: function onmousedown(e) {\n      this.dragStart(e, e);\n    }\n  }, {\n    key: \"onmousemove\",\n    value: function onmousemove(e) {\n      this.dragMove(e, e);\n    }\n  }, {\n    key: \"onmouseup\",\n    value: function onmouseup(e) {\n      this.dragEnd(e, e);\n    }\n  }, {\n    key: \"ontouchstart\",\n    value: function ontouchstart(e) {\n      var touch = e.changedTouches[0];\n      this.dragStart(e, touch);\n      this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchmove\",\n    value: function ontouchmove(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragMove(e, touch);\n      }\n    }\n  }, {\n    key: \"ontouchend\",\n    value: function ontouchend(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragEnd(e, touch);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchcancel\",\n    value: function ontouchcancel(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragCancel(e, touch);\n      }\n    }\n  }, {\n    key: \"dragStart\",\n    value: function dragStart(e, pointer) {\n      if (!this._root || this.isDown || !this.isEnabled) {\n        return;\n      }\n      this.downPoint = pointer;\n      this.dragPoint.x = 0;\n      this.dragPoint.y = 0;\n      this._getPosition();\n      var size = getSize(this._root);\n      this.startPos.x = this.position.x;\n      this.startPos.y = this.position.y;\n      this.startPos.maxY = window.innerHeight - size.height;\n      this.startPos.maxX = window.innerWidth - size.width;\n      this.setLeftTop();\n      this.isDown = true;\n      this._bindPostStartEvents(e);\n    }\n  }, {\n    key: \"dragRealStart\",\n    value: function dragRealStart(e, pointer) {\n      this.isDragging = true;\n      this.animate();\n      this.emit(EVENTS.START, this.startPos);\n    }\n  }, {\n    key: \"dragEnd\",\n    value: function dragEnd(e, pointer) {\n      if (!this._root) {\n        return;\n      }\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this._root.style.transform = \"\";\n        this.setLeftTop();\n        this.emit(EVENTS.ENDED);\n      }\n      this.presetInfo();\n    }\n  }, {\n    key: \"_dragPointerMove\",\n    value: function _dragPointerMove(e, pointer) {\n      var moveVector = {\n        x: pointer.pageX - this.downPoint.pageX,\n        y: pointer.pageY - this.downPoint.pageY\n      };\n      if (!this.isDragging && this.hasDragStarted(moveVector)) {\n        this.dragRealStart(e, pointer);\n      }\n      return moveVector;\n    }\n  }, {\n    key: \"dragMove\",\n    value: function dragMove(e, pointer) {\n      e = e || window.event;\n      if (!this.isDown) {\n        return;\n      }\n      var _this$startPos = this.startPos, x = _this$startPos.x, y = _this$startPos.y;\n      var moveVector = this._dragPointerMove(e, pointer);\n      var dragX = moveVector.x;\n      var dragY = moveVector.y;\n      dragX = this.checkContain(\"x\", dragX, x);\n      dragY = this.checkContain(\"y\", dragY, y);\n      this.position.x = x + dragX;\n      this.position.y = y + dragY;\n      this.dragPoint.x = dragX;\n      this.dragPoint.y = dragY;\n      this.emit(EVENTS.MOVE, this.position);\n    }\n  }, {\n    key: \"dragCancel\",\n    value: function dragCancel(e, pointer) {\n      this.dragEnd(e, pointer);\n    }\n  }, {\n    key: \"presetInfo\",\n    value: function presetInfo() {\n      this.isDragging = false;\n      this.startPos = {\n        x: 0,\n        y: 0\n      };\n      this.dragPoint = {\n        x: 0,\n        y: 0\n      };\n      this.isDown = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindStartEvent();\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this.dragEnd();\n      }\n      this.removeAllListeners();\n      this._handlerDom = null;\n    }\n  }, {\n    key: \"hasDragStarted\",\n    value: function hasDragStarted(moveVector) {\n      return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n    }\n  }, {\n    key: \"checkContain\",\n    value: function checkContain(axis, drag, grid) {\n      if (drag + grid < 0) {\n        return 0 - grid;\n      }\n      if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n        return this.startPos.maxX - grid;\n      }\n      if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n        return this.startPos.maxY - grid;\n      }\n      return drag;\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      var style = window.getComputedStyle(this._root);\n      var x = this._getPositionCoord(style.left, \"width\");\n      var y = this._getPositionCoord(style.top, \"height\");\n      this.position.x = Number.isNaN(x) ? 0 : x;\n      this.position.y = Number.isNaN(y) ? 0 : y;\n      this._addTransformPosition(style);\n    }\n  }, {\n    key: \"_addTransformPosition\",\n    value: function _addTransformPosition(style) {\n      var transform = style.transform;\n      if (transform.indexOf(\"matrix\") !== 0) {\n        return;\n      }\n      var matrixValues = transform.split(\",\");\n      var xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n      var translateX = parseInt(matrixValues[xIndex], 10);\n      var translateY = parseInt(matrixValues[xIndex + 1], 10);\n      this.position.x += translateX;\n      this.position.y += translateY;\n    }\n  }, {\n    key: \"_getPositionCoord\",\n    value: function _getPositionCoord(styleSide, measure) {\n      if (styleSide.indexOf(\"%\") !== -1) {\n        var parentSize = getSize(this._root.parentNode);\n        return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n      }\n      return parseInt(styleSide, 10);\n    }\n  }]);\n  return Draggabilly2;\n}(EventEmitter);\nexport { Draggabilly as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlayIcon from \"../assets/play.js\";\nimport PauseIcon from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nvar MiniScreen = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreen2, _Plugin);\n  var _super = _createSuper(MiniScreen2);\n  function MiniScreen2(args) {\n    var _this;\n    _classCallCheck(this, MiniScreen2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onCancelClick\", function(e) {\n      _this.exitMini();\n      _this.isClose = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCenterClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      player.paused ? player.play() : player.pause();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function(e) {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - _this.pos.scrollY) < 50) {\n        return;\n      }\n      var scrollHeight = parseInt(util.getCss(_this.player.root, \"height\"));\n      scrollHeight += _this.config.scrollTop;\n      _this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !_this.isMini && !_this.isClose && _this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        _this.isMini && _this.exitMini();\n        _this.isClose = false;\n      }\n    });\n    _this.isMini = false;\n    _this.isClose = false;\n    var _assertThisInitialize2 = _assertThisInitialized(_this), config = _assertThisInitialize2.config;\n    _this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: _this.config.height,\n      width: _this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    _this.lastStyle = null;\n    return _this;\n  }\n  _createClass(MiniScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.mini === \"boolean\") {\n        args.config.isShowIcon = args.player.config.mini;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      this.on(PAUSE, function() {\n        _this2.setAttr(\"data-state\", \"pause\");\n      });\n      this.on(PLAY, function() {\n        _this2.setAttr(\"data-state\", \"play\");\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var _this3 = this;\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      if (this.config.isShowIcon) {\n        var options = {\n          config: {\n            onClick: function onClick() {\n              _this3.getMini();\n            }\n          }\n        };\n        player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n      }\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.bind(\".play-icon\", eventName, this.onCenterClick);\n      if (!this.config.disableDrag) {\n        this._draggabilly = new Draggabilly(this.player.root, {\n          handle: this.root\n        });\n      }\n      if (this.config.isScrollSwitch) {\n        window.addEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlayIcon,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseIcon,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".play-icon\", icons.play);\n      this.appendChild(\".play-icon\", icons.pause);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      var _this4 = this;\n      if (this.isMini) {\n        return;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      this.lastStyle = {};\n      util.addClass(player.root, \"xgplayer-mini\");\n      [\"width\", \"height\", \"top\", \"left\"].map(function(key) {\n        _this4.lastStyle[key] = target.style[key];\n        target.style[key] = \"\".concat(_this4.pos[key], \"px\");\n      });\n      if (playerConfig.fluid) {\n        target.style[\"padding-top\"] = \"\";\n      }\n      this.emit(MINI_STATE_CHANGE, true);\n      player.isMini = this.isMini = true;\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      var _this5 = this;\n      if (!this.isMini) {\n        return false;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      util.removeClass(player.root, \"xgplayer-mini\");\n      if (this.lastStyle) {\n        Object.keys(this.lastStyle).map(function(key) {\n          target.style[key] = _this5.lastStyle[key];\n        });\n      }\n      this.lastStyle = null;\n      if (playerConfig.fluid) {\n        player.root.style.width = \"100%\";\n        player.root.style.height = \"0\";\n        player.root.style[\"padding-top\"] = \"\".concat(playerConfig.height * 100 / playerConfig.width, \"%\");\n      }\n      this.emit(MINI_STATE_CHANGE, false);\n      this.isMini = player.isMini = false;\n    }\n  }, {\n    key: \"updatePos\",\n    value: function updatePos(pos) {\n      this.pos = Object.assign(this.pos, pos);\n      if (this.isMini) {\n        this.player.root.style.left = \"\".concat(this.pos.left, \"px\");\n        this.player.root.style.top = \"\".concat(this.pos.top, \"px\");\n        this.player.root.style.width = \"\".concat(this.pos.width, \"px\");\n        this.player.root.style.height = \"\".concat(this.pos.height, \"px\");\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      window.removeEventListener(\"scroll\", this.onScroll);\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.unbind(\".play-icon\", eventName, this.onCenterClick);\n      this._draggabilly && this._draggabilly.destroy();\n      this._draggabilly = null;\n      this.exitMini();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n      <xg-mini-layer class=\"xg-mini-layer\">\\n      <xg-mini-header class=\"xgplayer-mini-header\">\\n      '.concat(xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips), '\\n      </xg-mini-header>\\n      <div class=\"mini-cancel-btn\">\\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\\n        </svg>\\n      </div>\\n      <div class=\"play-icon\">\\n      </div>\\n      </xg-mini-layer>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 10,\n        disable: false,\n        width: 320,\n        height: 180,\n        left: -1,\n        top: -1,\n        isShowIcon: false,\n        isScrollSwitch: false,\n        scrollTop: 0,\n        disableDrag: false\n      };\n    }\n  }]);\n  return MiniScreen2;\n}(Plugin);\nexport { MiniScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { ENTER_PLAYER, LEAVE_PLAYER } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nvar MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar PCPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(PCPlugin2, _BasePlugin);\n  var _super = _createSuper(PCPlugin2);\n  function PCPlugin2() {\n    var _this;\n    _classCallCheck(this, PCPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      if (!player.isActive) {\n        player.focus({\n          autoHide: !playerConfig.closeDelayBlur\n        });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), playerConfig = _assertThisInitialize2.playerConfig, player = _assertThisInitialize2.player;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({\n          autoHide: false\n        });\n      } else {\n        player.focus();\n      }\n      _this.emit(ENTER_PLAYER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _this$playerConfig = _this.playerConfig, closePlayerBlur = _this$playerConfig.closePlayerBlur, leavePlayerTime = _this$playerConfig.leavePlayerTime, closeDelayBlur = _this$playerConfig.closeDelayBlur;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          _this.player.focus({\n            autoHide: true,\n            delay: leavePlayerTime\n          });\n        } else {\n          _this.player.blur({\n            ignorePaused: true\n          });\n        }\n      }\n      _this.emit(LEAVE_PLAYER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoClick\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, playerConfig = _assertThisInitialize3.playerConfig;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        _this._clickCount++;\n        if (_this.clickTimer) {\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }\n        _this.clickTimer = setTimeout(function() {\n          if (!_this._clickCount) {\n            return;\n          }\n          _this._clickCount--;\n          runHooks(_assertThisInitialized(_this), HOOKS[0], function(plugin, data) {\n            _this.switchPlayPause(data.e);\n          }, {\n            e,\n            paused: player.paused\n          });\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }, 300);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoDblClick\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), player = _assertThisInitialize4.player, playerConfig = _assertThisInitialize4.playerConfig;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && _this._clickCount < 2) {\n        _this._clickCount = 0;\n        return;\n      }\n      _this._clickCount = 0;\n      if (_this.clickTimer) {\n        clearTimeout(_this.clickTimer);\n        _this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(_assertThisInitialized(_this), HOOKS[1], function(plugin, data) {\n        _this.emitUserAction(data.e, \"switch_fullscreen\", {\n          props: \"fullscreen\",\n          from: player.fullscreen,\n          to: !player.fullscreen\n        });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, {\n        e,\n        fullscreen: player.fullscreen\n      });\n    });\n    return _this;\n  }\n  _createClass(PCPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._clickCount = 0;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n        return;\n      }\n      this.initEvents();\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      var _this3 = this;\n      var _this$player = this.player, media = _this$player.media, root = _this$player.root;\n      var enableContextmenu = this.playerConfig.enableContextmenu;\n      root && root.addEventListener(\"click\", this.onVideoClick, false);\n      root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.addEventListener(item, _this3[MOUSE_EVENTS[item]], false);\n      });\n      !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause(e) {\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        props: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (!player.ended) {\n        player.paused ? player.play() : player.pause();\n      } else {\n        player.duration !== Infinity && player.duration > 0 && player.replay();\n      }\n    }\n  }, {\n    key: \"onContextmenu\",\n    value: function onContextmenu(e) {\n      e = e || window.event;\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.returnValue = false;\n        e.cancelBubble = true;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var _this$player2 = this.player, video = _this$player2.video, root = _this$player2.root;\n      this.clickTimer && clearTimeout(this.clickTimer);\n      root.removeEventListener(\"click\", this.onVideoClick, false);\n      root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n      video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.removeEventListener(item, _this4[MOUSE_EVENTS[item]], false);\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pc\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return PCPlugin2;\n}(BasePlugin);\nexport { PCPlugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nvar EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nvar TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nvar MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nvar Touche = /* @__PURE__ */ function() {\n  function Touche2(dom) {\n    var _this = this;\n    var _config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      eventType: \"touch\"\n    };\n    _classCallCheck(this, Touche2);\n    _defineProperty(this, \"onTouchStart\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      var touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      _this.__setPress(e);\n      root.addEventListener(_this.events.end, _this.onTouchEnd);\n      root.addEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.addEventListener(_this.events.move, _this.onTouchMove);\n      _this.trigger(EVENTS.TOUCH_START, e);\n    });\n    _defineProperty(this, \"onTouchCancel\", function(e) {\n      _this.onTouchEnd(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      _this.__clearPress();\n      root.removeEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.removeEventListener(_this.events.end, _this.onTouchEnd);\n      root.removeEventListener(_this.events.move, _this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && _this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    _defineProperty(this, \"onTouchMove\", function(e) {\n      var _pos = _this._pos, config = _this.config;\n      var touch = getTouch(e.touches);\n      var x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      var y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      var diffx = x - _pos.x;\n      var diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      _this.__clearPress();\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      _this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(_config).map(function(key) {\n      _this.config[key] = _config[key];\n    });\n    this.root = dom;\n    this.events = _config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _createClass(Touche2, [{\n    key: \"_initEvent\",\n    value: function _initEvent() {\n      this.root.addEventListener(this.events.start, this.onTouchStart);\n    }\n  }, {\n    key: \"__setPress\",\n    value: function __setPress(e) {\n      var _this2 = this;\n      var config = this.config;\n      if (this.pressIntrvalId) {\n        this.__clearPress();\n      }\n      this.pressIntrvalId = setTimeout(function() {\n        _this2.trigger(EVENTS.PRESS, e);\n        _this2._pos.press = true;\n        _this2.__clearPress();\n      }, config.pressDelay);\n    }\n  }, {\n    key: \"__clearPress\",\n    value: function __clearPress() {\n      window.clearTimeout(this.pressIntrvalId);\n      this.pressIntrvalId = null;\n    }\n  }, {\n    key: \"__setDb\",\n    value: function __setDb(e) {\n      var _this3 = this;\n      var config = this.config;\n      if (this.dbIntrvalId) {\n        this.__clearDb();\n        this.trigger(EVENTS.DOUBlE_CLICK, e);\n        return;\n      }\n      this.dbIntrvalId = setTimeout(function() {\n        _this3.__clearDb();\n        if (!_this3._pos.start && !_this3._pos.press && !_this3._pos.moving) {\n          _this3.trigger(EVENTS.CLICK, e);\n        }\n      }, config.dbClickDelay);\n    }\n  }, {\n    key: \"__clearDb\",\n    value: function __clearDb() {\n      clearTimeout(this.dbIntrvalId);\n      this.dbIntrvalId = null;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (!this.__handlers[event]) {\n        this.__handlers[event] = [];\n      }\n      this.__handlers[event].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      var handlers = this.__handlers[event];\n      var index = -1;\n      for (var i = 0; i < handlers.length; i++) {\n        if (handlers[i] === handler) {\n          index = i;\n          break;\n        }\n      }\n      if (index >= 0) {\n        this.__handlers[event].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(event, e) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      this.__handlers[event].map(function(handler) {\n        try {\n          handler(e);\n        } catch (error) {\n          console.error(\"trigger>>:\".concat(event), error);\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var map = {\n        touchend: \"onTouchEnd\",\n        touchmove: \"onTouchMove\",\n        touchstart: \"onTouchStart\"\n      };\n      Object.keys(map).forEach(function(key) {\n        _this4.root.removeEventListener(key, _this4[map[key]]);\n      });\n    }\n  }]);\n  return Touche2;\n}();\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nvar ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar MobilePlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MobilePlugin2, _Plugin);\n  var _super = _createSuper(MobilePlugin2);\n  function MobilePlugin2(options) {\n    var _this;\n    _classCallCheck(this, MobilePlugin2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config, pos = _assertThisInitialize.pos, playerConfig = _assertThisInitialize.playerConfig;\n      var touche = _this.getTouche(e);\n      if (touche && !config.disableGesture && _this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        _this.timer && clearTimeout(_this.timer);\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        _this.find(\".xg-dur\").innerHTML = util.format(_this.duration);\n        var rect = _this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        var _x = parseInt(touche.pageX - pos.left, 10);\n        var _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function(e) {\n      var touche = _this.getTouche(e);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos, config = _assertThisInitialize2.config, player = _assertThisInitialize2.player;\n      if (!touche || config.disableGesture || !_this.duration || !pos.isStart) {\n        return;\n      }\n      var miniMoveStep = config.miniMoveStep, hideControlsActive = config.hideControlsActive;\n      var _x = parseInt(touche.pageX - pos.left, 10);\n      var _y = parseInt(touche.pageY - pos.top, 10);\n      var x = player.rotateDeg === 90 ? _y : _x;\n      var y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        var diffx = x - pos.x;\n        var diffy = y - pos.y;\n        var scope = pos.scope;\n        if (scope === -1) {\n          scope = _this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({\n              autoHide: false\n            }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + _this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        _this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, pos = _assertThisInitialize3.pos, playerConfig = _assertThisInitialize3.playerConfig;\n      setTimeout(function() {\n        player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n      }, 10);\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      var _this$config = _this.config, disableGesture = _this$config.disableGesture, gestureX = _this$config.gestureX;\n      if (!disableGesture && gestureX) {\n        _this.endLastMove(pos.scope);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      _this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      _this.changeAction(ACTIONS.AUTO);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchMove\", function(e) {\n      if (_this.config.disableGesture || !_this.config.gestureX) {\n        return;\n      }\n      if (_this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!_this.pos.isStart) {\n          _this.onTouchStart(e);\n        } else {\n          _this.onTouchMove(e);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchEnd\", function(e) {\n      if (_this.pos.scope > -1) {\n        _this.onTouchEnd(e);\n      }\n    });\n    _this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    _this.timer = null;\n    return _this;\n  }\n  _createClass(MobilePlugin2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        seekTipIcon: {\n          icon: SeekTipIcon,\n          class: \"xg-seek-pre\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var playerConfig = this.playerConfig, config = this.config, player = this.player;\n      if (playerConfig.closeVideoDblclick === true) {\n        config.closedbClick = true;\n      }\n      this.resetPos();\n      if (!util.isUndefined(playerConfig.disableGesture)) {\n        config.disableGesture = !!playerConfig.disableGesture;\n      }\n      this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n      this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n      player.root.appendChild(this.xgMask);\n      this.initCustomStyle();\n      this.registerThumbnail();\n      var eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n      this.touch = new Touche(this.root, {\n        eventType,\n        needPreventDefault: !this.config.disableGesture\n      });\n      this.root.addEventListener(\"contextmenu\", function(e) {\n        e.preventDefault();\n      });\n      player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n      player.root.addEventListener(\"touchcancel\", this.onRootTouchEnd, true);\n      var controls = this.player.controls;\n      if (controls && controls.center) {\n        controls.center.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n        controls.center.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n        controls.center.addEventListener(\"touchcancel\", this.onRootTouchEnd, true);\n      }\n      this.on(DURATION_CHANGE, function() {\n        var player2 = _this2.player, config2 = _this2.config;\n        if (player2.duration > 0 && player2.duration * 1e3 < config2.moveDuration) {\n          config2.moveDuration = player2.duration * 1e3;\n        }\n      });\n      this.on([CANPLAY, ENDED], function() {\n        var _this2$pos = _this2.pos, time = _this2$pos.time, isStart = _this2$pos.isStart;\n        if (!isStart && time > 0) {\n          _this2.pos.time = 0;\n        }\n      });\n      var eventsMap = {\n        touchstart: \"onTouchStart\",\n        touchmove: \"onTouchMove\",\n        touchend: \"onTouchEnd\",\n        press: \"onPress\",\n        pressend: \"onPressEnd\",\n        click: \"onClick\",\n        doubleclick: \"onDbClick\"\n      };\n      Object.keys(eventsMap).map(function(key) {\n        _this2.touch.on(key, function(e) {\n          _this2[eventsMap[key]](e);\n        });\n      });\n      if (!config.disableActive) {\n        var progressPlugin = player.plugins.progress;\n        if (progressPlugin) {\n          progressPlugin.addCallBack(\"dragmove\", function(data) {\n            _this2.activeSeekNote(data.currentTime, data.forward);\n          });\n          [\"dragend\", \"click\"].forEach(function(key) {\n            progressPlugin.addCallBack(key, function() {\n              _this2.changeAction(ACTIONS.AUTO);\n            });\n          });\n        }\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n        var timePreview = this.find(\".time-preview\");\n        timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var playedColor = commonStyle.playedColor, progressColor = commonStyle.progressColor, timePreviewStyle = commonStyle.timePreviewStyle, curTimeColor = commonStyle.curTimeColor, durationColor = commonStyle.durationColor;\n      if (playedColor) {\n        this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n      }\n      if (progressColor) {\n        this.find(\".xg-bar\").style.backgroundColor = progressColor;\n      }\n      if (timePreviewStyle) {\n        var previewDom = this.find(\".time-preview\");\n        Object.keys(timePreviewStyle).forEach(function(key) {\n          previewDom.style[key] = timePreviewStyle[key];\n        });\n      }\n      var curColor = curTimeColor || playedColor;\n      var durColor = durationColor;\n      curColor && (this.find(\".xg-cur\").style.color = curColor);\n      durColor && (this.find(\".xg-dur\").style.color = durColor);\n      this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n    }\n  }, {\n    key: \"resetPos\",\n    value: function resetPos() {\n      var _this3 = this;\n      if (this.pos) {\n        this.pos.isStart = false;\n        this.pos.scope = -1;\n        [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map(function(item) {\n          _this3.pos[item] = 0;\n        });\n      } else {\n        this.pos = {\n          isStart: false,\n          x: 0,\n          y: 0,\n          volume: 0,\n          rate: 1,\n          light: 0,\n          width: 0,\n          height: 0,\n          scopeL: 0,\n          scopeR: 0,\n          scopeM1: 0,\n          scopeM2: 0,\n          scope: -1,\n          time: 0\n        };\n      }\n    }\n  }, {\n    key: \"changeAction\",\n    value: function changeAction(action) {\n      var player = this.player, root = this.root;\n      root.setAttribute(\"data-xg-action\", action);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.recover();\n    }\n  }, {\n    key: \"getTouche\",\n    value: function getTouche(e) {\n      var rotateDeg = this.player.rotateDeg;\n      var touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n      return rotateDeg === 0 ? {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      } : {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      };\n    }\n  }, {\n    key: \"checkScope\",\n    value: function checkScope(x, y, diffx, diffy, pos) {\n      var width = pos.width;\n      var scope = -1;\n      if (x < 0 || x > width) {\n        return scope;\n      }\n      var mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n      if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n        scope = 0;\n      } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n        scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n      }\n      return scope;\n    }\n  }, {\n    key: \"executeMove\",\n    value: function executeMove(diffx, diffy, scope, width, height) {\n      switch (scope) {\n        case 0:\n          this.updateTime(diffx / width * this.config.scopeM);\n          break;\n        case 1:\n          this.updateBrightness(diffy / height);\n          break;\n        case 2:\n          if (!sniffer.os.isIos) {\n            this.updateVolume(diffy / height);\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"endLastMove\",\n    value: function endLastMove(lastScope) {\n      var _this4 = this;\n      var pos = this.pos, player = this.player, config = this.config;\n      var time = (pos.time - this.timeOffset) / 1e3;\n      switch (lastScope) {\n        case 0:\n          player.seek(Number(time).toFixed(1));\n          config.hideControlsEnd ? player.blur() : player.focus();\n          this.timer = setTimeout(function() {\n            _this4.pos.time = 0;\n          }, 500);\n          break;\n      }\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"checkIsRootTarget\",\n    value: function checkIsRootTarget(e) {\n      var plugins = this.player.plugins || {};\n      if (plugins.progress && plugins.progress.root.contains(e.target)) {\n        return false;\n      }\n      return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n    }\n  }, {\n    key: \"sendUseAction\",\n    value: function sendUseAction(event) {\n      var paused = this.player.paused;\n      this.emitUserAction(event, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: paused,\n        to: !paused\n      });\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var player = this.player, config = this.config, playerConfig = this.playerConfig;\n      if (player.state < STATES.RUNNING) {\n        if (!playerConfig.closeVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          player.play();\n        }\n        return;\n      }\n      if (!config.closedbClick || playerConfig.closeVideoClick) {\n        player.isActive ? player.blur() : player.focus();\n      } else if (!playerConfig.closeVideoClick) {\n        if (player.isActive || config.focusVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          this.switchPlayPause();\n        }\n        player.focus();\n      }\n    }\n  }, {\n    key: \"dbClickHandler\",\n    value: function dbClickHandler(e) {\n      var config = this.config, player = this.player;\n      if (!config.closedbClick && player.state >= STATES.RUNNING) {\n        this.sendUseAction(util.createEvent(\"dblclick\"));\n        this.switchPlayPause();\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var _this5 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[0], function(plugin, data) {\n        _this5.clickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onDbClick\",\n    value: function onDbClick(e) {\n      var _this6 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[1], function(plugin, data) {\n        _this6.dbClickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      pos.rate = this.player.playbackRate;\n      this.emitUserAction(\"press\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: config.pressRate\n      });\n      player.playbackRate = config.pressRate;\n      this.changeAction(ACTIONS.PLAYBACK);\n    }\n  }, {\n    key: \"onPressEnd\",\n    value: function onPressEnd(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      this.emitUserAction(\"pressend\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: pos.rate\n      });\n      player.playbackRate = pos.rate;\n      pos.rate = 1;\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(percent) {\n      var player = this.player, config = this.config;\n      var duration = this.player.duration;\n      percent = Number(percent.toFixed(4));\n      var time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n      time += this.pos.time;\n      time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n      player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n      player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n      this.activeSeekNote(time / 1e3, percent > 0);\n      if (config.isTouchingSeek) {\n        player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n      }\n      this.pos.time = time;\n    }\n  }, {\n    key: \"updateVolume\",\n    value: function updateVolume(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var player = this.player, pos = this.pos;\n      percent = parseInt(percent * 100, 10);\n      pos.volume += percent;\n      if (Math.abs(pos.volume) < 10) {\n        return;\n      }\n      var volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n      volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n      player.volume = volume / 10;\n      pos.volume = 0;\n    }\n  }, {\n    key: \"updateBrightness\",\n    value: function updateBrightness(percent) {\n      var pos = this.pos, config = this.config, xgMask = this.xgMask;\n      if (!config.darkness) {\n        return;\n      }\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var light = pos.light + 0.8 * percent;\n      light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n      if (xgMask) {\n        xgMask.style.backgroundColor = \"rgba(0,0,0,\".concat(light, \")\");\n      }\n      pos.light = light;\n    }\n  }, {\n    key: \"activeSeekNote\",\n    value: function activeSeekNote(time) {\n      var isForward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var player = this.player, config = this.config;\n      var isLive = !(this.duration !== Infinity && this.duration > 0);\n      if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n        return;\n      }\n      if (time < 0) {\n        time = 0;\n      } else if (time > player.duration) {\n        time = player.duration - 0.2;\n      }\n      this.changeAction(ACTIONS.SEEKING);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.focusHide();\n      this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n      this.find(\".xg-cur\").innerHTML = util.format(time);\n      this.find(\".xg-curbar\").style.width = \"\".concat(time / this.duration * 100, \"%\");\n      if (isForward) {\n        util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      } else {\n        util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      }\n      this.updateThumbnails(time);\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n      }\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause() {\n      var player = this.player;\n      if (player.state < STATES.ATTACHED) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }, {\n    key: \"disableGesture\",\n    value: function disableGesture() {\n      this.config.disableGesture = true;\n    }\n  }, {\n    key: \"enableGesture\",\n    value: function enableGesture() {\n      this.config.disableGesture = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.timer && clearTimeout(this.timer);\n      this.thumbnail = null;\n      player.root.removeChild(this.xgMask);\n      this.xgMask = null;\n      this.touch && this.touch.destroy();\n      this.touch = null;\n      player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n      player.root.removeEventListener(\"touchcancel\", this.onRootTouchEnd, true);\n      var controls = this.player.controls;\n      if (controls && controls.center) {\n        controls.center.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n        controls.center.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n        controls.center.removeEventListener(\"touchcancel\", this.onRootTouchEnd, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.config.gradient !== \"normal\" ? \"gradient \".concat(this.config.gradient) : \"gradient\";\n      return '\\n     <xg-trigger class=\"trigger\">\\n     <div class=\"'.concat(className, '\"></div>\\n        <div class=\"time-preview\">\\n            <div class=\"xg-seek-show ').concat(this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\", '\">\\n              <i class=\"xg-seek-icon\"></i>\\n              <span class=\"xg-cur\">00:00</span>\\n              <span class=\"xg-separator\">/</span>\\n              <span class=\"xg-dur\">00:00</span>\\n            </div>\\n              <div class=\"xg-bar xg-timebar\">\\n                <div class=\"xg-curbar\"></div>\\n              </div>\\n        </div>\\n        <div class=\"xg-playbackrate xg-top-note\">\\n            <span><i>').concat(this.config.pressRate, \"X</i>\").concat(this.i18n.FORWARD, \"</span>\\n        </div>\\n     </xg-trigger>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"mobile\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 0,\n        disableGesture: false,\n        gestureX: true,\n        gestureY: true,\n        gradient: \"normal\",\n        isTouchingSeek: false,\n        miniMoveStep: 5,\n        miniYPer: 5,\n        scopeL: 0.25,\n        scopeR: 0.25,\n        scopeM: 0.9,\n        pressRate: 2,\n        darkness: true,\n        maxDarkness: 0.8,\n        disableActive: false,\n        disableTimeProgress: false,\n        hideControlsActive: false,\n        hideControlsEnd: false,\n        moveDuration: 60 * 6 * 1e3,\n        closedbClick: false,\n        disablePress: true,\n        disableSeekIcon: false,\n        focusVideoClick: false\n      };\n    }\n  }]);\n  return MobilePlugin2;\n}(Plugin);\nexport { MobilePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  var tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nvar Keyboard = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Keyboard2, _BasePlugin);\n  var _super = _createSuper(Keyboard2);\n  function Keyboard2() {\n    var _this;\n    _classCallCheck(this, Keyboard2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyDown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var keyCode = e.keyCode;\n      var _assertThisInitialize = _assertThisInitialized(_this), _keyState = _assertThisInitialize._keyState, player = _assertThisInitialize.player;\n      var _this$config = _this.config, disable = _this$config.disable, disableBodyTrigger = _this$config.disableBodyTrigger, isIgnoreUserActive = _this$config.isIgnoreUserActive;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !_this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || _this.config.isGlobalTrigger && !isDisableTag(e.target)) && _this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", _this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyUp\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", _this.onBodyKeyUp);\n      _this.handleKeyUp(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeydown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _keyState = _assertThisInitialize2._keyState;\n      if (!e.repeat) {\n        if (_this.config.disable || _this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || _this.checkCode(e.keyCode)) && (e.target === _this.player.root || e.target === _this.player.video || e.target === _this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        _this.player.root.addEventListener(\"keyup\", _this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyup\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      _this.player.root.removeEventListener(\"keyup\", _this.onKeyup);\n      _this.handleKeyUp(event);\n    });\n    return _this;\n  }\n  _createClass(Keyboard2, [{\n    key: \"mergekeyCodeMap\",\n    value: function mergekeyCodeMap() {\n      var _this2 = this;\n      var extendkeyCodeMap = this.config.keyCodeMap;\n      if (extendkeyCodeMap) {\n        Object.keys(extendkeyCodeMap).map(function(key) {\n          if (!_this2.keyCodeMap[key]) {\n            _this2.keyCodeMap[key] = extendkeyCodeMap[key];\n          } else {\n            [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map(function(key1) {\n              extendkeyCodeMap[key][key1] && (_this2.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.config.disable = !this.playerConfig.keyShortcut;\n      var seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n      if (!(!seekStep || typeof seekStep !== \"number\")) {\n        this.seekStep = seekStep;\n      }\n      this.keyCodeMap = {\n        space: {\n          keyCode: 32,\n          action: \"playPause\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: false\n        },\n        up: {\n          keyCode: 38,\n          action: \"upVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        down: {\n          keyCode: 40,\n          action: \"downVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        left: {\n          keyCode: 37,\n          action: \"seekBack\",\n          disablePress: false,\n          disable: false\n        },\n        right: {\n          keyCode: 39,\n          action: \"seek\",\n          pressAction: \"changePlaybackRate\",\n          disablePress: false,\n          disable: false\n        },\n        esc: {\n          keyCode: 27,\n          action: \"exitFullscreen\",\n          disablePress: true,\n          disable: false\n        }\n      };\n      this.mergekeyCodeMap();\n      this._keyState = {\n        isKeyDown: false,\n        isBodyKeyDown: false,\n        isPress: false,\n        tt: 0,\n        playbackRate: 0\n      };\n      this.player.root.addEventListener(\"keydown\", this.onKeydown);\n      document.addEventListener(\"keydown\", this.onBodyKeyDown);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this3 = this;\n      Object.keys(newConfig).forEach(function(key) {\n        _this3.config[key] = newConfig[key];\n      });\n    }\n  }, {\n    key: \"checkIsVisible\",\n    value: function checkIsVisible() {\n      if (!this.config.checkVisible) {\n        return true;\n      }\n      var rec = this.player.root.getBoundingClientRect();\n      var height = rec.height, top = rec.top, bottom = rec.bottom;\n      var h = window.innerHeight;\n      if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"checkCode\",\n    value: function checkCode(code, isBodyTarget) {\n      var _this4 = this;\n      var flag = false;\n      Object.keys(this.keyCodeMap).map(function(key) {\n        if (_this4.keyCodeMap[key] && code === _this4.keyCodeMap[key].keyCode && !_this4.keyCodeMap[key].disable) {\n          flag = !isBodyTarget || isBodyTarget && !_this4.keyCodeMap[key].noBodyTarget;\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"downVolume\",\n    value: function downVolume(event) {\n      var player = this.player;\n      if (player.volume <= 0) {\n        return;\n      }\n      var val = parseFloat((player.volume - 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val >= 0) {\n        player.volume = val;\n      } else {\n        player.volume = 0;\n      }\n    }\n  }, {\n    key: \"upVolume\",\n    value: function upVolume(event) {\n      var player = this.player;\n      if (player.volume >= 1) {\n        return;\n      }\n      var val = parseFloat((player.volume + 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val <= 1) {\n        player.volume = val;\n      } else {\n        player.volume = 1;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      var _this$player = this.player, currentTime = _this$player.currentTime, offsetCurrentTime = _this$player.offsetCurrentTime, duration = _this$player.duration, offsetDuration = _this$player.offsetDuration, timeSegments = _this$player.timeSegments;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _duration = offsetDuration || duration;\n      var _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      if (_time + _step <= _duration) {\n        _time = _time + _step;\n      } else {\n        _time = _duration;\n      }\n      var _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"seekBack\",\n    value: function seekBack(event) {\n      var _this$player2 = this.player, currentTime = _this$player2.currentTime, offsetCurrentTime = _this$player2.offsetCurrentTime, timeSegments = _this$player2.timeSegments;\n      var _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _seekTime = _time - _step;\n      if (_seekTime < 0) {\n        _seekTime = 0;\n      }\n      _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"changePlaybackRate\",\n    value: function changePlaybackRate(event) {\n      var _keyState = this._keyState, config = this.config, player = this.player;\n      if (_keyState.playbackRate === 0) {\n        _keyState.playbackRate = player.playbackRate;\n        player.playbackRate = config.playbackRate;\n      }\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause(event) {\n      var player = this.player;\n      if (!player) {\n        return;\n      }\n      this.emitUserAction(event, \"switch_play_pause\");\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(event) {\n      var player = this.player;\n      var fullscreen = player.fullscreen, cssfullscreen = player.cssfullscreen;\n      if (fullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n        player.exitFullscreen();\n      }\n      if (cssfullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n          prop: \"cssfullscreen\",\n          from: cssfullscreen,\n          to: !cssfullscreen\n        });\n        player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var _keyState = this._keyState;\n      if (e.repeat) {\n        _keyState.isPress = true;\n        var _t = Date.now();\n        if (_t - _keyState.tt < 200) {\n          return;\n        }\n        _keyState.tt = _t;\n      }\n      this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      var _keyState = this._keyState;\n      if (_keyState.playbackRate > 0) {\n        this.player.playbackRate = _keyState.playbackRate;\n        _keyState.playbackRate = 0;\n      }\n      _keyState.isKeyDown = false;\n      _keyState.isPress = false;\n      _keyState.tt = 0;\n    }\n  }, {\n    key: \"handleKeyCode\",\n    value: function handleKeyCode(curKeyCode, event, isPress) {\n      var arr = Object.keys(this.keyCodeMap);\n      for (var i = 0; i < arr.length; i++) {\n        var _this$keyCodeMap$arr$ = this.keyCodeMap[arr[i]], action = _this$keyCodeMap$arr$.action, keyCode = _this$keyCodeMap$arr$.keyCode, disable = _this$keyCodeMap$arr$.disable, pressAction = _this$keyCodeMap$arr$.pressAction, disablePress = _this$keyCodeMap$arr$.disablePress;\n        if (keyCode === curKeyCode) {\n          if (!disable && !(isPress && disablePress)) {\n            var _action = !isPress ? action : pressAction || action;\n            if (typeof _action === \"function\") {\n              action(event, this.player, isPress);\n            } else if (typeof _action === \"string\") {\n              if (typeof this[_action] === \"function\") {\n                this[_action](event, this.player, isPress);\n              }\n            }\n            this.emit(SHORTCUT, _objectSpread2({\n              key: arr[i],\n              target: event.target,\n              isPress\n            }, this.keyCodeMap[arr[i]]));\n          }\n          preventDefault(event);\n          event.stopPropagation();\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n      document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"keyboard\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        seekStep: 10,\n        checkVisible: false,\n        disableBodyTrigger: false,\n        disableRootTrigger: false,\n        isGlobalTrigger: true,\n        keyCodeMap: {},\n        disable: false,\n        playbackRate: 2,\n        isIgnoreUserActive: true\n      };\n    }\n  }]);\n  return Keyboard2;\n}(BasePlugin);\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nvar Loading = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Loading2, _Plugin);\n  var _super = _createSuper(Loading2);\n  function Loading2() {\n    _classCallCheck(this, Loading2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Loading2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        loadingIcon\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '\\n    <xg-loading class=\"xgplayer-loading\">\\n      <xg-loading-inner></xg-loading-inner>\\n    </xg-loading>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"loading\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT\n      };\n    }\n  }]);\n  return Loading2;\n}(Plugin);\nexport { Loading as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar TimeSegmentsControls = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TimeSegmentsControls2, _BasePlugin);\n  var _super = _createSuper(TimeSegmentsControls2);\n  function TimeSegmentsControls2() {\n    var _this;\n    _classCallCheck(this, TimeSegmentsControls2);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onDurationChange\", function() {\n      _this.updateSegments();\n      var _this$player = _this.player, currentTime = _this$player.currentTime, timeSegments = _this$player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      var time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(index, timeSegments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadedData\", function() {\n      var timeSegments = _this.player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var time = util.getOffsetCurrentTime(0, timeSegments);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(0, timeSegments);\n      if (_this.curPos.start > 0) {\n        _this.player.currentTime = _this.curPos.start;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      var _this$player2 = _this.player, currentTime = _this$player2.currentTime, timeSegments = _this$player2.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var _len = timeSegments.length;\n      _this.lastCurrentTime = currentTime;\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== _this.curIndex) {\n        _this.changeIndex(index, timeSegments);\n      }\n      var curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = curTime;\n      if (!_this.curPos) {\n        return;\n      }\n      var _this$curPos = _this.curPos, start = _this$curPos.start, end = _this$curPos.end;\n      if (currentTime < start) {\n        _this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        _this.player.pause();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      var _this$player3 = _this.player, currentTime = _this$player3.currentTime, timeSegments = _this$player3.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        _this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        var _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          var _seekTime = _this.getSeekTime(currentTime, _this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            _this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", function() {\n      var _this$player4 = _this.player, currentTime = _this$player4.currentTime, timeSegments = _this$player4.timeSegments;\n      if (_this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[0].start;\n      }\n    });\n    return _this;\n  }\n  _createClass(TimeSegmentsControls2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.curIndex = -1;\n      this.curPos = null;\n      this.lastCurrentTime = 0;\n      this.updateSegments();\n      this.on(DURATION_CHANGE, this._onDurationChange);\n      this.on(LOADED_DATA, this._onLoadedData);\n      this.on(TIME_UPDATE, this._onTimeupdate);\n      this.on(SEEKING, this._onSeeking);\n      this.on(PLAY, this._onPlay);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this2 = this;\n      if (!newConfig) {\n        return;\n      }\n      var keys = Object.keys(newConfig);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this2.config[key] = newConfig[key];\n      });\n      this.updateSegments();\n    }\n  }, {\n    key: \"updateSegments\",\n    value: function updateSegments() {\n      var _this$config = this.config, disable = _this$config.disable, segments = _this$config.segments;\n      var player = this.player;\n      if (disable || !segments || segments.length === 0) {\n        player.timeSegments = [];\n        player.offsetDuration = 0;\n        player.offsetCurrentTime = -1;\n      } else {\n        var _segs = this.formatTimeSegments(segments, player.duration);\n        player.timeSegments = _segs;\n        player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n      }\n    }\n  }, {\n    key: \"formatTimeSegments\",\n    value: function formatTimeSegments(timeSegments, duration) {\n      var ret = [];\n      if (!timeSegments) {\n        return [];\n      }\n      timeSegments.sort(function(a, b) {\n        return a.start - b.start;\n      });\n      timeSegments.forEach(function(item, index) {\n        var _item = {};\n        _item.start = item.start < 0 ? 0 : item.start;\n        _item.end = duration > 0 && item.end > duration ? duration : item.end;\n        if (duration > 0 && _item.start > duration) {\n          return;\n        }\n        ret.push(_item);\n        var _segDuration = _item.end - _item.start;\n        if (index === 0) {\n          _item.offset = item.start;\n          _item.cTime = 0;\n          _item.segDuration = _segDuration;\n          _item.duration = _segDuration;\n        } else {\n          var last = ret[index - 1];\n          _item.offset = last.offset + (_item.start - last.end);\n          _item.cTime = last.duration + last.cTime;\n          _item.segDuration = _segDuration;\n          _item.duration = last.duration + _segDuration;\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n      var _time = -1;\n      var _timeSegments$index = timeSegments[index], start = _timeSegments$index.start, end = _timeSegments$index.end;\n      if (currentTime >= start && currentTime <= end) {\n        return _time;\n      }\n      var diff = currentTime - lastCurrentTime;\n      if (diff < 0) {\n        if (currentTime < start) {\n          var diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n          _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n          return _time;\n        }\n      }\n      return -1;\n    }\n  }, {\n    key: \"_checkIfEnabled\",\n    value: function _checkIfEnabled(segments) {\n      return !(!segments || segments.length < 1);\n    }\n  }, {\n    key: \"changeIndex\",\n    value: function changeIndex(index, timeSegments) {\n      this.curIndex = index;\n      if (index >= 0 && timeSegments.length > 0) {\n        this.curPos = timeSegments[index];\n      } else {\n        this.curPos = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"TimeSegmentsControls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: true,\n        segments: []\n      };\n    }\n  }]);\n  return TimeSegmentsControls2;\n}(BasePlugin);\nexport { TimeSegmentsControls as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g>\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath>\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nvar Rotate = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Rotate2, _IconPlugin);\n  var _super = _createSuper(Rotate2);\n  function Rotate2(args) {\n    var _this;\n    _classCallCheck(this, Rotate2);\n    _this = _super.call(this, args);\n    _this.rotateDeg = _this.config.rotateDeg || 0;\n    return _this;\n  }\n  _createClass(Rotate2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.config.disable) {\n        return;\n      }\n      _get(_getPrototypeOf(Rotate2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n      this.onBtnClick = this.onBtnClick.bind(this);\n      this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n      this.on(VIDEO_RESIZE, function() {\n        if (_this2.rotateDeg && _this2.config.innerRotate) {\n          util.setTimeout(_this2, function() {\n            _this2.updateRotateDeg(_this2.rotateDeg, _this2.config.innerRotate);\n          }, 100);\n        }\n      });\n      var root = this.player.root;\n      this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n      this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n      if (this.rotateDeg) {\n        this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Rotate2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    }\n  }, {\n    key: \"onBtnClick\",\n    value: function onBtnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"rotate\");\n      this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n    }\n  }, {\n    key: \"updateRotateDeg\",\n    value: function updateRotateDeg(rotateDeg, innerRotate) {\n      if (!rotateDeg) {\n        rotateDeg = 0;\n      }\n      if (innerRotate) {\n        this.player.videoRotateDeg = rotateDeg;\n        return;\n      }\n      var player = this.player, rootWidth = this.rootWidth, rootHeight = this.rootHeight;\n      var root = player.root, innerContainer = player.innerContainer;\n      var video = player.media;\n      var width = root.offsetWidth;\n      var height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n      var rWidth = rootWidth;\n      var rHeight = rootHeight;\n      var x = 0;\n      var y = 0;\n      if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n        rWidth = \"\".concat(height, \"px\");\n        rHeight = \"\".concat(width, \"px\");\n        x = -(height - width) / 2;\n        y = -(width - height) / 2;\n      }\n      var _transform = \"translate(\".concat(x, \"px,\").concat(y, \"px) rotate(\").concat(rotateDeg, \"turn)\");\n      var _styles = {\n        transformOrigin: \"center center\",\n        transform: _transform,\n        webKitTransform: _transform,\n        height: rHeight,\n        width: rWidth\n      };\n      var _target = innerRotate ? video : root;\n      var poster = innerRotate ? player.getPlugin(\"poster\") : null;\n      Object.keys(_styles).map(function(key) {\n        _target.style[key] = _styles[key];\n        poster && poster.root && (poster.root.style[key] = _styles[key]);\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate() {\n      var clockwise = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var innerRotate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var times = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;\n      var player = this.player;\n      if (!this.rotateDeg) {\n        this.rotateDeg = 0;\n      }\n      var factor = clockwise ? 1 : -1;\n      this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n      this.updateRotateDeg(this.rotateDeg, innerRotate);\n      player.emit(ROTATE, this.rotateDeg * 360);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        rotate: RotateSvg\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n    <xg-icon class=\"xgplayer-rotate\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"rotate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        innerRotate: true,\n        clockwise: false,\n        rotateDeg: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Rotate2;\n}(Icon);\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nvar PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nvar PIP = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(PIP2, _IconPlugin);\n  var _super = _createSuper(PIP2);\n  function PIP2() {\n    var _this;\n    _classCallCheck(this, PIP2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"switchPIP\", function(e) {\n      if (!_this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (_this.isPip) {\n        _this.exitPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: true,\n          to: false\n        });\n        _this.setAttr(\"data-state\", \"normal\");\n      } else if (_this.player.media.readyState === 4) {\n        _this.requestPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: false,\n          to: true\n        });\n        _this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n    return _this;\n  }\n  _createClass(PIP2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.pip === \"boolean\") {\n        args.config.showIcon = args.player.config.pip;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.isPIPAvailable()) {\n        return;\n      }\n      _get(_getPrototypeOf(PIP2.prototype), \"afterCreate\", this).call(this);\n      this.pMode = PresentationMode.INLINE;\n      this.initPipEvents();\n      if (this.config.showIcon) {\n        this.initIcons();\n      }\n      this.once(COMPLETE, function() {\n        if (_this2.config.showIcon) {\n          util.removeClass(_this2.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n          _this2.bind(\"click\", _this2.switchPIP);\n        }\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        pipIcon: {\n          icon: PipIcon,\n          class: \"xg-get-pip\"\n        },\n        pipIconExit: {\n          icon: PipIconExit,\n          class: \"xg-exit-pip\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n      this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n    }\n  }, {\n    key: \"initPipEvents\",\n    value: function initPipEvents() {\n      var _this3 = this;\n      var player = this.player;\n      this.leavePIPCallback = function() {\n        var paused = player.paused;\n        util.setTimeout(_this3, function() {\n          !paused && player.mediaPlay();\n        }, 0);\n        !paused && player.mediaPlay();\n        _this3.setAttr(\"data-state\", \"normal\");\n        _this3.pipWindow = null;\n        player.emit(PIP_CHANGE, false);\n      };\n      this.enterPIPCallback = function(e) {\n        player.emit(PIP_CHANGE, true);\n        if (e !== null && e !== void 0 && e.pictureInPictureWindow) {\n          _this3.pipWindow = e.pictureInPictureWindow;\n        }\n        _this3.setAttr(\"data-state\", \"pip\");\n      };\n      this.onWebkitpresentationmodechanged = function(e) {\n        var mode = player.media.webkitPresentationMode;\n        if (_this3.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n          player.onFullscreenChange(null, false);\n        }\n        _this3.pMode = mode;\n        if (mode === PresentationMode.PIP) {\n          _this3.enterPIPCallback(e);\n        } else if (mode === PresentationMode.INLINE) {\n          _this3.leavePIPCallback(e);\n        }\n      };\n      if (player.media) {\n        player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n        player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n        PIP2.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      }\n    }\n  }, {\n    key: \"copyStyleIntoPiPWindow\",\n    value: function copyStyleIntoPiPWindow(pipWin) {\n      var textContent = _toConsumableArray(document.styleSheets).map(function(style2) {\n        try {\n          return _toConsumableArray(style2.cssRules).map(function(rule) {\n            return rule.cssText;\n          }).join(\"\");\n        } catch (e) {\n          var link = document.createElement(\"link\");\n          link.rel = \"stylesheet\";\n          link.type = style2.type;\n          link.media = style2.media;\n          link.href = style2.href;\n          pipWin.document.head.appendChild(link);\n        }\n        return \"\";\n      }).filter(Boolean).join(\"\\n\");\n      var style = document.createElement(\"style\");\n      style.textContent = textContent;\n      pipWin.document.head.appendChild(style);\n    }\n  }, {\n    key: \"requestPIP\",\n    value: function requestPIP() {\n      var _this4 = this;\n      var player = this.player, playerConfig = this.playerConfig, config = this.config;\n      if (!this.isPIPAvailable() || this.isPip) {\n        return;\n      }\n      try {\n        var poster = playerConfig.poster;\n        if (poster) {\n          player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n        }\n        if (config.preferDocument && this.isDocPIPAvailable()) {\n          var pipOptions = {};\n          if (config.width && config.height) {\n            pipOptions.width = config.width;\n            pipOptions.height = config.height;\n          } else {\n            var playerRect = player.root.getBoundingClientRect();\n            pipOptions.width = playerRect.width;\n            pipOptions.height = playerRect.height;\n          }\n          documentPictureInPicture.requestWindow(pipOptions).then(function(pipWin) {\n            var docPiPNode = config.docPiPNode, docPiPStyle = config.docPiPStyle;\n            _this4.enterPIPCallback();\n            var pipRoot = docPiPNode || player.root;\n            var parentNode = pipRoot.parentElement;\n            var previousSibling = pipRoot.previousSibling;\n            var nextSibling = pipRoot.nextSibling;\n            _this4.copyStyleIntoPiPWindow(pipWin);\n            var styles = document.createElement(\"style\");\n            styles.append(\"body{padding:0; margin:0;}\");\n            if (docPiPStyle) {\n              var cssContent = \"\";\n              if (typeof docPiPStyle === \"string\") {\n                cssContent = docPiPStyle;\n              } else if (typeof docPiPStyle === \"function\") {\n                cssContent = docPiPStyle.call(config);\n              }\n              if (cssContent) {\n                styles.append(cssContent);\n              }\n            } else if (pipRoot === player.root) {\n              styles.append(\"\\n              .xgplayer{width: 100%!important; height: 100%!important;}\\n            \");\n            }\n            pipWin.document.head.append(styles);\n            pipWin.document.body.append(pipRoot);\n            pipWin.addEventListener(\"pagehide\", function(event) {\n              if (parentNode) {\n                if (nextSibling) {\n                  parentNode.insertBefore(pipRoot, nextSibling);\n                } else if (previousSibling) {\n                  parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n                } else {\n                  parentNode.appendChild(pipRoot);\n                }\n              } else {\n              }\n              _this4.leavePIPCallback();\n            }, {\n              once: true\n            });\n          });\n        } else if (PIP2.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"picture-in-picture\");\n        } else {\n          player.media.requestPictureInPicture();\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"requestPiP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"exitPIP\",\n    value: function exitPIP() {\n      var player = this.player;\n      try {\n        if (this.isPIPAvailable() && this.isPip) {\n          var _documentPictureInPic;\n          if (this.isDocPIPAvailable() && (_documentPictureInPic = documentPictureInPicture) !== null && _documentPictureInPic !== void 0 && _documentPictureInPic.window) {\n            documentPictureInPicture.window.close();\n          } else if (PIP2.checkWebkitSetPresentationMode(player.media)) {\n            player.media.webkitSetPresentationMode(\"inline\");\n          } else {\n            document.exitPictureInPicture();\n          }\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"exitPIP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"isPip\",\n    get: function get() {\n      var _documentPictureInPic2;\n      var player = this.player;\n      return !!(this.isDocPIPAvailable() && (_documentPictureInPic2 = documentPictureInPicture) !== null && _documentPictureInPic2 !== void 0 && _documentPictureInPic2.window) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n    }\n  }, {\n    key: \"isPIPAvailable\",\n    value: function isPIPAvailable() {\n      var video = this.player.media;\n      var _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : false;\n      return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n    }\n  }, {\n    key: \"isDocPIPAvailable\",\n    value: function isDocPIPAvailable() {\n      return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PIP2.prototype), \"destroy\", this).call(this);\n      var player = this.player;\n      player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP2.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      this.exitPIP();\n      this.unbind(\"click\", this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.showIcon || !this.isPIPAvailable()) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-pip\">\\n      <div class=\"xgplayer-icon xg-icon-disable\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PIP\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pip\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        showIcon: false,\n        preferDocument: false,\n        width: void 0,\n        height: void 0,\n        docPiPNode: void 0,\n        docPiPStyle: void 0\n      };\n    }\n  }, {\n    key: \"checkWebkitSetPresentationMode\",\n    value: function checkWebkitSetPresentationMode(video) {\n      return typeof video.webkitSetPresentationMode === \"function\";\n    }\n  }]);\n  return PIP2;\n}(Icon);\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nvar PlayNextIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(PlayNextIcon2, _Plugin);\n  var _super = _createSuper(PlayNextIcon2);\n  function PlayNextIcon2(options) {\n    var _this;\n    _classCallCheck(this, PlayNextIcon2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"playNext\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.idx + 1 < _this.config.urlList.length) {\n        _this.idx++;\n        _this.nextHandler(_this.config.urlList[_this.idx], _this.idx);\n        player.emit(PLAYNEXT, _this.idx + 1);\n      } else {\n        _this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    _this.idx = -1;\n    return _this;\n  }\n  _createClass(PlayNextIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n      this.initEvents();\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        playNext: Next\n      };\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n      var event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n      this.bind(event, this.playNext);\n      this.show();\n    }\n  }, {\n    key: \"changeSrc\",\n    value: function changeSrc(url) {\n      var player = this.player;\n      if (!url) {\n        return;\n      }\n      player.pause();\n      player.currentTime = 0;\n      if (player.switchURL) {\n        player.switchURL(url);\n      } else {\n        player.src = url;\n      }\n      player.config.url = url;\n      player.play();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"touchend\", \"click\"], this.playNext);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      return '\\n     <xg-icon class=\"xgplayer-playnext\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips), \"\\n     </xg-icon>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playNext\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 1,\n        url: null,\n        urlList: []\n      };\n    }\n  }]);\n  return PlayNextIcon2;\n}(Plugin);\nexport { PlayNextIcon as default };\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nvar Download = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Download2, _IconPlugin);\n  var _super = _createSuper(Download2);\n  function Download2(args) {\n    var _this;\n    _classCallCheck(this, Download2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"download\", function(e) {\n      if (_this.isLock) {\n        return;\n      }\n      _this.emitUserAction(e, \"download\");\n      var url = _this.playerConfig.url;\n      var dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      var newUrl = _this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      _this.isLock = true;\n      _this.timer = window.setTimeout(function() {\n        _this.isLock = false;\n        window.clearTimeout(_this.timer);\n        _this.timer = null;\n      }, 300);\n    });\n    _this.timer = null;\n    _this.isLock = false;\n    return _this;\n  }\n  _createClass(Download2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Download2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.download);\n      this._handler = this.hook(\"click\", this.download, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this._handler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        download: DownloadSvg\n      };\n    }\n  }, {\n    key: \"getAbsoluteURL\",\n    value: function getAbsoluteURL(url) {\n      if (!url.match(/^https?:\\/\\//)) {\n        var div = document.createElement(\"div\");\n        div.innerHTML = '<a href=\"'.concat(url, '\">x</a>');\n        url = div.firstChild.href;\n      }\n      return url;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Download2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.download);\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-download\">\\n   <div class=\"xgplayer-icon\">\\n   </div>\\n   '.concat(xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"download\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        disable: true\n      };\n    }\n  }]);\n  return Download2;\n}(Icon);\nexport { Download as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nvar ScreenShot = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(ScreenShot2, _IconPlugin);\n  var _super = _createSuper(ScreenShot2);\n  function ScreenShot2() {\n    _classCallCheck(this, ScreenShot2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ScreenShot2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.screenShot === \"boolean\") {\n        args.config.disable = !args.player.config.screenShot;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n      var config = this.config;\n      this.initSize = function(data) {\n        if (config.fitVideo) {\n          config.width = data.vWidth;\n          config.height = data.vHeight;\n        }\n      };\n      this.once(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      this.show();\n      this.onClickBtn = this.onClickBtn.bind(this);\n      this.bind([\"click\", \"touchend\"], this.onClickBtn);\n    }\n  }, {\n    key: \"saveScreenShot\",\n    value: function saveScreenShot(data, filename) {\n      var saveLink = document.createElement(\"a\");\n      saveLink.href = data;\n      saveLink.download = filename;\n      var event;\n      try {\n        if (typeof MouseEvent !== \"undefined\") {\n          event = new MouseEvent(\"click\", {\n            bubbles: true,\n            cancelable: true,\n            view: window\n          });\n        } else {\n          event = document.createEvent(\"MouseEvents\");\n          event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        }\n      } catch (e) {\n        console.error(\"MouseEvent unsupported\", e);\n      }\n      if (event) {\n        saveLink.dispatchEvent(event);\n      }\n    }\n  }, {\n    key: \"createCanvas\",\n    value: function createCanvas(width, height) {\n      var canvas = document.createElement(\"canvas\");\n      var canvasCtx = canvas.getContext(\"2d\");\n      this.canvasCtx = canvasCtx;\n      this.canvas = canvas;\n      canvas.width = width || this.config.width;\n      canvas.height = height || this.config.height;\n      canvasCtx.imageSmoothingEnabled = true;\n      if (canvasCtx.imageSmoothingEnabled) {\n        canvasCtx.imageSmoothingQuality = \"high\";\n      }\n    }\n  }, {\n    key: \"onClickBtn\",\n    value: function onClickBtn(e) {\n      var _this = this;\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"shot\");\n      var config = this.config;\n      this.shot(config.width, config.height).then(function(data) {\n        _this.emit(SCREEN_SHOT, data);\n        if (config.saveImg) {\n          _this.saveScreenShot(data, config.name + config.format);\n        }\n      });\n    }\n  }, {\n    key: \"shot\",\n    value: function shot(width, height) {\n      var _this2 = this;\n      var option = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n        quality: 0.92,\n        type: \"image/png\"\n      };\n      var config = this.config, player = this.player;\n      var quality = option.quality || config.quality;\n      var type = option.type || config.type;\n      return new Promise(function(resolve, reject) {\n        var canvas = null;\n        var canvasCtx;\n        if (player.media.canvas) {\n          canvas = player.media.canvas;\n        } else {\n          if (!_this2.canvas) {\n            _this2.createCanvas(width, height);\n          } else {\n            _this2.canvas.width = width || config.width;\n            _this2.canvas.height = height || config.height;\n          }\n          canvas = _this2.canvas;\n          canvasCtx = _this2.canvasCtx;\n          var mediaRatio = player.media.videoWidth / player.media.videoHeight;\n          var canvasRatio = canvas.width / canvas.height;\n          var sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n          var dx, dy, dw, dh;\n          if (mediaRatio > canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.width / mediaRatio;\n            dx = 0;\n            dy = Math.round((canvas.height - dh) / 2);\n          } else if (mediaRatio === canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.height;\n            dx = 0;\n            dy = 0;\n          } else if (mediaRatio < canvasRatio) {\n            dw = canvas.height * mediaRatio;\n            dh = canvas.height;\n            dx = Math.round((canvas.width - dw) / 2);\n            dy = 0;\n          }\n          canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n        }\n        var src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n        src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n        resolve(src);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenshotIcon: null\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n      this.off(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n      var langKey = \"SCREENSHOT\";\n      return '\\n      <xg-icon class=\"xgplayer-shot\">\\n      <div class=\"'.concat(className, '\">\\n      ').concat(this.icons.screenshotIcon ? \"\" : '<span lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span>\"), \"\\n      </div>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"screenShot\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 5,\n        quality: 0.92,\n        type: \"image/png\",\n        format: \".png\",\n        width: 600,\n        height: 337,\n        saveImg: true,\n        fitVideo: true,\n        disable: false,\n        name: \"screenshot\"\n      };\n    }\n  }]);\n  return ScreenShot2;\n}(Icon);\nexport { ScreenShot as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar OptionList = /* @__PURE__ */ function() {\n  function OptionList2(args) {\n    _classCallCheck(this, OptionList2);\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, \"xg-options-list xg-list-slide-scroll \".concat(this.config.className));\n    args.root.appendChild(this.root);\n    var maxHeight = this.config.maxHeight;\n    if (maxHeight) {\n      this.setStyle({\n        maxHeight\n      });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    var eventName = this.config.domEventType === \"touch\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  _createClass(OptionList2, [{\n    key: \"renderItemList\",\n    value: function renderItemList(data) {\n      var _this = this;\n      var config = this.config, root = this.root;\n      if (data) {\n        config.data = data;\n      } else {\n        data = config.data;\n      }\n      if (config.style) {\n        Object.keys(config.style).map(function(key) {\n          root.style[key] = config[key];\n        });\n      }\n      if (data.length > 0) {\n        this.attrKeys = Object.keys(data[0]);\n      }\n      this.root.innerHTML = \"\";\n      data.map(function(item, index) {\n        var className = item.selected ? \"option-item selected\" : \"option-item\";\n        item[\"data-index\"] = index;\n        _this.root.appendChild(util.createDom(\"li\", \"<span>\".concat(item.showText, \"</span>\"), item, className));\n      });\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e) {\n      if (!e.delegateTarget) {\n        e.delegateTarget = e.target;\n      }\n      var target = e.delegateTarget;\n      if (target && util.hasClass(target, \"selected\")) {\n        return false;\n      }\n      var changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n      var curSelected = this.root.querySelector(\".selected\");\n      util.addClass(target, \"selected\");\n      curSelected && util.removeClass(curSelected, \"selected\");\n      changeCallback(e, {\n        from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n        to: this.getAttrObj(target, this.attrKeys)\n      });\n    }\n  }, {\n    key: \"getAttrObj\",\n    value: function getAttrObj(dom, keys) {\n      if (!dom || !keys) {\n        return {};\n      }\n      var obj = {};\n      keys.map(function(key) {\n        obj[key] = dom.getAttribute(key);\n      });\n      var index = dom.getAttribute(\"data-index\");\n      if (index) {\n        obj.index = Number(index);\n      }\n      return obj;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"active\");\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).forEach(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._delegates) {\n        this._delegates.map(function(item) {\n          item.destroy && item.destroy();\n        });\n        this._delegates = null;\n      }\n      this.root.innerHTML = null;\n      this.parent.removeChild(this.root);\n      this.root = null;\n    }\n  }]);\n  return OptionList2;\n}();\nexport { OptionList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nvar LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\",\n  DEFAULT: \"default\"\n};\nvar TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nvar IS_MOBILE = sniffer.device === \"mobile\";\nvar OptionsIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(OptionsIcon2, _Plugin);\n  var _super = _createSuper(OptionsIcon2);\n  function OptionsIcon2(args) {\n    var _this;\n    _classCallCheck(this, OptionsIcon2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n      _this.switchActiveState(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"switchActiveState\", function(e) {\n      e.stopPropagation();\n      var toggleMode = _this.config.toggleMode;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        _this.toggle(!_this.isActive);\n      } else {\n        _this.toggle(true);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onLeave\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n      if (_this.config.listType !== LIST_TYPES.SIDE) {\n        _this.isActive && _this.toggle(false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListEnter\", function(e) {\n      _this.enterType = 2;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListLeave\", function(e) {\n      _this.enterType = 0;\n      _this.isActive && _this.toggle(false);\n    });\n    _this.isIcons = false;\n    _this.isActive = false;\n    _this.curValue = null;\n    _this.curIndex = 0;\n    return _this;\n  }\n  _createClass(OptionsIcon2, [{\n    key: \"updateLang\",\n    value: function updateLang(value) {\n      this.renderItemList(this.config.list, this.curIndex);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var config = this.config;\n      this.initIcons();\n      IS_MOBILE = IS_MOBILE || this.domEventType === \"touch\";\n      if (IS_MOBILE && sniffer.device === \"mobile\" && config.listType === LIST_TYPES.DEFAULT) {\n        config.listType = LIST_TYPES.SIDE;\n      }\n      config.hidePortrait && util.addClass(this.root, \"portrait\");\n      this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], function() {\n        _this2._resizeList();\n      });\n      this.once(CANPLAY, function() {\n        if (config.list && config.list.length > 0) {\n          _this2.renderItemList(config.list);\n          _this2.show();\n        }\n      });\n      IS_MOBILE && this.on(PLAYER_FOCUS, function() {\n        if (!_this2.isActive) {\n          return;\n        }\n        _this2.optionsList && _this2.optionsList.hide();\n        _this2.isActive = false;\n      });\n      if (IS_MOBILE) {\n        config.toggleMode = TOGGLE_MODES.CLICK;\n        this.activeEvent = \"touchend\";\n      } else {\n        this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n      }\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.bind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.bind(this.activeEvent, this.onEnter);\n        this.bind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.bind(\"click\", this.onIconClick);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var _this3 = this;\n      var icons = this.icons;\n      var _c = Object.keys(icons);\n      var _isIcons = false;\n      if (_c.length > 0) {\n        _c.forEach(function(key) {\n          _this3.appendChild(\".xgplayer-icon\", icons[key]);\n          !_isIcons && (_isIcons = icons[key]);\n        });\n        this.isIcons = _isIcons;\n      }\n      if (_isIcons) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n      util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"getTextByLang\",\n    value: function getTextByLang(item, key, lang) {\n      if (item === void 0) {\n        return \"\";\n      }\n      var list = this.config.list;\n      !lang && (lang = this.player.lang);\n      key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n      typeof item === \"number\" && (item = list[item]);\n      try {\n        if (_typeof(item[key]) === \"object\") {\n          return item[key][lang] || item[key].en;\n        } else {\n          return item[key];\n        }\n      } catch (err) {\n        console.warn(err);\n        return \"\";\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(isActive) {\n      if (isActive === this.isActive || this.config.disable)\n        return;\n      var controls = this.player.controls;\n      var listType = this.config.listType;\n      if (isActive) {\n        listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n        this.optionsList && this.optionsList.show();\n      } else {\n        listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n        this.optionsList && this.optionsList.hide();\n      }\n      this.isActive = isActive;\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      e.stopPropagation();\n      var _this$config = this.config, listType = _this$config.listType, list = _this$config.list;\n      this.curIndex = data.to.index;\n      this.curItem = list[this.curIndex];\n      this.changeCurrentText();\n      var isItemClickHide = this.config.isItemClickHide;\n      (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n    }\n  }, {\n    key: \"onIconClick\",\n    value: function onIconClick(e) {\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      if (!curItem)\n        return;\n      this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList(itemList, curIndex) {\n      var _this4 = this;\n      var config = this.config, optionsList = this.optionsList, player = this.player;\n      if (typeof curIndex === \"number\") {\n        this.curIndex = curIndex;\n        this.curItem = config.list[curIndex];\n      }\n      if (optionsList) {\n        optionsList.renderItemList(itemList);\n        this.changeCurrentText();\n        return;\n      }\n      var options = {\n        config: {\n          data: itemList || [],\n          className: getListClassName(config.listType, config.position),\n          onItemClick: function onItemClick(e, data) {\n            _this4.onItemClick(e, data);\n          },\n          domEventType: IS_MOBILE ? \"touch\" : \"mouse\"\n        },\n        root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n      };\n      if (this.config.isShowIcon) {\n        var _this$player$root$get = this.player.root.getBoundingClientRect(), height = _this$player$root$get.height;\n        var _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n        if (_maxH && config.heightLimit) {\n          options.config.maxHeight = \"\".concat(_maxH, \"px\");\n        }\n        this.optionsList = new OptionList(options);\n        this.changeCurrentText();\n        this.show();\n      }\n      this._resizeList();\n    }\n  }, {\n    key: \"_resizeList\",\n    value: function _resizeList() {\n      if (!this.config.heightLimit) {\n        return;\n      }\n      var _this$player$root$get2 = this.player.root.getBoundingClientRect(), height = _this$player$root$get2.height;\n      var _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      this.optionsList && this.optionsList.setStyle({\n        maxHeight: \"\".concat(_maxH, \"px\")\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var config = this.config;\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.unbind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.unbind(this.activeEvent, this.onEnter);\n        this.unbind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.unbind(\"click\", this.onIconClick);\n      if (this.optionsList) {\n        this.optionsList.destroy();\n        this.optionsList = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.isShowIcon) {\n        return;\n      }\n      return '<xg-icon class=\"xg-options-icon '.concat(this.config.className || \"\", '\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n   </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"optionsIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 100,\n        list: [],\n        listType: \"default\",\n        listStyle: {},\n        hidePortrait: true,\n        isShowIcon: false,\n        isItemClickHide: true,\n        toggleMode: TOGGLE_MODES.HOVER,\n        heightLimit: true\n      };\n    }\n  }]);\n  return OptionsIcon2;\n}(Plugin);\nexport { OptionsIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar DefinitionIcon = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(DefinitionIcon2, _OptionsIcon);\n  var _super = _createSuper(DefinitionIcon2);\n  function DefinitionIcon2(args) {\n    var _this;\n    _classCallCheck(this, DefinitionIcon2);\n    _this = _super.call(this, args);\n    _this.curTime = 0;\n    _this.isPaused = true;\n    return _this;\n  }\n  _createClass(DefinitionIcon2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var list = args.config.list;\n      if (Array.isArray(list) && list.length > 0) {\n        args.config.list = list.map(function(item) {\n          if (!item.text && item.name) {\n            item.text = item.name;\n          }\n          if (!item.text) {\n            item.text = item.definition;\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"afterCreate\", this).call(this);\n      this.on(\"resourceReady\", function(list) {\n        _this2.changeDefinitionList(list);\n      });\n      this.on(DEFINITION_CHANGE, function(data) {\n        _this2.renderItemList(_this2.config.list, data.to);\n      });\n      if (this.player.definitionList.length < 2) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"initDefinition\",\n    value: function initDefinition() {\n      var _this$config = this.config, list = _this$config.list, defaultDefinition = _this$config.defaultDefinition;\n      if (list.length > 0) {\n        var to = null;\n        list.map(function(item) {\n          if (item.definition === defaultDefinition) {\n            to = item;\n          }\n        });\n        if (!to) {\n          to = list[0];\n        }\n        this.changeDefinition(to);\n      }\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.list || [];\n      var to = arguments.length > 1 ? arguments[1] : void 0;\n      var targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n      if (to) {\n        list.forEach(function(item) {\n          item.selected = false;\n        });\n      }\n      var curIndex = 0;\n      var items = list.map(function(item, index) {\n        var showItem = _objectSpread2(_objectSpread2({}, item), {}, {\n          showText: _this3.getTextByLang(item) || item.definition,\n          selected: false\n        });\n        if (item.selected || item.definition && item.definition == targetDef) {\n          showItem.selected = true;\n          curIndex = index;\n        }\n        return showItem;\n      });\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeDefinitionList\",\n    value: function changeDefinitionList(list) {\n      if (!Array.isArray(list)) {\n        return;\n      }\n      this.config.list = list.map(function(item) {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n      this.renderItemList();\n      this.config.list.length < 2 ? this.hide() : this.show();\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      this.player.changeDefinition(to, from);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      var definitionList = this.player.definitionList;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"onItemClick\", this).apply(this, arguments);\n      this.emitUserAction(e, \"change_definition\", {\n        from: data.from,\n        to: data.to\n      });\n      for (var i = 0; i < definitionList.length; i++) {\n        if (data.to && definitionList[i].definition === data.to.definition) {\n          data.to.url = definitionList[i].url;\n        }\n        if (data.from && definitionList[i].definition === data.from.definition) {\n          data.from.url = definitionList[i].url;\n        }\n      }\n      this.player.changeDefinition(data.to, data.from);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"definition\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        list: [],\n        defaultDefinition: \"\",\n        disable: false,\n        hidePortrait: false,\n        className: \"xgplayer-definition\",\n        isShowIcon: true\n      });\n    }\n  }]);\n  return DefinitionIcon2;\n}(OptionsIcon);\nexport { DefinitionIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar PlaybackRate = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(PlaybackRate2, _OptionsIcon);\n  var _super = _createSuper(PlaybackRate2);\n  function PlaybackRate2(args) {\n    var _this;\n    _classCallCheck(this, PlaybackRate2);\n    _this = _super.call(this, args);\n    _this.curRate = 1;\n    return _this;\n  }\n  _createClass(PlaybackRate2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var playbackRate = args.player.config.playbackRate;\n      var list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n      if (Array.isArray(list)) {\n        args.config.list = list.map(function(item) {\n          if (typeof item === \"number\") {\n            item = {\n              rate: item,\n              text: \"\".concat(item, \"x\")\n            };\n          } else if (!item.text && item.rate) {\n            item.text = \"\".concat(item.rate, \"x\");\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"afterCreate\", this).call(this);\n      this.on(RATE_CHANGE, function() {\n        if (_this2.curValue === _this2.player.playbackRate) {\n          return;\n        }\n        _this2.renderItemList();\n      });\n      this.renderItemList();\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length === 0) {\n        return;\n      }\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, _data) {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"onItemClick\", this).call(this, e, _data);\n      var target = e.delegateTarget;\n      var rate = Number(target.getAttribute(\"rate\"));\n      if (!rate || rate === this.curValue) {\n        return false;\n      }\n      var props = {\n        playbackRate: {\n          from: this.player.playbackRate,\n          to: rate\n        }\n      };\n      this.emitUserAction(e, \"change_rate\", {\n        props\n      });\n      this.curValue = rate;\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var playbackRate = this.player.playbackRate || 1;\n      this.curValue = playbackRate;\n      var curIndex = -1;\n      var items = this.config.list.map(function(item, index) {\n        var itemInfo = {\n          rate: item.rate\n        };\n        if (itemInfo.rate === playbackRate) {\n          itemInfo.selected = true;\n          curIndex = index;\n        }\n        itemInfo.showText = _this3.getTextByLang(item);\n        return itemInfo;\n      });\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      var _text = \"\";\n      if (!curItem || this.curIndex < 0) {\n        _text = \"\".concat(this.player.playbackRate, \"x\");\n      } else {\n        _text = this.getTextByLang(curItem, \"iconText\");\n      }\n      this.find(\".icon-text\").innerHTML = _text;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playbackRate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 4,\n        list: [2, 1.5, 1, 0.75, 0.5],\n        className: \"xgplayer-playbackrate\",\n        isShowIcon: true,\n        hidePortrait: false\n      });\n    }\n  }]);\n  return PlaybackRate2;\n}(OptionsIcon);\nexport { PlaybackRate as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar ErrorPlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ErrorPlugin2, _Plugin);\n  var _super = _createSuper(ErrorPlugin2);\n  function ErrorPlugin2() {\n    _classCallCheck(this, ErrorPlugin2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ErrorPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.onError = this.hook(\"showError\", this.handleError);\n      this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n      this.on(ERROR, function(error) {\n        _this.onError(error);\n      });\n    }\n  }, {\n    key: \"errorRetry\",\n    value: function errorRetry(e) {\n      this.emitUserAction(e, \"error_retry\", {});\n      this.player.retry();\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var error = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      var player = this.player;\n      var type = error.errorType;\n      var errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n      if (!errorNote) {\n        switch (type) {\n          case \"decoder\":\n            errorNote = this.i18n.MEDIA_ERR_DECODE;\n            break;\n          case \"network\":\n            errorNote = this.i18n.MEDIA_ERR_NETWORK;\n            break;\n          default:\n            errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n        }\n      }\n      this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n      this.find(\".xgplayer-error-tips\").innerHTML = \"\".concat(this.i18n.REFRESH_TIPS, '<span class=\"xgplayer-error-refresh\">').concat(this.i18n.REFRESH, \"</span>\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-error class=\"xgplayer-error\">\\n      <div class=\"xgplayer-errornote\">\\n       <span class=\"xgplayer-error-text\"></span>\\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\\n      </div>\\n    </xg-error>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"error\";\n    }\n  }]);\n  return ErrorPlugin2;\n}(Plugin);\nexport { ErrorPlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Prompt = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Prompt2, _Plugin);\n  var _super = _createSuper(Prompt2);\n  function Prompt2() {\n    _classCallCheck(this, Prompt2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Prompt2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.intervalId = 0;\n      this.customConfig = null;\n      this.bind(\".highlight\", [\"click\", \"touchend\"], function(e) {\n        if (_this.config.onClick || _this.customOnClick) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this.customOnClick ? _this.customOnClick(e) : _this.config.onClick(e);\n        }\n      });\n      this.player.showPrompt = function() {\n        _this.showPrompt.apply(_this, arguments);\n      };\n      this.player.hidePrompt = function() {\n        _this.hide();\n      };\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"showPrompt\",\n    value: function showPrompt(detail) {\n      var _this3 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var onClick = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n      };\n      if (!detail) {\n        return;\n      }\n      this.customOnClick = onClick;\n      var interval = this.config.interval;\n      if (this.intervalId) {\n        clearTimeout(this.intervalId);\n        this.intervalId = null;\n      }\n      util.addClass(this.root, \"show\");\n      config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n      if (typeof detail === \"string\") {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n      } else {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = \"\".concat(detail.text || \"\") + \"\".concat(detail.highlight ? '<i class=\"highlight\">'.concat(detail.highlight, \"</i>\") : \"\");\n      }\n      config.style && this.setStyle(config.style);\n      var autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n      if (autoHide) {\n        var hideinterval = config.interval || interval;\n        this.intervalId = setTimeout(function() {\n          _this3.hide();\n        }, hideinterval);\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n      util.removeClass(this.root, \"arrow\");\n      this.root.removeAttribute(\"style\");\n      this.customOnClick = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-prompt class=\"xgplayer-prompt '.concat(STATE_CLASS.CONTROLS_FOLLOW, '\">\\n    <span class=\"xgplayer-prompt-detail\"></span>\\n    </xg-prompt>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"prompt\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        interval: 3e3,\n        style: {},\n        mode: \"arrow\",\n        autoHide: true,\n        detail: {\n          text: \"\",\n          highlight: \"\"\n        },\n        onClick: function onClick() {\n        }\n      };\n    }\n  }]);\n  return Prompt2;\n}(Plugin);\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map(function(key) {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nvar APIS = {\n  _updateDotDom: function _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots: function initDots() {\n    var _this = this;\n    this._ispots.map(function(item) {\n      _this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot: function createDot(iSpot) {\n    var isNew = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    var className = \"xgspot_\".concat(iSpot.id, \" xgplayer-spot\");\n    ret.isMini && (className += \" mini\");\n    var _t = iSpot.template ? '<div class=\"xgplayer-spot-pop\">'.concat(iSpot.template, \"</div>\") : \"\";\n    var dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot: function findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    var ret = this._ispots.filter(function(cur, index) {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot: function updateDot(iSpot) {\n    var needShow = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map(function(key) {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    var dotDom = progress.find('xg-spot[data-id=\"'.concat(iSpot.id, '\"]'));\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot: function deleteDot(id) {\n    var _ispots = this._ispots;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var del = [];\n    for (var i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    var len = del.length;\n    for (var _i = len - 1; _i >= 0; _i--) {\n      _ispots.splice(del[_i], 1);\n      if (this.ispotsInit) {\n        var dotDom = progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots: function deleteAllDots() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (var i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots: function updateAllDots() {\n    var _this2 = this;\n    var iSpots = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    var len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (var i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach(function(ispot, index) {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", \"\".concat(ispot.id));\n        _this2._ispots.push(ispot);\n        _this2.updateDot(ispot);\n      } else {\n        _this2.createDot(ispot);\n      }\n    });\n  },\n  positionDots: function positionDots() {\n    var _this3 = this;\n    var _ispots = this._ispots, playerSize = this.playerSize;\n    var sizeInfo = this.player.sizeInfo;\n    var progress = this.player.plugins.progress;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      dotDom && _this3.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot: function positionDot(dotDom, id) {\n    var _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    var pRect = this.playerSize;\n    var rect1 = dotDom.getBoundingClientRect();\n    var rect = _pop.getBoundingClientRect();\n    var _left = rect1.left - pRect.left;\n    var _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      var t = rect.width / 2 - _left;\n      _pop.style.left = \"\".concat(t, \"px\");\n    } else if (_diff < rect.width / 2) {\n      var _t2 = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = \"\".concat(_t2, \"px\");\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration: function updateDuration() {\n    var _this4 = this;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var _ispots = this._ispots;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      _this4._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom: function getAllDotsDom() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return [];\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom: function getDotDom(id) {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    return progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n  }\n};\nfunction initDotsAPI(plugin) {\n  var config = plugin.config, player = plugin.player;\n  Object.keys(APIS).map(function(item) {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  var ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map(function(item) {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, function() {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, function() {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nvar CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nvar ProgressPreview = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ProgressPreview2, _Plugin);\n  var _super = _createSuper(ProgressPreview2);\n  function ProgressPreview2(args) {\n    var _this;\n    _classCallCheck(this, ProgressPreview2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMousemove\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && _this.config.isHideThumbnailHover) {\n        _this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMousedown\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseup\", function(e) {\n      if (!_this.isDrag) {\n        return;\n      }\n      var progress = _this.player.plugins.progress;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDotMouseLeave\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      _this._curDot.removeEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      _this.blurDot(e.target);\n      _this._curDot = null;\n      var progress = _this.player.plugins.progress;\n      progress && progress.enableBlur();\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onProgressMouseOver\", function(data, e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !_this._curDot) {\n        _this._curDot = e.target;\n        _this.focusDot(e.target);\n        if (_this._curDot.children.length > 0) {\n          _this.hide();\n        }\n        var progress = _this.player.plugins.progress;\n        progress && progress.disableBlur();\n        _this._curDot.addEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      }\n    });\n    _this._ispots = [];\n    _this.videoPreview = null;\n    _this.videothumbnail = null;\n    _this.thumbnail = null;\n    _this.timeStr = \"\";\n    _this._state = {\n      now: 0,\n      f: false\n    };\n    return _this;\n  }\n  _createClass(ProgressPreview2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var progress = args.player.plugins.progress;\n      if (progress) {\n        args.root = progress.root;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._curDot = null;\n      this.handlerSpotClick = this.hook(\"spotClick\", function(_event, data) {\n        if (data.seekTime) {\n          _this2.player.seek(data.seekTime);\n        }\n      });\n      this.transformTimeHook = this.hook(\"transformTime\", function(time) {\n        _this2.setTimeContent(util.format(time));\n      });\n      initDotsAPI(this);\n      this.on(DURATION_CHANGE, function() {\n        _this2.show();\n      });\n      if (this.config.disable) {\n        this.disable();\n      }\n      this.extTextRoot = this.find(\".xg-spot-ext-text\");\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var player = this.player;\n      if (!player.plugins.progress) {\n        return;\n      }\n      this.previewLine = this.find(\".xg-spot-line\");\n      this.timePoint = this.find(\".xgplayer-progress-point\");\n      this.timeText = this.find(\".xg-spot-time\");\n      this.tipText = this.find(\".spot-inner-text\");\n      this._hasThumnail = false;\n      this.registerThumbnail();\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this4 = this;\n      var progress = this.player.plugins.progress;\n      if (!progress) {\n        return;\n      }\n      Object.keys(CALLBACK_MAP).map(function(key) {\n        _this4[CALLBACK_MAP[key]] = _this4[CALLBACK_MAP[key]].bind(_this4);\n        progress.addCallBack(key, _this4[CALLBACK_MAP[key]]);\n      });\n      if (sniffer.device === \"mobile\")\n        return;\n      this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      var fun = this.hook(\"previewClick\", function() {\n      });\n      this.handlerPreviewClick = function(e) {\n        e.stopPropagation();\n        fun(parseInt(_this4._state.now * 1e3, 10) / 1e3, e);\n        if (progress) {\n          progress.onMouseUp(e);\n        }\n      };\n      this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"onProgressMove\",\n    value: function onProgressMove(data, e) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n    }\n  }, {\n    key: \"onProgressDragStart\",\n    value: function onProgressDragStart(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = true;\n      this.videoPreview && util.addClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressDragEnd\",\n    value: function onProgressDragEnd(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = false;\n      this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressClick\",\n    value: function onProgressClick(data, e) {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\")) {\n        e.stopPropagation();\n        e.preventDefault();\n        [\"time\", \"id\", \"text\"].map(function(key) {\n          data[key] = e.target.getAttribute(\"data-\".concat(key));\n        });\n        data.time && (data.time = Number(data.time));\n        this.handlerSpotClick(e, data);\n      }\n    }\n  }, {\n    key: \"updateLinePos\",\n    value: function updateLinePos(offset, cwidth) {\n      var root = this.root, previewLine = this.previewLine, player = this.player, config = this.config;\n      var mode = player.controls.mode;\n      var isflex = mode === \"flex\";\n      var lwidth = root.getBoundingClientRect().width;\n      if (!lwidth && this._hasThumnail) {\n        return;\n      }\n      lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n      var x = offset - lwidth / 2;\n      var _t;\n      if (x < 0 && !isflex) {\n        x = 0;\n        _t = offset - lwidth / 2;\n      } else if (x > cwidth - lwidth && !isflex) {\n        _t = x - (cwidth - lwidth);\n        x = cwidth - lwidth;\n      } else {\n        _t = 0;\n      }\n      _t !== void 0 && (previewLine.style.transform = \"translateX(\".concat(_t.toFixed(2), \"px)\"));\n      root.style.transform = \"translateX(\".concat(x.toFixed(2), \"px) translateZ(0)\");\n    }\n  }, {\n    key: \"updateTimeText\",\n    value: function updateTimeText(timeStr) {\n      var timeText = this.timeText, timePoint = this.timePoint;\n      timeText.innerHTML = timeStr;\n      !this.thumbnail && (timePoint.innerHTML = timeStr);\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(offset, cwidth, time, e) {\n      var root = this.root, config = this.config, _state = this._state;\n      if (!root) {\n        return;\n      }\n      _state.now = time;\n      this.transformTimeHook(time);\n      var timeStr = this.timeStr;\n      if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n        this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n        this.focusDot(e.target);\n        _state.f = true;\n        config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n      } else if (config.defaultText) {\n        _state.f = false;\n        this.showTips(config.defaultText, true, timeStr);\n      } else {\n        _state.f = false;\n        this.hideTips(\"\");\n      }\n      this.updateTimeText(timeStr);\n      this.updateThumbnails(_state.now);\n      this.updateLinePos(offset, cwidth);\n    }\n  }, {\n    key: \"setTimeContent\",\n    value: function setTimeContent(str) {\n      this.timeStr = str;\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player, videoPreview = this.videoPreview, config = this.config;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n        var rect = videoPreview && videoPreview.getBoundingClientRect();\n        this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var thumbnailConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      if (sniffer.device === \"mobile\") {\n        return;\n      }\n      var player = this.player, config = this.config;\n      var thumbnail = player.getPlugin(\"thumbnail\");\n      if (thumbnail) {\n        thumbnail.setConfig(thumbnailConfig);\n      }\n      if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n        util.addClass(this.root, \"short-line no-thumbnail\");\n        return;\n      } else {\n        util.removeClass(this.root, \"short-line no-thumbnail\");\n      }\n      if (config.mode === \"short\") {\n        util.addClass(this.root, \"short-line\");\n      }\n      this._hasThumnail = true;\n      var tRoot = this.find(\".xg-spot-thumbnail\");\n      this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n      if (config.isShowCoverPreview) {\n        this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n        player.root.appendChild(this.videoPreview);\n        this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n      }\n      this.updateThumbnails(0);\n    }\n  }, {\n    key: \"calcuPosition\",\n    value: function calcuPosition(time, duration) {\n      var progress = this.player.plugins.progress;\n      var player = this.player;\n      var totalWidth = progress.root.getBoundingClientRect().width;\n      var widthPerSeconds = player.duration / totalWidth * 6;\n      if (time + duration > player.duration) {\n        duration = player.duration - time;\n      }\n      time / player.duration * 100;\n      duration / player.duration;\n      return {\n        left: time / player.duration * 100,\n        width: duration / player.duration * 100,\n        isMini: duration < widthPerSeconds\n      };\n    }\n  }, {\n    key: \"showDot\",\n    value: function showDot(id) {\n      var dot = this.findDot(id);\n      if (dot) {\n        var rect = this.root.getBoundingClientRect();\n        var width = rect.width;\n        var offset = dot.time / this.player.duration * width;\n        this.updatePosition(offset, width, dot.time);\n      }\n    }\n  }, {\n    key: \"focusDot\",\n    value: function focusDot(target, id) {\n      if (!target) {\n        return;\n      }\n      if (!id) {\n        id = target.getAttribute(\"data-id\");\n      }\n      util.addClass(target, \"active\");\n      this._activeDotId = id;\n    }\n  }, {\n    key: \"blurDot\",\n    value: function blurDot(target) {\n      if (!target) {\n        var id = this._activeDotId;\n        target = this.getDotDom(id);\n      }\n      if (!target) {\n        return;\n      }\n      util.removeClass(target, \"active\");\n      this._activeDotId = null;\n    }\n  }, {\n    key: \"showTips\",\n    value: function showTips(text, isDefault) {\n      var timeStr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      util.addClass(this.root, \"no-timepoint\");\n      if (!text) {\n        return;\n      }\n      util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n      if (isDefault && this.config.mode === \"production\") {\n        util.addClass(this.root, \"product\");\n        this.tipText.textContent = text;\n      } else {\n        util.removeClass(this.root, \"product\");\n        this.tipText.textContent = this._hasThumnail ? text : \"\".concat(timeStr, \" \").concat(text);\n      }\n    }\n  }, {\n    key: \"hideTips\",\n    value: function hideTips() {\n      util.removeClass(this.root, \"no-timepoint\");\n      this.tipText.textContent = \"\";\n      util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n      util.removeClass(this.root, \"product\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var config = this.config, playerConfig = this.playerConfig;\n      this.config.disable = false;\n      this.show();\n      if (!this.thumbnail && config.isShowThumbnail) {\n        this.registerThumbnail(playerConfig.thumbnail || {});\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      var progress = this.player.plugins.progress;\n      progress && Object.keys(CALLBACK_MAP).map(function(key) {\n        progress.removeCallBack(key, _this5[CALLBACK_MAP[key]]);\n      });\n      this.videothumbnail = null;\n      this.thumbnail = null;\n      this.videoPreview && this.player.root.removeChild(this.videoPreview);\n      this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n        return \"\";\n      }\n      return '<div class=\"xg-spot-info hide '.concat(this.config.mode === \"short\" ? \"short-line\" : \"\", '\">\\n      <div class=\"xg-spot-content\">\\n        <div class=\"xg-spot-thumbnail\">\\n          <span class=\"xg-spot-time\"></span>\\n        </div>\\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\\n      </div>\\n      <div class=\"xgplayer-progress-point\">00:00</div>\\n      <div class=\"xg-spot-ext-text\"></div>\\n      <div class=\"xg-spot-line\"></div>\\n    </div>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progresspreview\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 1,\n        miniWidth: 6,\n        ispots: [],\n        defaultText: \"\",\n        isFocusDots: true,\n        isHideThumbnailHover: true,\n        isShowThumbnail: true,\n        isShowCoverPreview: false,\n        mode: \"\",\n        disable: false,\n        width: 160,\n        height: 90\n      };\n    }\n  }]);\n  return ProgressPreview2;\n}(Plugin);\nexport { ProgressPreview as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Thumbnail = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Thumbnail2, _BasePlugin);\n  var _super = _createSuper(Thumbnail2);\n  function Thumbnail2(args) {\n    var _this;\n    _classCallCheck(this, Thumbnail2);\n    _this = _super.call(this, args);\n    _this.ratio = 1;\n    _this.interval = null;\n    _this._preloadMark = {};\n    return _this;\n  }\n  _createClass(Thumbnail2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.usable) {\n        this.initThumbnail();\n      }\n      this.on([DURATION_CHANGE], function() {\n        var _this2$config = _this2.config, pic_num = _this2$config.pic_num, interval = _this2$config.interval;\n        _this2.usable && (_this2.interval = interval > 0 ? interval : Math.round(_this2.player.duration * 1e3 / pic_num) / 1e3);\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      var keys = Object.keys(config);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this3.config[key] = config[key];\n      });\n      this.usable && this.initThumbnail();\n    }\n  }, {\n    key: \"usable\",\n    get: function get() {\n      var _this$config = this.config, urls = _this$config.urls, pic_num = _this$config.pic_num;\n      return urls && urls.length > 0 && pic_num > 0;\n    }\n  }, {\n    key: \"initThumbnail\",\n    value: function initThumbnail() {\n      var _this$config2 = this.config, width = _this$config2.width, height = _this$config2.height, pic_num = _this$config2.pic_num, interval = _this$config2.interval;\n      this.ratio = width / height * 100;\n      this.interval = interval || Math.round(this.player.duration / pic_num);\n      this._preloadMark = {};\n    }\n  }, {\n    key: \"getUrlByIndex\",\n    value: function getUrlByIndex(index) {\n      return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n    }\n  }, {\n    key: \"preload\",\n    value: function preload(index) {\n      var _this4 = this;\n      if (this._preloadMark[index]) {\n        return;\n      }\n      var urls = this.config.urls;\n      var len = urls.length;\n      var arr = [];\n      index > 0 && arr.push(index - 1);\n      arr.push(index);\n      index > 0 && index < len - 1 && arr.push(index + 1);\n      arr.map(function(item) {\n        if (!_this4._preloadMark[item] && item >= 0 && item < len) {\n          _this4._preloadMark[item] = 1;\n          util.preloadImg(urls[item], function() {\n            _this4._preloadMark[item] = 2;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(now) {\n      var containerWidth = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var containerHeight = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var _this$config3 = this.config, pic_num = _this$config3.pic_num, row = _this$config3.row, col = _this$config3.col, width = _this$config3.width, height = _this$config3.height;\n      this.interval = Math.round(this.player.duration / pic_num);\n      var index = Math.ceil(now / this.interval);\n      index = index > pic_num ? pic_num : index;\n      var urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n      var indexInPage = index - urlIndex * (col * row);\n      var rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n      var colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n      var swidth = 0;\n      var sHeight = 0;\n      if (containerWidth && containerHeight) {\n        var per = containerWidth / containerHeight;\n        if (per < width / height) {\n          sHeight = containerHeight;\n          swidth = sHeight * (width / height);\n        } else {\n          swidth = containerWidth;\n          sHeight = swidth / (width / height);\n        }\n      } else if (!containerHeight) {\n        swidth = containerWidth || width;\n        sHeight = swidth / (width / height);\n      } else if (!containerWidth) {\n        sHeight = containerHeight || height;\n        swidth = sHeight * (width / height);\n      }\n      var url = this.getUrlByIndex(urlIndex);\n      return {\n        urlIndex,\n        rowIndex,\n        colIndex,\n        url,\n        height: sHeight,\n        width: swidth,\n        style: {\n          backgroundImage: \"url(\".concat(url, \")\"),\n          backgroundSize: \"\".concat(swidth * col, \"px auto\"),\n          backgroundPosition: \"-\".concat(colIndex * swidth, \"px -\").concat(rowIndex * sHeight, \"px\"),\n          width: \"\".concat(swidth, \"px\"),\n          height: \"\".concat(sHeight, \"px\")\n        }\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(dom, now) {\n      var containerWidth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var containerHeight = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var customStyle = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n      var _this$config4 = this.config, pic_num = _this$config4.pic_num, urls = _this$config4.urls;\n      if (pic_num <= 0 || !urls || urls.length === 0) {\n        return;\n      }\n      var pos = this.getPosition(now, containerWidth, containerHeight);\n      this.preload(pos.urlIndex);\n      Object.keys(pos.style).map(function(key) {\n        dom.style[key] = pos.style[key];\n      });\n      Object.keys(customStyle).map(function(key) {\n        dom.style[key] = customStyle[key];\n      });\n    }\n  }, {\n    key: \"changeConfig\",\n    value: function changeConfig() {\n      var newConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      this.setConfig(newConfig);\n    }\n  }, {\n    key: \"createThumbnail\",\n    value: function createThumbnail(root, className) {\n      var dom = util.createDom(\"xg-thumbnail\", \"\", {}, \"thumbnail \".concat(className));\n      root && root.appendChild(dom);\n      return dom;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"thumbnail\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShow: false,\n        urls: [],\n        pic_num: 0,\n        col: 0,\n        row: 0,\n        height: 90,\n        width: 160,\n        scale: 1,\n        className: \"\",\n        hidePortrait: false\n      };\n    }\n  }]);\n  return Thumbnail2;\n}(Plugin);\nexport { Thumbnail as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { TIME_UPDATE, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? \"background:\".concat(color, \";\") : \"\";\n}\nvar MiniProgress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniProgress2, _Plugin);\n  var _super = _createSuper(MiniProgress2);\n  function MiniProgress2() {\n    var _this;\n    _classCallCheck(this, MiniProgress2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onTimeupdate\", function() {\n      var ended = _this.player.ended;\n      var _assertThisInitialize = _assertThisInitialized(_this), offsetDuration = _assertThisInitialize.offsetDuration;\n      var time = _this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, ended);\n      _this.update({\n        played: time\n      }, offsetDuration);\n    });\n    return _this;\n  }\n  _createClass(MiniProgress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this.on(TIME_UPDATE, this.onTimeupdate);\n      this.on(EMPTIED, function() {\n        _this2.reset();\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.update({\n        played: 0,\n        cached: 0\n      }, 0);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!duration || !this.root) {\n        return;\n      }\n      if (data.cached) {\n        this.find(\"xg-mini-progress-cache\").style.width = \"\".concat(data.cached / duration * 100, \"%\");\n      }\n      if (data.played) {\n        this.find(\"xg-mini-progress-played\").style.width = \"\".concat(data.played / duration * 100, \"%\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, miniprogress = _this$playerConfig.miniprogress;\n      if (!miniprogress) {\n        return;\n      }\n      var _this$config = this.config, mode = _this$config.mode, height = _this$config.height;\n      var _style = {\n        cached: getBgColor(commonStyle.cachedColor),\n        played: getBgColor(commonStyle.playedColor),\n        progress: getBgColor(commonStyle.progressColor),\n        height: height > 0 && height !== 2 ? \"height: \".concat(height, \"px;\") : \"\"\n      };\n      var stateClass = mode === \"show\" ? \"xg-mini-progress-show\" : \"\";\n      return '<xg-mini-progress class=\"xg-mini-progress '.concat(stateClass, '\" style=\"').concat(_style.progress, \" \").concat(_style.height, '\">\\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"').concat(_style.cached, '\"></xg-mini-progress-cache>\\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"').concat(_style.played, '\"></xg-mini-progress-played>\\n    </xg-mini-progress>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"MiniProgress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        mode: \"auto\",\n        height: 2\n      };\n    }\n  }]);\n  return MiniProgress2;\n}(Plugin);\nexport { MiniProgress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { TIME_UPDATE, COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    var ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nvar isSupportCanvas = null;\nvar DynamicBg = /* @__PURE__ */ function(_Plugin) {\n  _inherits(DynamicBg2, _Plugin);\n  var _super = _createSuper(DynamicBg2);\n  function DynamicBg2() {\n    var _this;\n    _classCallCheck(this, DynamicBg2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onLoadedData\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      _this._frameCount = _this.config.startFrameCount;\n      _this.stop();\n      _this.renderOnTimeupdate(e);\n      _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n      _this.on(TIME_UPDATE, _this.renderOnTimeupdate);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVisibilitychange\", function(e) {\n      if (document.visibilityState === \"visible\") {\n        _this._checkIfCanStart() && _this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        _this.stop();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderOnTimeupdate\", function(e) {\n      if (_this._frameCount > 0) {\n        _this.renderOnce();\n        _this._frameCount--;\n      } else {\n        _this._isLoaded = true;\n        _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n        var startInterval = _this.config.startInterval;\n        !_this.player.paused && _this._checkIfCanStart() && _this.start(0, startInterval);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"start\", function(time, interval) {\n      var video = _this.player.video;\n      var _now = nowTime();\n      var _sVideo = _this.checkVideoIsSupport(video);\n      if (!_sVideo || !_this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = _this.interval;\n      }\n      _this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        _this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (_this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        } else if (_now - _this.preTime >= interval) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        }\n      }\n      _this.frameId = _this._loopType === \"timer\" ? util.setTimeout(_assertThisInitialized(_this), _this.start, interval) : util.requestAnimationFrame(_this.start);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stop\", function() {\n      if (_this.frameId) {\n        _this._loopType === \"timer\" ? util.clearTimeout(_assertThisInitialized(_this), _this.frameId) : util.cancelAnimationFrame(_this.frameId);\n        _this.frameId = null;\n      }\n    });\n    return _this;\n  }\n  _createClass(DynamicBg2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.playerConfig.dynamicBg === true) {\n        this.config.disable = false;\n      }\n      if (!DynamicBg2.isSupport) {\n        this.config.disable = true;\n      }\n      var _this$config = this.config, disable = _this$config.disable, mode = _this$config.mode, frameRate = _this$config.frameRate;\n      if (disable) {\n        return;\n      }\n      this._pos = {\n        width: 0,\n        height: 0,\n        rwidth: 0,\n        rheight: 0,\n        x: 0,\n        y: 0,\n        pi: 0\n      };\n      this.isStart = false;\n      this._isLoaded = false;\n      this.videoPI = 0;\n      this.preTime = 0;\n      this.interval = parseInt(1e3 / frameRate, 10);\n      this.canvas = null;\n      this.canvasCtx = null;\n      this._frameCount = 0;\n      this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n      this.once(COMPLETE, function() {\n        if (!_this2.player) {\n          return;\n        }\n        _this2.init();\n        _this2.renderByPoster();\n        if (!_this2.player.paused) {\n          _this2.start();\n        }\n      });\n      if (mode === MODES.POSTER) {\n        return;\n      }\n      if (mode !== MODES.FIRST_FRAME) {\n        this.on(EMPTIED, function() {\n          _this2.stop();\n        });\n        this.on(PLAY, function() {\n          var startInterval = _this2.config.startInterval;\n          _this2._checkIfCanStart() && _this2.start(0, startInterval);\n        });\n        this.on(PAUSE, function() {\n          _this2.stop();\n        });\n      }\n      this.on(LOADED_DATA, this.onLoadedData);\n      this.on(LOAD_START, function() {\n        _this2._isLoaded = false;\n        _this2.stop();\n      });\n      document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      Object.keys(config).forEach(function(key) {\n        if (key === \"root\" && config[key] !== _this3.config[key]) {\n          _this3.reRender(config[key]);\n        } else if (key === \"frameRate\") {\n          _this3.interval = parseInt(1e3 / config[key], 10);\n        } else if (key === \"disable\" && config[key]) {\n          _this3.stop();\n        }\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init(_root) {\n      var player = this.player, config = this.config;\n      this.canvasFilter = DynamicBg2.supportCanvasFilter();\n      try {\n        var parent = _root || config.root;\n        if (!parent) {\n          parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n        }\n        parent.insertAdjacentHTML(\"afterbegin\", '<div class=\"xgplayer-dynamic-bg\" data-index=\"'.concat(config.index, '\"><canvas>\\n        </canvas><xgmask></xgmask></div>'));\n        this.root = parent.children[0];\n        this.canvas = this.find(\"canvas\");\n        if (!this.canvasFilter) {\n          this.canvas.style.filter = config.filter;\n          this.canvas.style.webkitFilter = config.filter;\n        }\n        this.mask = this.find(\"xgmask\");\n        config.addMask && (this.mask.style.background = config.maskBg);\n        this.canvasCtx = this.canvas.getContext(\"2d\");\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender(root) {\n      var disable = this.config.disable;\n      if (!disable && !this.root) {\n        return;\n      }\n      this.stop();\n      var _p = this.root ? this.root.parentElement : null;\n      if (_p !== root) {\n        _p.removeChild(this.root);\n      }\n      if (!root) {\n        this.root = null;\n        return;\n      }\n      this.init(root);\n      this.renderOnce();\n      var startInterval = this.config.startInterval;\n      this._checkIfCanStart() && this.start(0, startInterval);\n    }\n  }, {\n    key: \"checkVideoIsSupport\",\n    value: function checkVideoIsSupport(video) {\n      if (!video) {\n        return null;\n      }\n      var _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n      if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n        return _tVideo;\n      }\n      var _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n      if (_tagName === \"canvas\" || _tagName === \"img\") {\n        return _tVideo;\n      }\n      return null;\n    }\n  }, {\n    key: \"renderByPoster\",\n    value: function renderByPoster() {\n      var poster = this.playerConfig.poster;\n      if (poster) {\n        var url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n        this.updateImg(url);\n      }\n    }\n  }, {\n    key: \"_checkIfCanStart\",\n    value: function _checkIfCanStart() {\n      var mode = this.config.mode;\n      return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n    }\n  }, {\n    key: \"renderOnce\",\n    value: function renderOnce() {\n      var video = this.player.video;\n      if (!video.videoWidth || !video.videoHeight) {\n        return;\n      }\n      this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n      var _sVideo = this.checkVideoIsSupport(video);\n      _sVideo && this.update(_sVideo, this.videoPI);\n    }\n  }, {\n    key: \"updateImg\",\n    value: function updateImg(url) {\n      var _this4 = this;\n      if (!url) {\n        return;\n      }\n      var _this$canvas$getBound = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound.width, height = _this$canvas$getBound.height;\n      var image = new window.Image();\n      image.onload = function() {\n        if (!_this4.canvas || _this4.frameId || _this4.isStart) {\n          return;\n        }\n        _this4.canvas.height = height;\n        _this4.canvas.width = width;\n        var pi = parseInt(width / height * 100, 10);\n        _this4.update(image, pi);\n        image = null;\n      };\n      image.src = url;\n    }\n  }, {\n    key: \"update\",\n    value: function update(video, sourcePI) {\n      if (!this.canvas || !this.canvasCtx || !sourcePI) {\n        return;\n      }\n      try {\n        var _pos = this._pos, config = this.config;\n        var _this$canvas$getBound2 = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound2.width, height = _this$canvas$getBound2.height;\n        if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n          var pi = parseInt(width / height * 100, 10);\n          _pos.pi = sourcePI;\n          _pos.width !== width && (_pos.width = this.canvas.width = width);\n          _pos.height !== height && (_pos.height = this.canvas.height = height);\n          var rheight = height;\n          var rwidth = width;\n          if (pi < sourcePI) {\n            rwidth = parseInt(height * sourcePI / 100, 10);\n          } else if (pi > sourcePI) {\n            rheight = parseInt(width * 100 / sourcePI, 10);\n          }\n          _pos.rwidth = rwidth * config.multiple;\n          _pos.rheight = rheight * config.multiple;\n          _pos.x = (width - _pos.rwidth) / 2;\n          _pos.y = (height - _pos.rheight) / 2;\n        }\n        this.canvasFilter && (this.canvasCtx.filter = config.filter);\n        this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stop();\n      document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n      this.canvasCtx = null;\n      this.canvas = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"dynamicBg\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isInnerRender: false,\n        disable: true,\n        index: -1,\n        mode: \"framerate\",\n        frameRate: 10,\n        filter: \"blur(50px)\",\n        startFrameCount: 2,\n        startInterval: 0,\n        addMask: true,\n        multiple: 1.2,\n        maskBg: \"rgba(0,0,0,0.7)\"\n      };\n    }\n  }, {\n    key: \"isSupport\",\n    get: function get() {\n      if (typeof isSupportCanvas === \"boolean\") {\n        return isSupportCanvas;\n      }\n      isSupportCanvas = checkIsSupportCanvas();\n      return isSupportCanvas;\n    }\n  }, {\n    key: \"supportCanvasFilter\",\n    value: function supportCanvasFilter() {\n      return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n    }\n  }]);\n  return DynamicBg2;\n}(Plugin);\nexport { DynamicBg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { USER_ACTION, STATS_EVENTS as STATS_EVENTS$1 } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar INFO = \"info\";\nvar STATS_EVENTS = STATS_EVENTS$1;\nvar Stats = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Stats2, _BasePlugin);\n  var _super = _createSuper(Stats2);\n  function Stats2() {\n    var _this;\n    _classCallCheck(this, Stats2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_recordUserActions\", function(actionData) {\n      var time = _this._getTime();\n      var payload = Object.assign({}, actionData, {\n        msg: actionData.msg || actionData.action\n      });\n      _this._stats[INFO].push(_objectSpread2(_objectSpread2({\n        type: \"userAction\"\n      }, time), {}, {\n        payload\n      }));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_recordInfo\", function(data) {\n      _this.info(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_downloadStats\", function() {\n      var stats = _this.getStats();\n      var blob = new Blob([JSON.stringify(stats)], {\n        type: \"application/json\"\n      });\n      var downloadUrl = window.URL.createObjectURL(blob);\n      var link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n    return _this;\n  }\n  _createClass(Stats2, [{\n    key: \"_getTime\",\n    value: function _getTime() {\n      return {\n        timestamp: Date.now(),\n        timeFormat: new Date().toISOString()\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.reset();\n      this.on(USER_ACTION, this._recordUserActions);\n      this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n      this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n      this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.offAll();\n    }\n  }, {\n    key: \"downloadStats\",\n    value: function downloadStats() {\n      this._downloadStats();\n    }\n  }, {\n    key: \"info\",\n    value: function info(data) {\n      if (data.profile) {\n        this._infoProfile(data);\n      } else {\n        this._info(data);\n      }\n    }\n  }, {\n    key: \"_info\",\n    value: function _info(data) {\n      var time = this._getTime();\n      this._stats[INFO].push(_objectSpread2(_objectSpread2({}, time), {}, {\n        payload: data\n      }));\n    }\n  }, {\n    key: \"_infoProfile\",\n    value: function _infoProfile(data) {\n      if (data && data.startMs) {\n        var endMs = Date.now();\n        var dur = endMs - data.startMs;\n        var profile = _objectSpread2({\n          cat: \"function\",\n          dur,\n          name: data.name || data.msg,\n          ph: \"X\",\n          pid: 0,\n          tid: 0,\n          ts: data.startMs,\n          profile: true\n        }, data);\n        this._info(profile);\n      } else {\n        console.warn(\"infoProfile need object data, include startMs\");\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this$_stats;\n      this._stats = (_this$_stats = {}, _defineProperty(_this$_stats, INFO, []), _defineProperty(_this$_stats, \"media\", {}), _this$_stats);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var player = this.player;\n      var mediaElem = player.media;\n      var buffered = [];\n      for (var i = 0; i < mediaElem.buffered.length; i++) {\n        buffered.push({\n          start: mediaElem.buffered.start(i),\n          end: mediaElem.buffered.end(i)\n        });\n      }\n      var mediaInfo = {\n        currentTime: mediaElem.currentTime,\n        readyState: mediaElem.readyState,\n        buffered,\n        paused: mediaElem.paused,\n        ended: mediaElem.ended\n      };\n      this._stats.media = mediaInfo;\n      return {\n        raw: this._stats,\n        timestat: this._getTimeStats(),\n        profile: this._getProfile()\n      };\n    }\n  }, {\n    key: \"_getTimeStats\",\n    value: function _getTimeStats() {\n      var allStat = this._stats[INFO];\n      var msgs = allStat.map(function(stat) {\n        var data = stat.payload.data;\n        var msg = \"\";\n        try {\n          if (data instanceof Error) {\n            msg = data.msg;\n          } else if (data !== void 0) {\n            msg = JSON.stringify(data);\n          }\n        } catch (error) {\n          console.log(\"err\", error);\n        }\n        return \"[\".concat(stat.timeFormat, \"] : \").concat(stat.payload.msg, \" \").concat(msg, \" \");\n      });\n      return msgs;\n    }\n  }, {\n    key: \"_getProfile\",\n    value: function _getProfile() {\n      var profile = {\n        traceEvents: []\n      };\n      var allStat = this._stats[INFO];\n      allStat.forEach(function(stat) {\n        if (stat.payload.profile) {\n          profile.traceEvents.push(stat.payload);\n        }\n      });\n      return profile;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"stats\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return Stats2;\n}(BasePlugin);\nexport { Stats as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar GapJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(GapJump2, _BasePlugin);\n  var _super = _createSuper(GapJump2);\n  function GapJump2() {\n    var _this;\n    _classCallCheck(this, GapJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onGapJump\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!_this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        _this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      var buffered = player.media.buffered;\n      var smallGapLimit = config.smallGapLimit || 0.5;\n      var gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      var currentTime = player.media.currentTime;\n      var idx = _this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      var jumpTo = buffered.start(idx) + 0.1;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      var jumpSize = jumpTo - currentTime;\n      var isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump2.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = _this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        _this.player && _this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(GapJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var useGapJump = this.config.useGapJump;\n      if (useGapJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.seekingEventReceived = false;\n      this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n      this.on(WAITING, this.onGapJump);\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n      this.on(SEEKING, function() {\n        _this2.seekingEventReceived = true;\n      });\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(buffered, time, threshold) {\n      if (!buffered || !buffered.length) {\n        return null;\n      }\n      if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n        return null;\n      }\n      var bufferedInfo = this._getBuffered(buffered);\n      var idx = null;\n      for (var i = 0; i < bufferedInfo.length; i++) {\n        var item = bufferedInfo[i];\n        if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n          idx = i;\n          break;\n        }\n      }\n      return idx;\n    }\n  }, {\n    key: \"_getBuffered\",\n    value: function _getBuffered(b) {\n      if (!b) {\n        return [];\n      }\n      var ret = [];\n      for (var i = 0; i < b.length; i++) {\n        ret.push({\n          start: b.start(i),\n          end: b.end(i)\n        });\n      }\n      return ret;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"gapJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useGapJump: false,\n        smallGapLimit: 0.5,\n        gapDetectionThreshold: 0.3\n      };\n    }\n  }]);\n  return GapJump2;\n}(Plugin);\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar WaitingTimeoutJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(WaitingTimeoutJump2, _BasePlugin);\n  var _super = _createSuper(WaitingTimeoutJump2);\n  function WaitingTimeoutJump2() {\n    var _this;\n    _classCallCheck(this, WaitingTimeoutJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onWaiting\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n      if (_this.jumpCnt > config.jumpCntMax || _this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      _this.timer = setTimeout(_this.onJump, config.waitingTime * 1e3);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onJump\", function() {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player, config = _assertThisInitialize2.config;\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (_this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      _this.jumpSize = config.jumpSize * (_this.jumpCnt + 1);\n      if (_this.jumpCnt === config.jumpSize && _this.jumpSize < 6) {\n        _this.jumpSize = 6;\n      }\n      var jumpTo = player.currentTime + _this.jumpSize;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      _this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n    return _this;\n  }\n  _createClass(WaitingTimeoutJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, useWaitingTimeoutJump = _this$config.useWaitingTimeoutJump, jumpSize = _this$config.jumpSize;\n      if (useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.jumpCnt = 0;\n      this.timer = null;\n      this.jumpSize = jumpSize;\n      this.on(WAITING, this.onWaiting);\n      this.on([PLAYING, CANPLAY], function() {\n        clearTimeout(_this2.timer);\n        _this2.timer = null;\n        _this2.jumpSize = _this2.config.jumpSize;\n      });\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"waitingTimeoutJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useWaitingTimeoutJump: false,\n        waitingTime: 15,\n        jumpSize: 2,\n        jumpCntMax: 4\n      };\n    }\n  }]);\n  return WaitingTimeoutJump2;\n}(Plugin);\nexport { WaitingTimeoutJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DOWNLOAD_SPEED_CHANGE, LOADED_DATA, REPLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar DEFAULT_SPEED_TYPE = \"cdn\";\nvar SPEED_TYPE = [\"cdn\"];\nvar TestSpeed = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TestSpeed2, _BasePlugin);\n  var _super = _createSuper(TestSpeed2);\n  function TestSpeed2() {\n    var _this;\n    _classCallCheck(this, TestSpeed2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"getSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return 0;\n      if (_this.speedListCache[type].length <= 0)\n        return 0;\n      var total = 0;\n      _this.speedListCache[type].map(function(item) {\n        total += item;\n      });\n      return Math.floor(total / _this.speedListCache[type].length);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startTimer\", function() {\n      if (util.isMSE(_this.player.video)) {\n        return;\n      }\n      _this.initSpeedList();\n      _this.cnt = 0;\n      _this.timer = setTimeout(_this.testSpeed, _this.config.testTimeStep);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"initSpeedList\", function() {\n      _this.speedListCache = {};\n      SPEED_TYPE.forEach(function(type) {\n        _this.speedListCache[type] = [];\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onRealSpeedChange\", function(data) {\n      data.speed && _this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"testSpeed\", function() {\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (!_this.player || !_this.config.openSpeed)\n        return;\n      var _this$config = _this.config, url = _this$config.url, loadSize = _this$config.loadSize, testCnt = _this$config.testCnt, testTimeStep = _this$config.testTimeStep;\n      var testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (_this.cnt >= testCnt) {\n        return;\n      }\n      _this.cnt++;\n      try {\n        var start = new Date().getTime();\n        var end = null;\n        var xhr = new XMLHttpRequest();\n        _this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        var headers = {};\n        var random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            _this.xhr = null;\n            end = new Date().getTime();\n            var size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            var speed = Math.round(size * 1e3 / (end - start));\n            _this.appendList(speed);\n            _this.timer = setTimeout(_this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"appendList\", function(speed) {\n      var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return;\n      var saveSpeedMax = _this.config.saveSpeedMax;\n      if (_this.speedListCache[type].length >= saveSpeedMax) {\n        _this.speedListCache[type].shift();\n      }\n      _this.speedListCache[type].push(speed);\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[_this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      _this.updateSpeed(type);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      var speed = _this.getSpeed(type);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        } else {\n          var speedName = _this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(TestSpeed2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this$config2 = this.config, openSpeed = _this$config2.openSpeed, addSpeedTypeList = _this$config2.addSpeedTypeList;\n      if ((addSpeedTypeList === null || addSpeedTypeList === void 0 ? void 0 : addSpeedTypeList.length) > 0) {\n        SPEED_TYPE.push.apply(SPEED_TYPE, _toConsumableArray(addSpeedTypeList));\n      }\n      this.initSpeedList();\n      this.on(\"real_time_speed\", this._onRealSpeedChange);\n      this.timer = null;\n      this.cnt = 0;\n      this.xhr = null;\n      if (!openSpeed) {\n        return;\n      }\n      this.on([LOADED_DATA, REPLAY], this.startTimer);\n    }\n  }, {\n    key: \"getSpeedName\",\n    value: function getSpeedName(namePrefix, type) {\n      return namePrefix + \"Speed\" + type.toUpperCase();\n    }\n  }, {\n    key: \"openSpeed\",\n    get: function get() {\n      return this.config.openSpeed;\n    },\n    set: function set(value) {\n      this.config.openSpeed = value;\n      if (!value && this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n        return;\n      }\n      if (this.config.openSpeed) {\n        if (this.timer)\n          return;\n        this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.off(\"real_time_speed\", this._onRealSpeedChange);\n      this.off([LOADED_DATA, REPLAY], this.startTimer);\n      SPEED_TYPE.forEach(function(type) {\n        _this2.speedListCache && _this2.speedListCache[type] && (_this2.speedListCache[type] = []);\n      });\n      this.speedListCache && (this.speedListCache = {});\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.xhr && this.xhr.readyState !== 4) {\n        this.xhr.cancel && this.xhr.cancel();\n        this.xhr = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"testspeed\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        openSpeed: false,\n        testCnt: 3,\n        loadSize: 200 * 1024,\n        testTimeStep: 3e3,\n        url: \"\",\n        saveSpeedMax: 5,\n        addSpeedTypeList: []\n      };\n    }\n  }]);\n  return TestSpeed2;\n}(Plugin);\nexport { TestSpeed as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar FpsDetect = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(FpsDetect2, _BasePlugin);\n  var _super = _createSuper(FpsDetect2);\n  function FpsDetect2() {\n    _classCallCheck(this, FpsDetect2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FpsDetect2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      var player = this.player, config = this.config;\n      var media = player.media || player.video;\n      this.timer = null;\n      this._lastDecodedFrames = 0;\n      this._currentStuckCount = 0;\n      this._lastCheckPoint = null;\n      this._payload = [];\n      if (config.disabled)\n        return;\n      var getVideoPlaybackQuality = media.getVideoPlaybackQuality;\n      if (!getVideoPlaybackQuality)\n        return;\n      this.on(PLAY, function() {\n        _this._startTick();\n      });\n      this.on(PAUSE, function() {\n        _this._stopTick();\n      });\n      this.on(ENDED, function() {\n        _this._stopTick();\n      });\n      this.on(EMPTIED, function() {\n        _this._stopTick();\n      });\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      var _this2 = this;\n      this._stopTick();\n      this._timer = setTimeout(function() {\n        _this2._checkDecodeFPS();\n        _this2._startTick();\n      }, this.config.tick);\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  }, {\n    key: \"_checkBuffer\",\n    value: function _checkBuffer(curTime, buffered) {\n      var enoughBuffer = false;\n      var buffers = [];\n      for (var i = 0; i < buffered.length; i++) {\n        var start = buffered.start(i);\n        var end = buffered.end(i);\n        buffers.push({\n          start,\n          end\n        });\n        if (start <= curTime && curTime <= end - 1) {\n          enoughBuffer = true;\n          break;\n        }\n      }\n      return {\n        enoughBuffer,\n        buffers\n      };\n    }\n  }, {\n    key: \"_checkStuck\",\n    value: function _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n      var media = this.player.media || this.player.video;\n      var hidden = document.hidden;\n      var paused = media.paused, readyState = media.readyState, currentTime = media.currentTime, buffered = media.buffered;\n      if (hidden || paused || readyState < 4) {\n        return;\n      }\n      var _this$_checkBuffer = this._checkBuffer(currentTime, buffered), enoughBuffer = _this$_checkBuffer.enoughBuffer, buffers = _this$_checkBuffer.buffers;\n      if (!enoughBuffer) {\n        return;\n      }\n      if (curDecodedFrames <= this.config.reportFrame) {\n        this._currentStuckCount++;\n        this._payload.push({\n          currentTime,\n          buffers,\n          curDecodedFrames,\n          totalVideoFrames,\n          droppedVideoFrames,\n          checkInterval\n        });\n        if (this._currentStuckCount >= this.config.stuckCount) {\n          this.emit(FPS_STUCK, this._payload);\n          this._reset();\n        }\n      } else {\n        this._reset();\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._payload = [];\n      this._currentStuckCount = 0;\n    }\n  }, {\n    key: \"_checkDecodeFPS\",\n    value: function _checkDecodeFPS() {\n      var media = this.player.media || this.player.video;\n      if (!media) {\n        return;\n      }\n      var _media$getVideoPlayba = media.getVideoPlaybackQuality(), totalVideoFrames = _media$getVideoPlayba.totalVideoFrames, droppedVideoFrames = _media$getVideoPlayba.droppedVideoFrames;\n      var currTime = performance.now();\n      if (totalVideoFrames) {\n        if (this._lastCheckPoint) {\n          var curDecoded = totalVideoFrames - this._lastDecodedFrames;\n          var checkInterval = currTime - this._lastCheckPoint;\n          this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n        }\n      }\n      this._lastDecodedFrames = totalVideoFrames;\n      this._lastCheckPoint = currTime;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._stopTick();\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"FpsDetect\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disabled: false,\n        tick: 1e3,\n        stuckCount: 3,\n        reportFrame: 0\n      };\n    }\n  }]);\n  return FpsDetect2;\n}(Plugin);\nexport { FpsDetect as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport sniffer from \"../utils/sniffer.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nvar DefaultPreset = /* @__PURE__ */ _createClass(function DefaultPreset2(options, playerConfig) {\n  var _this$plugins, _this$plugins2, _this$plugins3;\n  _classCallCheck(this, DefaultPreset2);\n  var simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n  var isLive = playerConfig.isLive;\n  var vodPlugins = isLive ? [] : [TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n  var contolsIcons = [].concat(vodPlugins, [Play, Fullscreen, Rotate, PlayNextIcon, DefinitionIcon, PlaybackRate, Download, ScreenShot, Volume, PIP]);\n  var layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n  this.plugins = [Stats, XGLogger].concat(_toConsumableArray(contolsIcons), layers, [GapJump, WaitingTimeoutJump]);\n  var mode = simulateMode ? \"mobile\" : sniffer.device;\n  switch (mode) {\n    case \"pc\":\n      (_this$plugins = this.plugins).push.apply(_this$plugins, [Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n      break;\n    case \"mobile\":\n      (_this$plugins2 = this.plugins).push.apply(_this$plugins2, [MobilePlugin]);\n      break;\n    default:\n      (_this$plugins3 = this.plugins).push.apply(_this$plugins3, [Keyboard, PCPlugin, CssFullScreen]);\n  }\n  if (sniffer.os.isIpad || mode === \"pc\") {\n    this.plugins.push(DynamicBg);\n  }\n  if (sniffer.os.isIpad) {\n    this.plugins.push(PCPlugin);\n  }\n  this.ignores = [];\n  this.i18n = [];\n});\nexport { DefaultPreset as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport Errors from \"./error.js\";\nimport * as events from \"./events.js\";\nimport { InstManager } from \"./instManager.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Player from \"./player.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport CssFullScreen from \"./plugins/cssFullScreen/index.js\";\nimport Fullscreen from \"./plugins/fullscreen/index.js\";\nimport Play from \"./plugins/play/index.js\";\nimport Progress from \"./plugins/progress/index.js\";\nimport Time from \"./plugins/time/index.js\";\nimport Volume from \"./plugins/volume/index.js\";\nimport DefaultPreset from \"./presets/default.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nvar PresetPlayer = /* @__PURE__ */ function(_Player) {\n  _inherits(PresetPlayer2, _Player);\n  var _super = _createSuper(PresetPlayer2);\n  function PresetPlayer2() {\n    _classCallCheck(this, PresetPlayer2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(PresetPlayer2);\n}(Player);\n_defineProperty(PresetPlayer, \"defaultPreset\", DefaultPreset);\n_defineProperty(PresetPlayer, \"Util\", util);\n_defineProperty(PresetPlayer, \"Sniffer\", sniffer);\n_defineProperty(PresetPlayer, \"Errors\", Errors);\n_defineProperty(PresetPlayer, \"Events\", events);\n_defineProperty(PresetPlayer, \"Plugin\", Plugin);\n_defineProperty(PresetPlayer, \"BasePlugin\", BasePlugin);\n_defineProperty(PresetPlayer, \"I18N\", I18N);\n_defineProperty(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\n_defineProperty(PresetPlayer, \"InstManager\", InstManager);\n_defineProperty(PresetPlayer, \"PlayIcon\", Play);\n_defineProperty(PresetPlayer, \"TimeIcon\", Time);\n_defineProperty(PresetPlayer, \"Progress\", Progress);\n_defineProperty(PresetPlayer, \"FullscreenIcon\", Fullscreen);\n_defineProperty(PresetPlayer, \"CssFullscreenIcon\", CssFullScreen);\n_defineProperty(PresetPlayer, \"VolumeIcon\", Volume);\nexport { PresetPlayer as default };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Xhr = /* @__PURE__ */ function() {\n  function Xhr2(url, callback) {\n    _classCallCheck(this, Xhr2);\n    this.url = url;\n    var xhr = new window.XMLHttpRequest();\n    xhr.target = this;\n    xhr.responseType = \"arraybuffer\";\n    xhr.open(\"get\", url);\n    xhr.onload = function() {\n      if (xhr.status === 200 || xhr.status === 206) {\n        if (callback && callback instanceof Function) {\n          callback(xhr.response);\n        }\n      }\n    };\n    xhr.onerror = function(e) {\n    };\n    this.xhr = xhr;\n    this.run();\n  }\n  _createClass(Xhr2, [{\n    key: \"cancel\",\n    value: function cancel() {\n      this.xhr.abort();\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      if (this.xhr.readyState === 1) {\n        this.xhr.send();\n      }\n    }\n  }]);\n  return Xhr2;\n}();\nexport { Xhr as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Util, Events, BasePlugin } from \"xgplayer\";\nimport Xhr from \"./xhr.js\";\nvar PLAY_MODES = {\n  ORDER: \"order\",\n  SLOOP: \"sloop\",\n  LOOP: \"loop\",\n  RANDOM: \"random\"\n};\nvar CLASS_NAME = \"xgplayer-music\";\nfunction _randomIndex(min, max, index) {\n  var i = Math.floor(Math.random() * (max - min) + min);\n  if (i === index) {\n    if (i > max / 2) {\n      max = max / 2;\n    } else {\n      min = max / 2;\n    }\n    return max - min > 2 ? _randomIndex(min, max, index) : i;\n  } else {\n    return i;\n  }\n}\nvar Music = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Music2, _BasePlugin);\n  var _super = _createSuper(Music2);\n  function Music2() {\n    var _this;\n    _classCallCheck(this, Music2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onEnded\", function() {\n      if (_this.mode === \"order\" && _this.index + 1 >= _this.list.length) {\n        _this.player.pause();\n        _this.player.currentTime = 0;\n        return;\n      }\n      switch (_this.mode) {\n        case PLAY_MODES.SLOOP:\n          _this.change();\n          break;\n        case PLAY_MODES.ORDER:\n        case PLAY_MODES.LOOP:\n        default:\n          _this.next();\n          break;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onDurationChange\", function() {\n      var abCycle = _this.config.abCycle;\n      _this._initABCycle(abCycle, _this.player);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeUpdate\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config, player = _assertThisInitialize.player;\n      if (!_this.halfPass && player.currentTime > player.duration / 2) {\n        _this.confirmOrder();\n      }\n      if (config.abCycle) {\n        var c = config.abCycle;\n        var _end = c.end > player.duration ? player.duration : c.end;\n        if (player.currentTime >= _end) {\n          if (!c.loop) {\n            player.pause();\n            _this.emit(\"abCycle_ended\");\n          }\n          player.currentTime = c.start || 0;\n        } else if (player.currentTime < c.start) {\n          player.currentTime = c.start || 0;\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(Music2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var player = this.player, playerConfig = this.playerConfig;\n      Util.addClass(player.root, CLASS_NAME);\n      this.halfPass = false;\n      this.list = this.config.list || [];\n      this.nextIndex = -1;\n      this.prevIndex = -1;\n      this.history = [];\n      this.disable = !(this.list.length > 0);\n      if (this.list.length === 0) {\n        return;\n      }\n      if (!playerConfig.url && this.list.length > 0) {\n        playerConfig.url = this.list[0].src;\n      }\n      if (!playerConfig.poster) {\n        playerConfig.poster = this.list[0].poster;\n      }\n      if (!playerConfig.title) {\n        playerConfig.title = this.list[0].title || \"\";\n      }\n      if (!playerConfig.vid) {\n        playerConfig.vid = this.list[0].vid || \"\";\n      }\n      this._curInfo = {\n        src: playerConfig.url,\n        poster: playerConfig.poster,\n        title: playerConfig.title,\n        vid: playerConfig.vid\n      };\n      this.index = 0;\n      this.on(Events.TIME_UPDATE, this._onTimeUpdate);\n      this.on(Events.ENDED, this._onEnded);\n      this.on(Events.DURATION_CHANGE, this._onDurationChange);\n      if (this.config.offline) {\n        this.checkOffline(this._curInfo.src, this._curInfo.vid).then(function(data) {\n          if (data.code === 0) {\n            playerConfig.url = data.url;\n            if (player.state >= 4) {\n              player.src = data.url;\n            }\n          }\n        }).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      Util.removeClass(this.player.root, CLASS_NAME);\n    }\n  }, {\n    key: \"_nextCompute\",\n    value: function _nextCompute() {\n      if (this.disable) {\n        return;\n      }\n      switch (this.mode) {\n        case PLAY_MODES.SLOOP:\n        case PLAY_MODES.ORDER:\n        case PLAY_MODES.LOOP:\n          if (this.index + 1 < this.list.length) {\n            this.nextIndex = this.index + 1;\n          } else {\n            this.nextIndex = 0;\n          }\n          break;\n        default:\n          this.nextIndex = _randomIndex(0, this.list.length, this.index);\n          break;\n      }\n    }\n  }, {\n    key: \"_prevCompute\",\n    value: function _prevCompute() {\n      if (this.disable) {\n        return;\n      }\n      switch (this.mode) {\n        case PLAY_MODES.SLOOP:\n        case PLAY_MODES.ORDER:\n        case PLAY_MODES.LOOP:\n          if (this.index - 1 >= 0) {\n            this.prevIndex = this.index - 1;\n          } else {\n            this.prevIndex = this.list.length - 1;\n          }\n          break;\n        default:\n          this.prevIndex = _randomIndex(0, this.list.length, this.index);\n          break;\n      }\n    }\n  }, {\n    key: \"_emitChange\",\n    value: function _emitChange() {\n      this.emit(\"change\", this._curInfo);\n    }\n  }, {\n    key: \"_initABCycle\",\n    value: function _initABCycle(abCycle, player) {\n      var _p = player.plugins.progresspreview;\n      if (abCycle && player) {\n        var _end = abCycle.end > this.player.duration ? this.player.duration : abCycle.end;\n        var _start = abCycle.start > this.player.duration ? 0 : abCycle.start;\n        var dot = {\n          id: player.playerId,\n          time: abCycle.start,\n          duration: _end - _start,\n          text: abCycle.text,\n          color: abCycle.color\n        };\n        _p.findDot(dot.id) ? _p.updateDot(dot) : _p.createDot(dot);\n      } else {\n        _p.findDot(player.playerId) ? _p.deleteDot(player.playerId) : \"\";\n      }\n    }\n  }, {\n    key: \"random\",\n    value: function random() {\n      if (this.list.length < 0) {\n        return null;\n      }\n      var _i = _randomIndex(0, this.list.length, this.index);\n      return this.list[_i];\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      if (this.disable) {\n        return;\n      }\n      if (!this.halfPass) {\n        this.halfPass = true;\n        this._nextCompute();\n      }\n      this.index = this.nextIndex;\n      this.change();\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      if (this.disable) {\n        return;\n      }\n      if (!this.halfPass) {\n        this.halfPass = true;\n        this._prevCompute();\n      }\n      this.index = this.prevIndex;\n      this.change();\n    }\n  }, {\n    key: \"forward\",\n    value: function forward() {\n      var player = this.player;\n      var timeScale = this.config.timeScale;\n      player.currentTime = player.currentTime + timeScale < player.duration ? player.currentTime + timeScale : player.duration - 0.1;\n    }\n  }, {\n    key: \"backward\",\n    value: function backward() {\n      var player = this.player;\n      var timeScale = this.config.timeScale;\n      player.currentTime = player.currentTime - timeScale > 0 ? player.currentTime - timeScale : 0;\n    }\n  }, {\n    key: \"add\",\n    value: function add(meta) {\n      this.list.push({\n        src: meta.src,\n        title: meta.title,\n        vid: meta.vid,\n        poster: meta.poster\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(vid) {\n      var idx = -1;\n      this.list.every(function(item, index) {\n        if (item.vid === vid) {\n          idx = index;\n          return false;\n        } else {\n          return true;\n        }\n      });\n      if (idx > -1) {\n        this.list.splice(idx, 1);\n      }\n    }\n  }, {\n    key: \"setAbCycle\",\n    value: function setAbCycle(start, end, loop) {\n      var ext = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n      if (start && Util.typeof(start) === \"Object\") {\n        this.config.abCycle = _objectSpread2({}, start);\n      } else {\n        this.config.abCycle = _objectSpread2({\n          start: start || 0,\n          end: end || this.player.duration,\n          loop\n        }, ext);\n      }\n      this._initABCycle(this.config.abCycle, this.player);\n    }\n  }, {\n    key: \"removeAbCycle\",\n    value: function removeAbCycle() {\n      this.config.abCycle = null;\n      this._initABCycle(null, this.player);\n    }\n  }, {\n    key: \"updateList\",\n    value: function updateList() {\n      var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      this.removeAbCycle();\n      this.player.pause();\n      this.player.currentTime = 0;\n      this.list = list;\n      this.nextIndex = 0;\n      this.index = 0;\n      this.change();\n    }\n  }, {\n    key: \"setIndex\",\n    value: function setIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      if (index < 0 || index >= this.list.length) {\n        return;\n      }\n      this.nextIndex = index;\n      this.index = index;\n      this.change();\n    }\n  }, {\n    key: \"change\",\n    value: function change() {\n      var _this2 = this;\n      if (this.disable) {\n        return;\n      }\n      var player = this.player, list = this.list, index = this.index;\n      var offlineVid = list[index].vid;\n      this.halfPass = false;\n      this.checkOffline(list[index].src, offlineVid).then(function(data) {\n        _this2._curInfo = {\n          title: _this2.list[_this2.index].title || \"\",\n          vid: _this2.list[_this2.index].vid,\n          poster: _this2.list[_this2.index].poster || \"\",\n          src: data.url\n        };\n        player.playNext({\n          url: data.url,\n          vid: _this2.list[_this2.index].vid || 0,\n          poster: _this2.list[_this2.index].poster || \"\",\n          autoplay: true\n        });\n        player.off(\"timeupdate\", _this2._emitChange);\n        player.once(\"timeupdate\", _this2._emitChange);\n        player.play();\n      });\n    }\n  }, {\n    key: \"checkOffline\",\n    value: function checkOffline(url, offlineVid) {\n      var _this3 = this;\n      return new Promise(function(resolve, reject) {\n        if (!_this3.config.offline || _this3.disable) {\n          resolve({\n            url,\n            code: -1,\n            vid: offlineVid\n          });\n        }\n        var database = _this3.player.database;\n        database.openDB(function() {\n          database.getDataByKey(database.myDB.ojstore.name, offlineVid, function(result) {\n            setTimeout(function() {\n              database.closeDB();\n            }, 5e3);\n            if (result) {\n              resolve({\n                url: URL.createObjectURL(result.blob),\n                code: 0,\n                vid: result.vid\n              });\n            } else {\n              resolve({\n                url,\n                code: -2,\n                vid: offlineVid\n              });\n            }\n          });\n        });\n      });\n    }\n  }, {\n    key: \"confirmOrder\",\n    value: function confirmOrder() {\n      this.halfPass = true;\n      this._nextCompute();\n      this._prevCompute();\n      if (this.config.preloadNext) {\n        this.preload(this.nextIndex);\n      }\n    }\n  }, {\n    key: \"preload\",\n    value: function preload(index) {\n      if (index < 0 || index >= this.list.length) {\n        return;\n      }\n      var _item = this.list[index];\n      var player = this.player;\n      this.checkOffline(_item.src, _item.vid).then(function(data) {\n        if (data.code === -2) {\n          var offlineVid = _item.vid;\n          new Xhr(_item.src, function(res) {\n            player.database.openDB(function() {\n              player.database.addData(player.database.myDB.ojstore.name, [{\n                vid: offlineVid,\n                blob: new Blob([res], {\n                  type: 'audio/mp4; codecs=\"mp4a.40.5\"'\n                })\n              }]);\n              setTimeout(function() {\n                player.database.closeDB();\n              }, 5e3);\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: \"timeScale\",\n    get: function get() {\n      return this.config.timeScale || 15;\n    },\n    set: function set(scale) {\n      this.config.timeScale = scale;\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.config.mode || PLAY_MODES.RANDOM;\n    },\n    set: function set(val) {\n      this.config.mode = val;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"music\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        offline: false,\n        preloadNext: true,\n        abCycle: null,\n        timeScale: 15,\n        mode: PLAY_MODES.ORDER,\n        list: []\n      };\n    }\n  }, {\n    key: \"ModeType\",\n    get: function get() {\n      return Object.keys(PLAY_MODES).map(function(key) {\n        return PLAY_MODES[key];\n      });\n    }\n  }]);\n  return Music2;\n}(BasePlugin);\nexport { Music as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Plugin } from \"xgplayer\";\nvar MusicCover = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MusicCover2, _Plugin);\n  var _super = _createSuper(MusicCover2);\n  function MusicCover2() {\n    _classCallCheck(this, MusicCover2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MusicCover2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(\"change\", function(item) {\n        if (item && item.poster) {\n          if (_this.find(\"img\")) {\n            _this.find(\"img\").src = item.poster;\n          } else {\n            var _img2 = new Image();\n            _img2.src = item.poster;\n            _this.appendChild(_img2);\n          }\n          _this.find(\"img\").src = item.poster;\n          _this.show();\n        } else {\n          _this.hide();\n        }\n      });\n      if (this.playerConfig.poster) {\n        var _img = new Image();\n        _img.src = this.playerConfig.poster;\n        this.appendChild(_img);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-cover\"></xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"musiccover\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 6,\n        position: Plugin.POSITIONS.CONTROLS_LEFT\n      };\n    }\n  }]);\n  return MusicCover2;\n}(Plugin);\nexport { MusicCover };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Plugin } from \"xgplayer\";\nvar MusicBackward = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MusicBackward2, _Plugin);\n  var _super = _createSuper(MusicBackward2);\n  function MusicBackward2() {\n    var _this;\n    _classCallCheck(this, MusicBackward2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      player.plugins.music.backward();\n    });\n    return _this;\n  }\n  _createClass(MusicBackward2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      var ev = [\"click\", \"touchstart\"];\n      ev.forEach(function(item) {\n        _this2.bind(item, _this2.onClick);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        musicBackward: {\n          icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"-2 0 21 15\">\\n      <path d=\"m 14,2.99996 0,10 -7,-5 7,-5 z m -7,5 0,5 -7,-5 7,-5 0,5 z m -7,0 0,0 z\"></path>\\n  </svg>',\n          class: \"xg-icon-mbackward\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.musicBackward);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this3 = this;\n      var ev = [\"click\", \"touchstart\"];\n      ev.forEach(function(item) {\n        _this3.unbind(item, _this3.onClick);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-backward\">\\n            <div class=\"xgplayer-icon\">\\n            </div>\\n          </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"musicbackward\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 1,\n        position: Plugin.POSITIONS.CONTROLS_LEFT\n      };\n    }\n  }]);\n  return MusicBackward2;\n}(Plugin);\nexport { MusicBackward };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Plugin } from \"xgplayer\";\nvar MusicPrev = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MusicPrev2, _Plugin);\n  var _super = _createSuper(MusicPrev2);\n  function MusicPrev2() {\n    var _this;\n    _classCallCheck(this, MusicPrev2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      player.plugins.music.prev();\n    });\n    return _this;\n  }\n  _createClass(MusicPrev2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      var ev = [\"click\", \"touchstart\"];\n      ev.forEach(function(item) {\n        _this2.bind(item, _this2.onClick);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        musicPrev: {\n          icon: ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"32\" viewBox=\"300 200 1024 1024\">\\n        <path d=\"M600 1140v-768h128v352l320-320v704l-320-320v352zz\"></path>\\n    </svg>',\n          class: \"xg-icon-mprev\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.musicPrev);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this3 = this;\n      var ev = [\"click\", \"touchstart\"];\n      ev.forEach(function(item) {\n        _this3.unbind(item, _this3.onClick);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-next\">\\n            <div class=\"xgplayer-icon\">\\n            </div>\\n          </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"musicprev\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 2,\n        position: Plugin.POSITIONS.CONTROLS_LEFT\n      };\n    }\n  }]);\n  return MusicPrev2;\n}(Plugin);\nexport { MusicPrev };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Plugin } from \"xgplayer\";\nvar MusicForward = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MusicForward2, _Plugin);\n  var _super = _createSuper(MusicForward2);\n  function MusicForward2() {\n    var _this;\n    _classCallCheck(this, MusicForward2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      player.plugins.music.forward();\n    });\n    return _this;\n  }\n  _createClass(MusicForward2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      var ev = [\"click\", \"touchstart\"];\n      ev.forEach(function(item) {\n        _this2.bind(item, _this2.onClick);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        musicForward: {\n          icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"-2 0 21 15\">\\n        <path d=\"m 2,2.99996 0,10 7,-5 -7,-5 z m 7,5 0,5 7,-5 -7,-5 0,5 z m 7,0 0,0 z\"></path>\\n      </svg>',\n          class: \"xg-icon-mforward\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.musicForward);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this3 = this;\n      var ev = [\"click\", \"touchstart\"];\n      ev.forEach(function(item) {\n        _this3.unbind(item, _this3.onClick);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-forward\">\\n            <div class=\"xgplayer-icon\">\\n            </div>\\n          </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"musicforward\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 5,\n        position: Plugin.POSITIONS.CONTROLS_LEFT\n      };\n    }\n  }]);\n  return MusicForward2;\n}(Plugin);\nexport { MusicForward };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Plugin } from \"xgplayer\";\nvar MusicNext = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MusicNext2, _Plugin);\n  var _super = _createSuper(MusicNext2);\n  function MusicNext2() {\n    var _this;\n    _classCallCheck(this, MusicNext2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      player.plugins.music.next();\n    });\n    return _this;\n  }\n  _createClass(MusicNext2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      var ev = [\"click\", \"touchstart\"];\n      ev.forEach(function(item) {\n        _this2.bind(item, _this2.onClick);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        musicNext: {\n          icon: ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"32\" viewBox=\"100 200 1024 1024\">\\n        <path d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\">\\n      </svg>',\n          class: \"xg-icon-mnext\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.musicNext);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this3 = this;\n      var ev = [\"click\", \"touchstart\"];\n      ev.forEach(function(item) {\n        _this3.unbind(item, _this3.onClick);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-next\">\\n            <div class=\"xgplayer-icon\">\\n            </div>\\n          </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"musicnext\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 4,\n        position: Plugin.POSITIONS.CONTROLS_LEFT\n      };\n    }\n  }]);\n  return MusicNext2;\n}(Plugin);\nexport { MusicNext };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Plugin } from \"xgplayer\";\nvar MusicMeta = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MusicMeta2, _Plugin);\n  var _super = _createSuper(MusicMeta2);\n  function MusicMeta2() {\n    _classCallCheck(this, MusicMeta2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MusicMeta2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var progress = args.player.plugins.progress;\n      if (progress) {\n        args.root = progress.root;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(\"change\", function(item) {\n        if (item && item.title) {\n          _this.root.innerHTML = \"\".concat(item.title);\n        } else {\n          _this.root.innerHTML = \"\";\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var playerConfig = this.playerConfig;\n      return '<xg-title class=\"xgplayer-name\">\\n          '.concat(playerConfig.title || \"\", \"\\n       </xg-title>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"musicmeta\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 0\n      };\n    }\n  }]);\n  return MusicMeta2;\n}(Plugin);\nexport { MusicMeta };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Util } from \"xgplayer\";\nimport Music from \"./music.js\";\nimport { MusicCover } from \"./plugins/musicCover.js\";\nimport { MusicBackward } from \"./plugins/musicBackward.js\";\nimport { MusicPrev } from \"./plugins/musicPrev.js\";\nimport { MusicForward } from \"./plugins/musicForward.js\";\nimport { MusicNext } from \"./plugins/musicNext.js\";\nimport { MusicMeta } from \"./plugins/musicMeta.js\";\nfunction initMusicConfig(playerConfig) {\n  if (Util.typeOf(playerConfig.controls) !== \"Object\") {\n    playerConfig.controls = {\n      mode: \"flex\",\n      initShow: true\n    };\n  } else {\n    var _c = playerConfig.controls;\n    playerConfig.controls = _objectSpread2({\n      mode: \"flex\",\n      initShow: true\n    }, _c);\n  }\n  var _p = playerConfig.play || {};\n  playerConfig.play = _objectSpread2({\n    index: 3\n  }, _p);\n  playerConfig.marginControls = true;\n  playerConfig.mediaType = \"audio\";\n}\nvar MusicPreset = /* @__PURE__ */ _createClass(function MusicPreset2(options, playerConfig) {\n  _classCallCheck(this, MusicPreset2);\n  console.log(\"config\", options, playerConfig);\n  console.log(\"playerConfig\", Util.typeOf(playerConfig.controls) !== \"Object\");\n  initMusicConfig(playerConfig);\n  this.plugins = [\n    Music,\n    MusicBackward,\n    MusicPrev,\n    MusicForward,\n    MusicNext,\n    MusicCover,\n    MusicMeta\n  ];\n  this.ignores = [\"start\", \"cssFullScreen\", \"fullscreen\", \"pip\", \"enter\", \"replay\", \"pc\", \"loading\", \"poster\"];\n});\nexport { MusicPreset as default };\n","import Xgplayer, { Events, IPlayerOptions, Start } from \"xgplayer\";\r\nimport MusicPreset, { Music } from \"xgplayer-music\";\r\nimport DynamicBg from \"xgplayer/es/plugins/dynamicBg\";\r\nimport Mobile from \"xgplayer/es/plugins/mobile\";\r\nimport Play from \"xgplayer/es/plugins/play\";\r\nimport Playbackrate from \"xgplayer/es/plugins/playbackRate\";\r\nimport Progress from \"xgplayer/es/plugins/progress\";\r\nimport Time from \"xgplayer/es/plugins/time\";\r\nimport Volume from \"xgplayer/es/plugins/volume\";\r\n\r\nexport type XgplayerOptions = Omit<\r\n  IPlayerOptions,\r\n  \"id\" | \"el\" | \"url\" | \"plugins\"\r\n> & {\r\n  music?: Music;\r\n};\r\n\r\nclass XgplayerProxy {\r\n  el: HTMLElement;\r\n  initOptions: XgplayerOptions;\r\n  player: Xgplayer;\r\n  handle: DotNet.DotNetObject;\r\n  cacheOptions: {\r\n    [key: string]: any;\r\n  } = {};\r\n\r\n  constructor(\r\n    selector: string,\r\n    url: IPlayerOptions[\"url\"],\r\n    options: XgplayerOptions,\r\n    handle: DotNet.DotNetObject\r\n  ) {\r\n    const el: HTMLElement = document.querySelector(selector);\r\n\r\n    if (!el) {\r\n      this.debug(\"Selector not found:\", selector);\r\n      return;\r\n    }\r\n\r\n    if (!url) {\r\n      this.debug(\"URL is required for the player.\");\r\n    }\r\n\r\n    this.initOptions = options;\r\n    this.el = el;\r\n    this.handle = handle;\r\n    this.init(url, options);\r\n\r\n    if (!DynamicBg.isSupport) {\r\n      console.warn(\r\n        \"[Xgplayer] DynamicBg plugin is not supported in this environment.\"\r\n      );\r\n    }\r\n  }\r\n\r\n  invokeVoid(prop: string, ...args: any[]) {\r\n    if (this.player[prop] && typeof this.player[prop] === \"function\") {\r\n      this.player[prop](...args);\r\n    }\r\n  }\r\n\r\n  setProp(prop: string, value: any) {\r\n    if (this.player[prop] !== undefined) {\r\n      this.player[prop] = value;\r\n    }\r\n  }\r\n\r\n  togglePlay(force: boolean = null) {\r\n    let toPlay = force !== null ? force : this.player.paused;\r\n\r\n    if (toPlay) {\r\n      this.player.play();\r\n    } else {\r\n      this.player.pause();\r\n    }\r\n  }\r\n\r\n  toggleMuted(force: boolean = null) {\r\n    let toMuted = force !== null ? force : !this.player.muted;\r\n    this.player.muted = toMuted;\r\n  }\r\n\r\n  getPropsAndStates() {\r\n    return {\r\n      autoplay: this.player.autoplay,\r\n      crossOrigin: this.player.crossOrigin,\r\n      currentSrc: this.player.currentSrc,\r\n      currentTime: this.player.currentTime,\r\n      duration: this.player.duration,\r\n      cumulateTime: this.player.cumulateTime,\r\n      volume: this.player.volume,\r\n      muted: this.player.muted,\r\n      defaultMuted: this.player.defaultMuted,\r\n      playbackRate: this.player.playbackRate,\r\n      loop: this.player.loop,\r\n      src: this.player.src,\r\n      lang: this.player.lang,\r\n      version: this.player.version,\r\n      state: this.player.state,\r\n      ended: this.player.ended,\r\n      paused: this.player.paused,\r\n      networkState: this.player.networkState,\r\n      readyState: this.player.readyState,\r\n      isFullscreen: this.player.isFullscreen,\r\n      isCssFullscreen: this.player.isCssfullScreen,\r\n      isSeeking: this.player.isSeeking,\r\n      isActive: this.player.isActive,\r\n    };\r\n  }\r\n\r\n  getMetadata(video: HTMLVideoElement) {\r\n    // \r\n    const videoWidth = video.videoWidth || 0;\r\n    const videoHeight = video.videoHeight || 0;\r\n\r\n    // \r\n    const aspectRatio = videoHeight > 0 ? videoWidth / videoHeight : 0;\r\n\r\n    return {\r\n      width: videoWidth,\r\n      height: videoHeight,\r\n      aspectRatio: aspectRatio,\r\n    };\r\n  }\r\n\r\n  // \r\n  toMusic(ignores: string[] = []) {\r\n    // audio\r\n    if (this.player.media instanceof HTMLAudioElement) {\r\n      this.debug(\"Already in music mode, no need to switch.\");\r\n      return;\r\n    }\r\n\r\n    // \r\n    let currentTime = 0;\r\n    let volume = 1;\r\n    let playbackRate = 1;\r\n    let muted = false;\r\n    let paused = true;\r\n\r\n    if (this.player) {\r\n      currentTime = this.player.currentTime || 0;\r\n      volume = this.player.volume || 1;\r\n      playbackRate = this.player.playbackRate || 1;\r\n      muted = this.player.muted || false;\r\n      paused = this.player.paused;\r\n\r\n      this.cacheOptions[\"poster\"] = this.player.poster;\r\n\r\n      // \r\n      this.player.destroy();\r\n    }\r\n\r\n    // \r\n    const musicOptions: XgplayerOptions = {\r\n      ...this.initOptions,\r\n      music: this.initOptions.music || ({} as Music),\r\n      volume: volume,\r\n      playbackRate: playbackRate,\r\n      muted: muted,\r\n    };\r\n\r\n    delete musicOptions.fullscreenTarget;\r\n    delete musicOptions.cssFullscreen;\r\n    delete musicOptions.poster;\r\n\r\n    // override ignores\r\n    if (ignores && ignores.length > 0) {\r\n      musicOptions.ignores = ignores;\r\n    }\r\n\r\n    // always show the controls on mobile\r\n    musicOptions.controls[\"autoHide\"] = false;\r\n\r\n    // \r\n    this.init(this.player.url, musicOptions);\r\n\r\n    // \r\n    this.player.once(Events.READY, () => {\r\n      if (currentTime > 0) {\r\n        this.player.currentTime = currentTime;\r\n      }\r\n      if (!paused) {\r\n        this.player.play();\r\n      }\r\n    });\r\n  }\r\n\r\n  // \r\n  toVideo() {\r\n    if (this.player.media instanceof HTMLVideoElement) {\r\n      this.debug(\"Already in video mode, no need to switch.\");\r\n      return;\r\n    }\r\n\r\n    // \r\n    let currentTime = 0;\r\n    let volume = 1;\r\n    let playbackRate = 1;\r\n    let muted = false;\r\n    let paused = true;\r\n\r\n    if (this.player) {\r\n      currentTime = this.player.currentTime || 0;\r\n      volume = this.player.volume || 1;\r\n      playbackRate = this.player.playbackRate || 1;\r\n      muted = this.player.muted || false;\r\n      paused = this.player.paused;\r\n\r\n      // \r\n      this.player.destroy();\r\n    }\r\n\r\n    //  ( music )\r\n    const videoOptions: XgplayerOptions = {\r\n      ...this.initOptions,\r\n      volume: volume,\r\n      playbackRate: playbackRate,\r\n      muted: muted,\r\n    };\r\n\r\n    // \r\n    delete videoOptions.music;\r\n\r\n    //  poster\r\n    if (this.cacheOptions[\"poster\"]) {\r\n      videoOptions.poster = this.cacheOptions[\"poster\"];\r\n      delete this.cacheOptions[\"poster\"];\r\n    }\r\n\r\n    // \r\n    this.init(this.player.url, videoOptions);\r\n\r\n    // \r\n    this.player.once(Events.READY, () => {\r\n      if (currentTime > 0) {\r\n        this.player.currentTime = currentTime;\r\n      }\r\n      if (!paused) {\r\n        this.player.play();\r\n      }\r\n    });\r\n  }\r\n\r\n  private init(url: IPlayerOptions[\"url\"], options: XgplayerOptions) {\r\n    let playerOptions: IPlayerOptions = {\r\n      el: this.el,\r\n      url,\r\n    };\r\n\r\n    if (\r\n      options.fullscreenTarget &&\r\n      typeof options.fullscreenTarget === \"string\"\r\n    ) {\r\n      const fullscreenEl = document.querySelector(options.fullscreenTarget);\r\n      if (fullscreenEl) {\r\n        options.fullscreenTarget = fullscreenEl;\r\n      }\r\n    }\r\n\r\n    if (\r\n      options.cssFullscreen &&\r\n      options.cssFullscreen.target &&\r\n      typeof options.cssFullscreen.target === \"string\"\r\n    ) {\r\n      const el = document.querySelector(options.cssFullscreen.target);\r\n      if (el) {\r\n        options.cssFullscreen.target = el;\r\n      }\r\n    }\r\n\r\n    if (options.music) {\r\n      playerOptions = {\r\n        ...playerOptions,\r\n        mediaType: \"audio\",\r\n        presets: [MusicPreset],\r\n        plugins: [Mobile, Progress, Play, Playbackrate, Time, Volume],\r\n        ...options,\r\n      };\r\n    } else {\r\n      playerOptions = {\r\n        ...playerOptions,\r\n        ...options,\r\n      };\r\n    }\r\n\r\n    this.debug(\"options\", playerOptions);\r\n\r\n    this.player = new Xgplayer(playerOptions);\r\n\r\n    this.player.on(Events.READY, () => {\r\n      this.debug(\"Player is ready\");\r\n      this.handle.invokeMethodAsync(\"OnReady\");\r\n    });\r\n    this.player.on(Events.FULLSCREEN_CHANGE, val => {\r\n      this.debug(\"Fullscreen change\", val);\r\n      this.handle.invokeMethodAsync(\"OnFullscreenChange\", val);\r\n    });\r\n    this.player.on(Events.CSS_FULLSCREEN_CHANGE, val => {\r\n      this.debug(\"CSS Fullscreen change\", val);\r\n      this.handle.invokeMethodAsync(\"OnCssFullscreenChange\", val);\r\n    });\r\n    this.player.on(Events.LOADED_DATA, val => {\r\n      const metadata = this.getMetadata(val.player.media);\r\n      this.debug(\"Loaded data\", metadata);\r\n      this.handle.invokeMethodAsync(\"OnMetadataLoaded\", metadata);\r\n    });\r\n    this.player.on(Events.VIDEO_RESIZE, val => {\r\n      this.debug(\"Video resize\", val);\r\n      this.handle.invokeMethodAsync(\"OnResize\", val);\r\n    });\r\n    this.player.on(Events.PLAY, val => {\r\n      this.debug(\"Video play\", val);\r\n      this.handle.invokeMethodAsync(\"OnPlay\");\r\n    });\r\n    this.player.on(Events.PAUSE, val => {\r\n      this.debug(\"Video pause\", val);\r\n      this.handle.invokeMethodAsync(\"OnPause\");\r\n    });\r\n    this.player.on(Events.ERROR, val => {\r\n      this.debug(\"Video error\", val);\r\n      this.handle.invokeMethodAsync(\"OnError\");\r\n    });\r\n    this.player.on(Events.ENDED, val => {\r\n      this.debug(\"Video ended\", val);\r\n      this.handle.invokeMethodAsync(\"OnEnded\");\r\n    });\r\n\r\n    if (!options.music) {\r\n      const fullScreen = this.el.querySelector(\".xgplayer-fullscreen\");\r\n      if (fullScreen) {\r\n        fullScreen.addEventListener(\"touchend\", this.onFullscreenTouchend);\r\n      }\r\n    }\r\n  }\r\n\r\n  onFullscreenTouchend = () => {\r\n    this.handle.invokeMethodAsync(\"OnFullscreenTouchend\");\r\n  };\r\n\r\n  destroy() {\r\n    if (this.el) {\r\n      this.el.removeEventListener(\"touchend\", this.onFullscreenTouchend);\r\n    }\r\n\r\n    if (this.player) {\r\n      this.player.destroy();\r\n      this.player = null;\r\n    }\r\n\r\n    if (this.handle) {\r\n      this.handle.dispose();\r\n    }\r\n  }\r\n\r\n  private debug(message: string, ...args: any[]) {\r\n    if (window.MasaBlazor.debug.includes(\"xgplayer\")) {\r\n      console.debug(`[Xgplayer] ${message}`, ...args);\r\n    }\r\n  }\r\n}\r\n\r\nexport function init(\r\n  selector: string,\r\n  url: IPlayerOptions[\"url\"],\r\n  options: XgplayerOptions,\r\n  handle: DotNet.DotNetObject\r\n) {\r\n  const instance = new XgplayerProxy(selector, url, options, handle);\r\n  return instance;\r\n}\r\n"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","obj2","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","value","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","bind","o2","__proto__","p","p2","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","NewTarget","this","_get","get","property","receiver","base","hasOwnProperty","_superPropBase","desc","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","minLen","n","toString","slice","name","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","arg","input","hint","prim","toPrimitive","res","String","Number","_toPrimitive","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","concat","listeners","handlers","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","removeListener","undefined","j","on","removeAllListeners","off","prefixed","module","exports","XG_DEBUG_OPEN","window","location","href","indexOf","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","_console","_len","optionalParams","_key","console","log","logWarn","_console2","_len2","_key2","logError","_console3","_fun","_len3","_key3","XgplayerTimeRange","XgplayerTimeRange2","bufferedList","index","start","end","util","isObject","type","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","setTimeout","shouldInvoke","timeSinceLastCall","timerExpired","Date","now","trailingEdge","timeSinceLastInvoke","timeWaiting","Math","min","remainingWait","debounced","isInvoking","leadingEdge","max","cancel","id","clearTimeout","cancelTimer","flush","pending","createDom","el","tpl","attrs","cname","dom","document","createElement","className","innerHTML","item","setAttribute","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","getAttribute","match","RegExp","replace","split","add","removeClass","remove","reg","toggleClass","classNames","_arguments","_loop","i2","typeOf","map","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","floor","minute","second","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","deepCopy","dst","src","Node","deepMerge","_dst$key","getBgImage","url","backgroundImage","a","copyDom","nodeType","back","tagName","attributes","node","setInterval","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","w","h","unit","btn","style","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","display","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","filterStyleFromText","list","_cssText","cssText","styleArr","ret","remain","checkIsIn","getStyleFromCsstext","preloadImg","onload","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","documentElement","body","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","_i","buf2len","buf2end","getEventPos","zoom","x","y","callback","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","media","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","root","appendChild","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","lastIndex","convertDeg","abs","getIndexByTime","segments","_index","getOffsetCurrentTime","currentTime","_segments$_index","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","H264_MIMETYPES","sniffer","device","os","isPc","browser","navigator","ua","userAgent","toLowerCase","ie","firefox","chrome","opera","safari","isWindowsPhone","isSymbian","isTizen","isWebOS","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","toLocaleLowerCase","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","Errors2","player","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","ended","_player$media","readyState","networkState","_errc","code","playerVersion","stack","host","_r","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","LEAVE_PLAYER","ENTER_PLAYER","LOADING","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","errorHandler","MediaProxy","MediaProxy2","_super","_this","_hasStart","_currentTime","_duration","_internalOp","_lastMuted","vtype","_rate","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","muted","mediaEl","defaultPlaybackRate","playbackRate","volume","mediaEventMiddleware","attachVideoEvents","middlewares","_this2","_this3","_this4","_evHandlers","funName","charAt","toUpperCase","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","removeInnerOP","isMutedChange","getVideoEventHandler","addEventListener","_this5","removeEventListener","urls","_this6","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","removeChild","_e","srcObject","k","pause","detachVideoEvents","set","play","range","isTrue","_buffered","crossOrigin","defaultMuted","rate","Infinity","played","preload","seekable","seeking","onWaiting","_detachSourceEvents","_attachSourceEvents","vol","videoWidth","videoHeight","data","_get2","_get3","_get4","_get5","_len4","_key4","INDEXDB","INDEXDB2","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","request","open","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deleteDatabase","close","storename","store","objectStore","put","delete","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","handler","next","then","args2","hook","hookName","preset","pre","__hooks","_preset$pre","pluginName","preRet","runHooks","isContinue","catch","findHookIndex","hookHandlers","useHooks","removeHooks","hooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","presetHooks","delHooksDescriptor","_len5","_key5","runHooksRecursive2","hookName2","handler2","_len6","_key6","hook2","showErrorMsg","BasePlugin","BasePlugin2","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","logger","lang","i18nKeys","domEventType","_this$player","action","params","nParams","emitUserAction","registerPlugin","getPlugin","offAll","destroy","unRegisterPlugin","Obj","Element","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","parentNode","_delegate","useCapture","listenerFn","delegateTarget","delegate_1","elements","querySelectorAll","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","PLUGIN_STATE_CLASS","isUrl","createIcon","icon","attr","newIcon","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","class","mergeIconClass","mergeIconAttr","Plugin","Plugin2","__delegates","_parent","_el","parent","registerIcons","langText","textConfig","defaultTexConfig","registerLanguageTexts","renderStr","render","Error","insert","setAttr","setStyle","__registerChildren","_children","_Plugin","_plugin","checkChildren","langKey","langTextShow","disable","find","qs","eventType","bindEL","delegate","unbindEL","htmlStr","eventHandle","isBubble","getPropertyValue","pdom","child","_this7","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","capture","dels","ret2","ResizeObserver","ResizeObserver2","entries","t","__runHandler","__handlers","observer","throttle","__trigger","observe","_pid","playerId","_this$observer","unobserve","_this$observer2","disconnect","resizeObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","addObserver","_originalOptions","_plugins","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","position","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","defaultConfig","unRegister","_instance","afterCreate","__destroy","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","_loadingPlugins","all","pluginsRet","pName","beforePlayerInit","afterInit","afterPlayerInit","setLang","updateLang","reRender","_pList","onPluginsReady","_resizeObserver","unObserver","_Object$keys","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","MOBILE","MINI","getDefaultConfig","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","language","marginControls","fullscreenTarget","screenShot","pip","download","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","Controls","Controls2","_assertThisInitialize","focus","autoHide","_this$config","left","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","blur","ignorePaused","unbind","_this$config2","initShow","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","use","langData","i18nLangs","_clang","LANG","texts","TEXT","network","mse","parse","decoder","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","I18N","zh","extend","i18nTextList","lang2","_ret$langKeys","pId","STATES","STATE_ARRAY","InstManager","InstManager2","setActive","isUserActive","endEarly","_iterate","flag","isActive","inst","isInstNext","isNext","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","instManager","Player","Player2","_config","__startTime","_seekToStartTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","pid","checkIsCurrentVideo","_fullscreenEl","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","handleSource","_state","isAd","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initDOM","_this$config2$definit","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","_instManager","vid","line","handle","checkPlayerRoot","_initBaseDoms","_root","_this$config3","_width","_height","_this$root$getBoundin","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","mousemoveFunc","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","Preset","_player$config$plugin","_player$config$ignore","_presetInst","_presetInst$plugins","_presetInst$ignores","_presetInst$icons","_presetInst$i18n","_ci18n","usePreset","_retPlugin","_this$controls","_getRootByPosition","removedFromConfig","deregister","removePluginFromConfig","_this8","_furl","_startInit","fileName","lineNumber","_this9","_src","curTime","isPaused","_error","_canplay","_this10","playPromise","onError","_errorTimer","_this11","_this12","status","_this13","_this$config4","isSeekedPlay","_status","_this14","_this$config5","_this15","bitrate","switchURL","seamless","reloadFunc","_this16","clsList","mediaPause","cls","_this17","unregisterPlugins","isResetConfig","resetState","pn","de","_instManager2","_this18","updateAcc","_unbindEvents","exitFullscreen","remainMediaAfterDestroy","cList","_this19","onPlay","_this20","cur","_srcRet","rootClass","pClassName","_orgPCss","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","_class","_this$config$fullscre","useCssFullscreen","_this$config$fullscre2","setRotateDeg","_rootStyle","innerHeight","deg","orientation","delay","onFocus","_clearUserTimer","onBlur","_this21","isLock","_ref$ignorePaused","_this22","_this23","_this24","endType","_at","_ref2","startDiff","endDiff","_ref2$startDiff","_ref2$endDiff","_this25","_this$videoPos","_pi","_pos","offsetWidth","offsetHeight","rHeight","rWidth","maxWidth","maxHeight","formStyle","transform","webkitTransform","resizePosition","_this26","setConfig","_this27","_this28","containerSize","_this$media","_this$config6","controlsHeight","videoFit","fit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","_this$config7","preProcessUrl2","preProcessUrlOptions","processUrlOptions","bool","_this29","curDef","targetDef","_this29$curDefinition","changeDefinition","total","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","_this$_accPlayed","isMuted","_instManager3","addInnerOP","_instManager4","getActiveId","_instManager5","xgIconTips","textKey","isShow","getInstance","Icon","Icon2","_onMouseenter","_onMouseLeave","CssFullSceenSvg","DOMParser","parseFromString","ExitCssFullSceenSvg","CssFullScreen","CssFullScreen2","initIcons","isCssfullScreen","animate","btnClick","handleCssFullscreen","preventDefault","contentIcon","getCssFullscreen","switchTips","tipDom","changeLangTextKey","BackSVG","TopBackIcon","TopBackIcon2","onClick","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","Fullscreen2","rotateFullscreen","getFullscreen","handleFullscreen","toggleFullScreen","tipsDom","needBackIcon","topBackIcon","_onOrientationChange","getRotateFullscreen","switchCallback","useScreenOrientation","unlockScreen","e2","aspectRatio","lockScreen","lockOrientationType","screen","lock","unlock","PlayIcon","PauseIcon","Play","Play2","replay","listenEvents","TPL","styleKey","InnerList","InnerList2","fragments","percent","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","newIndex","curIndex","millisecond","progressList","curPFrag","per","newPIndex","findIndex","unHightLight","setHightLight","_data2","preIndex","fragment","_data","cached","updateDuration","updateProgress","newCIndex","newOptions","_this$fragConfig","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","Progress2","_ePos","moving","miniMoveStep","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","_assertThisInitialize3","forward","isDown","isPauseMoving","_assertThisInitialize4","closeMoveSeek","isPlaying","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","_assertThisInitialize5","onMoveEnd","_mouseUpHandlerHook","isEnter","resetSeekState","_assertThisInitialize6","miniStartStep","_mouseMoveHandlerHook","_assertThisInitialize7","_this$pos","useable","__dragCallBacks","direc","_disableBlur","isDragingSeek","isDraggingSeek","offsetDuration","offsetCurrentTime","innerList","reset","outer","updateFocus","_initInner","isMobile","bindDomEvents","initCustomStyle","onTimeupdate","onCacheUpdate","onReset","onVideoResize","frags","boxShadow","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","pauseAutoHide","recoverAutoHide","isCloseClickSeek","realTime","endedDiff","toFixed","updatePercent","updateTime","seek","rLeft","timeIcon","resetActive","notSeek","_end","bufferedPoint","thumbnailPlugin","controlsMode","Time","Time2","isActiving","_this$player2","constrolsMode","createCenterTime","durationDom","timeDom","onTimeUpdate","centerCurDom","centerDurDom","current","minWidthTime","timeStr","updateState","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","Volume2","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isStart","isMoving","unFocus","showValueLabel","updateVolumeValue","volumeSmall","volumeLarge","volumeMuted","_timerId","_this$playerConfig","backgroundColor","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","drag","$labelValue","innerText","isForce","miniVolume","isShowVolumeValue","LOG_TYPES","XGLogger","XGLogger2","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_this2$_state","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","_this$_state","costTime","waitTimeout","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","Replay","Replay2","__handleReplay","path","Poster","Poster2","isEndedShow","hideCanplay","_bg","fillMode","notHidden","getBgSize","AnimateMap","clearAnimation","Start","Start2","autoPlayStart","toggleTo","bindClickEvents","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","isAnimate","endShow","_animateId","seconds","addAnimate","switchStatus","isShowPause","isShowEnd","endAnimate","disableAnimate","Enter","Enter2","innerHtml","HTMLElement","barStr","logo","MiniScreenIcon","MiniScreenIcon2","getMini","exitMini","getStyleSize","num","measurements","measurementsLength","getSize","elem","getStyle","size","innerWidth","outerWidth","outerHeight","getZeroSize","isBorderBox","boxSizing","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","Draggabilly2","isEnabled","isDragging","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","_boundPointerEvents","onUp","positionDrag","webKitTransform","dragStart","dragMove","dragEnd","touchIdentifier","pointerId","dragCancel","pointer","_getPosition","maxY","maxX","setLeftTop","_bindPostStartEvents","_unbindPostStartEvents","presetInfo","moveVector","hasDragStarted","dragRealStart","_this$startPos","_dragPointerMove","dragX","dragY","checkContain","_unbindStartEvent","axis","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","MiniScreen2","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","onCancelClick","onCenterClick","disableDrag","_draggabilly","isScrollSwitch","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","PCPlugin2","_assertThisInitialize2","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","TOUCHS","move","MOUSES","Touche","Touche2","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","press","__setDb","diffx","diffy","miniStep","pressDelay","dbClickDelay","disablePress","disableDbClick","needPreventDefault","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","MobilePlugin","MobilePlugin2","touche","getTouche","disableGesture","timer","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","endLastMove","resetPos","changeAction","checkIsRootTarget","light","seekTipIcon","closedbClick","xgMask","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","moveDuration","_this2$pos","eventsMap","pressend","click","doubleclick","disableActive","progressPlugin","progress","addCallBack","activeSeekNote","usable","createThumbnail","timePreview","timePreviewStyle","curTimeColor","durationColor","previewDom","curColor","durColor","color","disableTimeProgress","startPlugin","recover","mold","updateBrightness","updateVolume","lastScope","hideControlsEnd","sendUseAction","focusVideoClick","dbClickHandler","pressRate","isTouchingSeek","darkness","maxDarkness","isForward","focusHide","updateThumbnails","gradient","disableSeekIcon","miniYPer","isDisableTag","isContentEditable","Keyboard","Keyboard2","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","extendkeyCodeMap","keyCodeMap","key1","seekStep","space","noBodyTarget","up","down","pressAction","esc","mergekeyCodeMap","isPress","tt","onKeydown","onBodyKeyDown","newConfig","checkVisible","rec","bottom","isBodyTarget","_time","_step","_seekTime","handleKeyCode","curKeyCode","_this$keyCodeMap$arr$","_action","loadingIcon","Loading","Loading2","TimeSegmentsControls","TimeSegmentsControls2","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","_this$curPos","_this$player3","getSeekTime","_this$player4","_onDurationChange","_onLoadedData","_onPlay","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","_timeSegments$index","diff2","RotateSvg","Rotate","Rotate2","onBtnClick","innerRotate","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","clockwise","videoRotateDeg","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","PIP2","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","checkWebkitSetPresentationMode","pipWin","textContent","styleSheets","style2","cssRules","rule","link","rel","head","preferDocument","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","docPiPNode","docPiPStyle","pipRoot","parentElement","previousSibling","nextSibling","copyStyleIntoPiPWindow","append","cssContent","webkitSetPresentationMode","requestPictureInPicture","reason","_documentPictureInPic","exitPictureInPicture","_documentPictureInPic2","pictureInPictureElement","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","PlayNextIcon2","idx","urlList","nextHandler","playNext","changeSrc","strFileName","strMimeType","blob","reader","defaultMime","mimeType","payload","anchor","myBlob","Blob","MozBlob","WebKitBlob","pop","ajax","XMLHttpRequest","responseType","response","send","msSaveBlob","dataUrlToBlob","saver","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","binData","atob","decodeURIComponent","uiArr","winMode","URL","revokeObjectURL","confirm","f","createObjectURL","btoa","encodeURIComponent","FileReader","readAsDataURL","DownloadSvg","Download","Download2","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","ScreenShot2","screenshotIcon","initSize","fitVideo","onClickBtn","filename","saveLink","MouseEvent","bubbles","view","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","saveImg","saveScreenShot","option","quality","createCanvas","dx","dy","dw","dh","mediaRatio","canvasRatio","sw","sh","drawImage","toDataURL","OptionList","OptionList2","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","TOGGLE_MODES","IS_MOBILE","OptionsIcon","OptionsIcon2","switchActiveState","toggleMode","toggle","listType","enterType","isIcons","curValue","hidePortrait","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","focusAwhile","curItem","changeCurrentText","isItemClickHide","getTextByLang","itemList","_maxH","heightLimit","listStyle","DefinitionIcon","DefinitionIcon2","changeDefinitionList","definitionList","items","showItem","PlaybackRate","PlaybackRate2","curRate","itemInfo","_text","ErrorPlugin","ErrorPlugin2","errorRetry","handleError","retry","errorNote","Prompt","Prompt2","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","interval","highlight","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","_t2","getAllDotsDom","getDotDom","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","ProgressPreview2","isHideThumbnailHover","isDrag","_curDot","onDotMouseLeave","blurDot","enableBlur","focusDot","disableBlur","videoPreview","videothumbnail","handlerSpotClick","_event","transformTimeHook","setTimeContent","ispots","progressDot","initDotsAPI","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","updatePosition","cwidth","isflex","lwidth","showTips","isFocusDots","defaultText","hideTips","updateTimeText","updateLinePos","thumbnailConfig","isShowThumbnail","tRoot","isShowCoverPreview","totalWidth","widthPerSeconds","_activeDotId","isDefault","removeCallBack","miniWidth","Thumbnail","Thumbnail2","ratio","_preloadMark","initThumbnail","_this2$config","pic_num","containerWidth","containerHeight","row","col","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","getUrlByIndex","backgroundPosition","customStyle","getPosition","getBgColor","MiniProgress","MiniProgress2","MODES","isSupportCanvas","DynamicBg","DynamicBg2","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","nowTime","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","dynamicBg","frameRate","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","supportCanvasFilter","isInnerRender","webkitFilter","mask","addMask","background","maskBg","_p","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","_this$canvas$getBound","image","sourcePI","_this$canvas$getBound2","multiple","checkIsSupportCanvas","INFO","STATS_EVENTS$1","Stats","Stats2","actionData","_getTime","_stats","stats","getStats","JSON","stringify","downloadUrl","disabled","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","profile","_infoProfile","_info","startMs","cat","dur","ph","tid","ts","_this$_stats","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","stat","traceEvents","GapJump","GapJump2","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","WaitingTimeoutJump2","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","TestSpeed2","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","saveSpeedMax","shift","realTimeSpeed","getSpeedName","updateSpeed","getSpeed","avgSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","FpsDetect2","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","tick","enoughBuffer","buffers","curDecodedFrames","checkInterval","hidden","_this$_checkBuffer","_checkBuffer","reportFrame","stuckCount","_reset","_media$getVideoPlayba","currTime","curDecoded","_checkStuck","DefaultPreset","DefaultPreset2","_this$plugins","_this$plugins2","_this$plugins3","simulateMode","contolsIcons","layers","PresetPlayer","PresetPlayer2","Xhr","Xhr2","Function","run","abort","PLAY_MODES","ORDER","SLOOP","LOOP","RANDOM","CLASS_NAME","_randomIndex","Music","Music2","change","abCycle","_initABCycle","halfPass","confirmOrder","Util","nextIndex","prevIndex","history","title","_curInfo","Events.TIME_UPDATE","_onTimeUpdate","Events.ENDED","_onEnded","Events.DURATION_CHANGE","offline","checkOffline","progresspreview","_start","_nextCompute","_prevCompute","timeScale","meta","typeof","removeAbCycle","offlineVid","_emitChange","openDB","getDataByKey","closeDB","preloadNext","addData","MusicCover","MusicCover2","_img2","_img","MusicBackward","MusicBackward2","music","backward","musicBackward","MusicPrev","MusicPrev2","prev","musicPrev","MusicForward","MusicForward2","musicForward","MusicNext","MusicNext2","musicNext","MusicMeta","MusicMeta2","MusicPreset","MusicPreset2","initMusicConfig","XgplayerProxy","cacheOptions","onFullscreenTouchend","invokeMethodAsync","initOptions","invokeVoid","setProp","togglePlay","force","toggleMuted","toMuted","getPropsAndStates","isFullscreen","isCssFullscreen","getMetadata","toMusic","HTMLAudioElement","musicOptions","Events.READY","toVideo","videoOptions","playerOptions","fullscreenEl","Mobile","Playbackrate","Xgplayer","Events.FULLSCREEN_CHANGE","Events.CSS_FULLSCREEN_CHANGE","Events.LOADED_DATA","metadata","Events.VIDEO_RESIZE","Events.PLAY","Events.PAUSE","Events.ERROR","fullScreen","dispose","MasaBlazor","includes"],"mappings":"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"}