@namespace Masa.Docs.Shared.Components

<div style="@Style" class="@($"default-chip {Class}")">
    @ChildContent
</div>

@code {

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public string TextColor { get; set; } = "white";

    [Parameter]
    public string? Color { get; set; }

    [Parameter]
    public string? Class { get; set; }

    [Parameter]
    public string? Style { get; set; }

    protected override void OnParametersSet()
    {
        base.OnParametersSet();

        if (Color is null) return;

        if (Color.StartsWith("#"))
        {
            Style ??= string.Empty;

            if (!Style.Contains("background-color"))
            {
                Style += $"background-color:{Color};";
            }
        }
        else
        {
            Class ??= string.Empty;
            if (!Class.Contains(Color))
            {
                Class += Color;
            }
        }
    }

    void GenClassAndStyle(string color)
    {
        if (color.StartsWith("#"))
        {
            Style ??= string.Empty;

            if (!Style.Contains("background-color"))
            {
                Style += $"background-color:{Color};";
            }
        }
        else
        {
            Class ??= string.Empty;

            if (!Class.Contains("lighten-5"))
            {
                Class += $"lighten-5 {Color}--text";
            }
        }
    }

}
