@page "/"

<MRow Justify="JustifyTypes.SpaceBetween">
    <div>
        <div class="subheading">
            Defined by array
        </div>
        <MDatePicker @bind-Value="date1"
                     Events="_arrayEvents"
                     EventColor='"green lighten-1"'>
        </MDatePicker>
    </div>
    <div>
        <div class="subheading">
            Defined by function
        </div>
        <MDatePicker @bind-Value="date2"
                     Events="FunctionEvents"
                     EventColor=''>
        </MDatePicker>
    </div>
</MRow>

@code {

    private DateOnly date1 = DateOnly.FromDateTime(DateTime.Now);
    private DateOnly date2 = DateOnly.FromDateTime(DateTime.Now);

    private DateOnly[] _arrayEvents;

    protected override void OnInitialized()
    {
        base.OnInitialized();

        _arrayEvents = Enumerable.Range(0, 6).Select(_ =>
        {
            var day = (int)Math.Ceiling(Random.Shared.NextDouble() * 30);
            Console.WriteLine($"day {day}");
            var now = DateTime.Now;
            return new DateOnly(now.Year, now.Month, day);
        }).ToArray();
    }

    private bool FunctionEvents(DateOnly date)
    {
        return new[] { 12, 17, 18 }.Contains(date.Day);
    }

    private string[] FunctionEventColor(DateOnly date)
    {
        
    }
}
